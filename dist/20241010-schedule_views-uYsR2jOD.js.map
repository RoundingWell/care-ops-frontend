{"version":3,"file":"20241010-schedule_views-uYsR2jOD.js","sources":["../src/js/mixins/multiselect-state_mixin.js","../src/js/apps/patients/patient/flow/flow_state.js","../src/js/apps/patients/patient/action/action_app.js","../src/js/views/patients/shared/bulk-edit/bulk-edit-action-body.hbs","../src/js/views/patients/shared/bulk-edit/bulk-edit-flow-body.hbs","../src/js/views/patients/shared/bulk-edit/bulk-edit_views.js","../src/js/apps/patients/sidebar/bulk-edit-actions_app.js","../src/js/views/patients/patient/flow/header.hbs","../src/js/views/patients/patient/flow/action-item.hbs","../src/js/views/patients/patient/flow/flow_views.js","../src/js/views/patients/shared/add-workflow/add-workflow_views.js","../src/js/apps/patients/patient/flow/flow_app.js","../src/js/apps/patients/patient/dashboard/add-workflow_app.js","../src/js/views/patients/patient/dashboard/action-item.hbs","../src/js/views/patients/patient/dashboard/flow-item.hbs","../src/js/views/patients/patient/dashboard/layout.hbs","../src/js/views/patients/patient/dashboard/dashboard_views.js","../src/js/apps/patients/patient/dashboard/dashboard_app.js","../src/js/views/patients/patient/archive/action-item.hbs","../src/js/views/patients/patient/archive/flow-item.hbs","../src/js/views/patients/patient/archive/archive_views.js","../src/js/apps/patients/patient/archive/archive_app.js","../src/js/views/patients/patient/patient_views.js","../src/js/apps/patients/patient/patient_app.js","../src/js/apps/patients/shared/filters_state.js","../src/js/views/patients/shared/list_views.js","../src/js/views/patients/schedule/layout.hbs","../src/js/views/patients/schedule/schedule_views.js"],"sourcesContent":["import { clone, keys, reduce } from 'underscore';\n\nimport Radio from 'backbone.radio';\n\n// Note: Requires a `getType` method to be defined on the model returning the entity name\n\nexport default {\n  setSelectedList(list, lastSelectedIndex) {\n    return this.set({\n      [`${ this.getType() }Selected`]: list,\n      lastSelectedIndex,\n    });\n  },\n  getSelectedList() {\n    return clone(this.get(`${ this.getType() }Selected`));\n  },\n  isSelected(model) {\n    const selectedList = this.getSelectedList();\n\n    return !!selectedList[model.id];\n  },\n  getSelected(collection) {\n    const selectedList = this.getSelectedList();\n\n    const collectionSelected = reduce(keys(selectedList), (selected, id) => {\n      if (selectedList[id] && collection.get(id)) {\n        selected.push({ id });\n      }\n\n      return selected;\n    }, []);\n\n    return Radio.request('entities', `${ this.getType() }:collection`, collectionSelected);\n  },\n  clearSelected() {\n    this.setSelectedList({}, null);\n\n    this.trigger('select:none');\n  },\n  selectRange(collection, selectedModel, shouldSelectMultiple) {\n    const isSelected = this.isSelected(selectedModel);\n    const selectedIndex = collection.findIndex(selectedModel);\n    const lastSelectedIndex = this.get('lastSelectedIndex');\n\n    if (!shouldSelectMultiple || lastSelectedIndex === null || isSelected) {\n      this.selectOne(selectedModel.id, !isSelected, selectedIndex);\n      return;\n    }\n\n    const minIndex = Math.min(selectedIndex, lastSelectedIndex);\n    const maxIndex = Math.max(selectedIndex, lastSelectedIndex);\n\n    const selectedIds = collection.map('id').slice(minIndex, maxIndex + 1);\n\n    this.selectMultiple(selectedIds, selectedIndex);\n  },\n  selectOne(selectedId, isSelected, selectedIndex) {\n    const selectedList = this.getSelectedList();\n\n    selectedList[selectedId] = isSelected;\n\n    this.setSelectedList(selectedList, isSelected ? selectedIndex : null);\n  },\n  selectMultiple(selectedIds, newLastSelectedIndex = null) {\n    const selectedList = this.getSelectedList();\n\n    const newSelectedList = selectedIds.reduce((selected, id) => {\n      selected[id] = true;\n      return selected;\n    }, selectedList);\n\n    this.setSelectedList(newSelectedList, newLastSelectedIndex);\n\n    this.trigger('select:multiple');\n  },\n};\n","import { extend } from 'underscore';\n\nimport Backbone from 'backbone';\n\nimport MultiselectStateMixin from 'js/mixins/multiselect-state_mixin';\n\nconst StateModel = Backbone.Model.extend({\n  defaults() {\n    return {\n      actionBeingEdited: null,\n      lastSelectedIndex: null,\n      actionsSelected: {},\n    };\n  },\n  isBeingEdited(model) {\n    return this.get('actionBeingEdited') === model.id;\n  },\n  getType() {\n    return 'actions';\n  },\n});\n\nextend(StateModel.prototype, MultiselectStateMixin);\n\nexport default StateModel;\n","import Radio from 'backbone.radio';\n\nimport intl from 'js/i18n';\n\nimport App from 'js/base/app';\n\nexport default App.extend({\n  beforeStart({ actionId, patientId }) {\n    return Radio.request('entities', 'fetch:actions:model', actionId);\n  },\n  onFail() {\n    Radio.request('alert', 'show:error', intl.patients.patient.actionApp.notFound);\n    this.stop();\n  },\n  onStart(options, action) {\n    const sidebar = Radio.request('sidebar', 'start', 'action', { action });\n\n    this.listenTo(sidebar, 'stop', this.stop);\n  },\n});\n","\n            import HandlebarsRuntime from 'handlebars/runtime';\n            export default HandlebarsRuntime.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditActionBodyTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n<div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditActionBodyTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n<div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditActionBodyTemplate\"))) && lookupProperty(stack1,\"dueDateLabel\")), depth0))\n    + \"</h4>\\n  <div class=\\\"flex flex-grow\\\">\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":30},\"end\":{\"line\":4,\"column\":55}}}) : helper)))\n    + \"<div class=\\\"flex-grow\\\" data-due-date-region></div>\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":54},\"end\":{\"line\":5,\"column\":79}}}) : helper)))\n    + \"<div class=\\\"flex-grow\\\" data-due-time-region></div>\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":54},\"end\":{\"line\":6,\"column\":79}}}) : helper)))\n    + \"</div>\\n</div>\\n<div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditActionBodyTemplate\"))) && lookupProperty(stack1,\"durationLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-duration-region></div></div>\\n\";\n},\"useData\":true});\n          ","\n            import HandlebarsRuntime from 'handlebars/runtime';\n            export default HandlebarsRuntime.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditFlowBodyTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n<div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditFlowBodyTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n<div class=\\\"flex u-margin--t-8 u-margin--b-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\"></h4><div class=\\\"flex-grow\\\" data-apply-owner-region></div></div>\\n\";\n},\"useData\":true});\n          ","import { bind, some } from 'underscore';\nimport Backbone from 'backbone';\nimport dayjs from 'dayjs';\nimport hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport { View } from 'marionette';\n\nimport intl from 'js/i18n';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/modals.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport Optionlist from 'js/components/optionlist';\n\nimport { StateComponent, OwnerComponent, DueComponent, TimeComponent, DurationComponent } from 'js/views/patients/shared/actions_views';\n\nimport BulkEditActionBodyTemplate from './bulk-edit-action-body.hbs';\nimport BulkEditFlowBodyTemplate from './bulk-edit-flow-body.hbs';\n\nconst i18n = intl.patients.shared.bulkEdit.bulkEditViews;\n\nfunction getIsOverdue(date, time) {\n  if (!date) return false;\n\n  const dueDateTime = dayjs(time ? `${ date } ${ time }` : date);\n\n  return dueDateTime.isBefore(dayjs(), 'day') || dueDateTime.isBefore(dayjs(), 'minute');\n}\n\nconst FlowsStateComponent = StateComponent.extend({\n  onPicklistSelect({ model }) {\n    // Selected done\n    if (model.isDone() && this.getOption('flows')) {\n      this.shouldSelectDone(model);\n      return;\n    }\n\n    this.setSelectedStatus(model);\n  },\n  shouldSelectDone(model) {\n    const flows = this.getOption('flows');\n    const flowsIncomplete = some(flows.invoke('isAllDone'), complete => !complete);\n\n    if (!flowsIncomplete) {\n      this.setSelectedStatus(model);\n      return;\n    }\n\n    // We must hide the droplist before showing the modal\n    this.popRegion.empty();\n\n    if (Radio.request('settings', 'get', 'require_done_flow')) {\n      Radio.request('modal', 'show:small', {\n        bodyText: i18n.flowsStateComponent.requireDoneModal.bodyText,\n        headingText: i18n.flowsStateComponent.requireDoneModal.headingText,\n        submitText: i18n.flowsStateComponent.requireDoneModal.submitText,\n        cancelText: false,\n        buttonClass: 'button--blue',\n      });\n      return;\n    }\n\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: i18n.flowsStateComponent.doneModal.bodyText,\n      headingText: i18n.flowsStateComponent.doneModal.headingText,\n      submitText: i18n.flowsStateComponent.doneModal.submitText,\n      onSubmit: () => {\n        this.setSelectedStatus(model);\n        modal.destroy();\n      },\n    });\n  },\n  setSelectedStatus(model) {\n    this.setState('selected', model);\n    this.popRegion.empty();\n  },\n});\n\nconst BulkEditButtonView = View.extend({\n  template: hbs`\n   <button class=\"button--blue js-bulk-edit\">\n      {{#if isFlowList}}\n        {{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditButtonView.editFlows\") itemCount=items.length}}\n      {{else}}\n        {{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditButtonView.editActions\") itemCount=items.length}}\n      {{/if}}\n    </button>\n    <span class=\"button--text js-cancel\">{{@intl.patients.shared.bulkEdit.bulkEditViews.bulkEditButtonView.cancel}}</span>\n  `,\n  templateContext() {\n    return {\n      isFlowList: this.getOption('isFlowType'),\n    };\n  },\n  triggers: {\n    'click .js-cancel': 'click:cancel',\n    'click .js-bulk-edit': 'click:edit',\n  },\n});\n\nconst BulkEditActionsHeaderView = View.extend({\n  className: 'modal__header--sidebar',\n  template: hbs`\n    <div class=\"flex\">\n      <div class=\"flex-grow\">\n      <h3 class=\"sidebar__heading\">{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditActionsHeaderView.headingText\") itemCount=items.length}}</h3>\n      </div>\n      <div>\n        {{#if isDevelop}}<button class=\"button--icon u-margin--r-8 js-menu\">{{far \"ellipsis\"}}</button>{{/if}}\n        <button class=\"button--icon js-close\">{{far \"xmark\"}}</button>\n      </div>\n    </div>\n  `,\n  templateContext() {\n    return {\n      isDevelop: _DEVELOP_ || _TEST_,\n    };\n  },\n  triggers: {\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const itemCount = this.collection.length;\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'confirm:delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: i18n.bulkEditActionsHeaderView.menuOptions.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditActionsHeaderView.menuOptions.delete\") itemCount=itemCount}}</span>`,\n      itemTemplateContext: { itemCount },\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  onConfirmDelete() {\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: i18n.confirmDeleteActionsModal.bodyText,\n      headingText: i18n.confirmDeleteActionsModal.headingText,\n      submitText: i18n.confirmDeleteActionsModal.submitText,\n      buttonClass: 'button--red',\n      onSubmit: () => {\n        modal.destroy();\n        this.triggerMethod('delete', this.collection);\n      },\n    });\n  },\n});\n\nconst BulkEditFlowsHeaderView = View.extend({\n  className: 'modal__header--sidebar',\n  template: hbs`\n    <div class=\"flex\">\n      <div class=\"flex-grow\">\n        <h3 class=\"sidebar__heading\">{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditFlowsHeaderView.headingText\") itemCount=items.length}}</h3>\n      </div>\n      <div>\n        <button class=\"button--icon u-margin--r-8 js-menu\">{{far \"ellipsis\"}}</button>\n        <button class=\"button--icon js-close\">{{far \"xmark\"}}</button>\n      </div>\n    </div>\n  `,\n  triggers: {\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const itemCount = this.collection.length;\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'confirm:delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: i18n.bulkEditFlowsHeaderView.menuOptions.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditFlowsHeaderView.menuOptions.delete\") itemCount=itemCount}}</span>`,\n      itemTemplateContext: { itemCount },\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  onConfirmDelete() {\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: i18n.confirmDeleteFlowsModal.bodyText,\n      headingText: i18n.confirmDeleteFlowsModal.headingText,\n      submitText: i18n.confirmDeleteFlowsModal.submitText,\n      buttonClass: 'button--red',\n      onSubmit: () => {\n        modal.destroy();\n        this.triggerMethod('delete', this.collection);\n      },\n    });\n  },\n});\n\nconst BulkEditActionsBodyView = View.extend({\n  modelEvents: {\n    'change:stateMulti': 'showState',\n    'change:ownerMulti': 'showOwner',\n    'change:dateMulti': 'showDueDateTime',\n    'change:date': 'showDueDateTime',\n    'change:timeMulti': 'showDueTime',\n    'change:durationMulti': 'showDuration',\n  },\n  className: 'modal__content--sidebar',\n  template: BulkEditActionBodyTemplate,\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDate: '[data-due-date-region]',\n    dueTime: '[data-due-time-region]',\n    duration: '[data-duration-region]',\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n    this.showDueDateTime();\n    this.showDuration();\n  },\n  getStateComponent() {\n    if (this.model.get('stateMulti')) {\n      return new StateComponent({\n        viewOptions: {\n          className: 'button-secondary w-100',\n          template: hbs`{{fas \"circle-dot\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkStateDefaultText }}</span>`,\n        },\n      });\n    }\n\n    return new StateComponent({ stateId: this.model.get('stateId') });\n  },\n  getOwnerComponent() {\n    const isDisabled = this.model.someComplete();\n\n    if (this.model.get('ownerMulti')) {\n      return new OwnerComponent({\n        viewOptions: {\n          attributes: {\n            disabled: isDisabled,\n          },\n          className: 'button-secondary w-100',\n          template: hbs`{{far \"circle-user\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkOwnerDefaultText }}</span>`,\n        },\n      });\n    }\n\n    return new OwnerComponent({\n      owner: this.model.get('owner'),\n      workspaces: this.model.get('workspaces'),\n      state: { isDisabled },\n    });\n  },\n  getDueDateComponent() {\n    const isDisabled = this.model.someComplete();\n\n    if (this.model.get('dateMulti')) {\n      return new DueComponent({\n        state: { isDisabled },\n        viewOptions: {\n          attributes: {\n            disabled: isDisabled,\n          },\n          tagName: 'button',\n          className: 'button-secondary w-100 due-component',\n          triggers: {\n            'click': 'click',\n          },\n          template: hbs`{{far \"calendar-days\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkDueDateDefaultText }}</span>`,\n        },\n      });\n    }\n\n    const isOverdue = getIsOverdue(this.model.get('date'));\n\n    return new DueComponent({\n      date: this.model.get('date'),\n      state: { isDisabled },\n      isOverdue,\n    });\n  },\n  getDueTimeComponent() {\n    if (this.model.get('timeMulti')) {\n      return new TimeComponent({\n        viewOptions: {\n          attributes: {\n            disabled: this.model.get('dateMulti') || this.model.someComplete(),\n          },\n          className: 'button-secondary time-component w-100',\n          template: hbs`{{far \"clock\"}} <span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkDueTimeDefaultText }}</span>`,\n        },\n      });\n    }\n\n    const time = this.model.get('time');\n    const isDisabled = (this.model.get('dateMulti') && !time) || !this.model.get('date') || this.model.someComplete();\n    const isOverdue = getIsOverdue(this.model.get('date'), time);\n\n    return new TimeComponent({\n      time,\n      state: { isDisabled },\n      isOverdue,\n    });\n  },\n  getDurationComponent() {\n    const isDisabled = this.model.someComplete();\n\n    if (this.model.get('durationMulti')) {\n      return new DurationComponent({\n        viewOptions: {\n          className: 'button-secondary w-100',\n          attributes: {\n            disabled: isDisabled,\n          },\n          template: hbs`{{far \"stopwatch\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkDurationDefaultText }}</span>`,\n        },\n      });\n    }\n\n    return new DurationComponent({\n      duration: this.model.get('duration'),\n      state: { isDisabled },\n    });\n  },\n  showState() {\n    const stateComponent = this.getStateComponent();\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.setState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const ownerComponent = this.getOwnerComponent();\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.setOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDueDateTime() {\n    this.showDueDate();\n    this.showDueTime();\n  },\n  showDueDate() {\n    const dueDateComponent = this.getDueDateComponent();\n\n    this.listenTo(dueDateComponent, 'change:due', date => {\n      this.model.setDueDate(date);\n    });\n\n    this.showChildView('dueDate', dueDateComponent);\n  },\n  showDueTime() {\n    const dueTimeComponent = this.getDueTimeComponent();\n\n    this.listenTo(dueTimeComponent, 'change:time', time => {\n      this.model.setDueTime(time);\n    });\n\n    this.showChildView('dueTime', dueTimeComponent);\n  },\n  showDuration() {\n    const durationComponent = this.getDurationComponent();\n\n    this.listenTo(durationComponent, 'change:duration', duration => {\n      this.model.setDuration(duration);\n    });\n\n    this.showChildView('duration', durationComponent);\n  },\n});\n\nconst ApplyOwnerView = View.extend({\n  modelEvents: {\n    'change:applyOwner': 'render',\n    'change:ownerMulti': 'render',\n  },\n  className: 'u-margin--t-4 u-margin--l-16',\n  template: hbs`\n    <button class=\"button--checkbox js-apply-owner\"{{#if ownerMulti}} disabled{{/if}}>\n      {{#if applyOwner}}{{fas \"square-check\"}}{{else}}{{fal \"square\"}}{{/if~}}\n      <span>{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkEditFlowBodyTemplate.applyOwnerLabel }}</span>\n    </button>`,\n  triggers: {\n    'click .js-apply-owner': 'click:select',\n  },\n  onClickSelect() {\n    this.model.set('applyOwner', !this.model.get('applyOwner'));\n  },\n});\n\nconst BulkEditFlowsBodyView = View.extend({\n  modelEvents: {\n    'change:stateMulti': 'showState',\n    'change:ownerMulti': 'showOwner',\n  },\n  className: 'modal__content--sidebar',\n  template: BulkEditFlowBodyTemplate,\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    applyOwner: '[data-apply-owner-region]',\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n    this.showApplyOwner();\n  },\n  getStateComponent() {\n    if (this.model.get('stateMulti')) {\n      return new FlowsStateComponent({\n        flows: this.collection,\n        viewOptions: {\n          className: 'button-secondary w-100',\n          template: hbs`{{fas \"circle-dot\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkStateDefaultText }}</span>`,\n        },\n      });\n    }\n\n    return new FlowsStateComponent({\n      flows: this.collection,\n      stateId: this.model.get('stateId'),\n    });\n  },\n  getOwnerComponent() {\n    const isDisabled = this.model.someComplete();\n\n    if (this.model.get('ownerMulti')) {\n      return new OwnerComponent({\n        viewOptions: {\n          className: 'button-secondary w-100',\n          template: hbs`{{far \"circle-user\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkOwnerDefaultText }}</span>`,\n        },\n        state: { isDisabled },\n      });\n    }\n\n    return new OwnerComponent({\n      owner: this.model.get('owner'),\n      workspaces: this.model.get('workspaces'),\n      state: { isDisabled },\n    });\n  },\n  showState() {\n    const stateComponent = this.getStateComponent();\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.setState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const ownerComponent = this.getOwnerComponent();\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.setOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showApplyOwner() {\n    this.showChildView('applyOwner', new ApplyOwnerView({\n      model: this.model,\n    }));\n  },\n});\n\nconst BulkEditFlowsSuccessTemplate = hbs`{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditFlowsSuccess\") itemCount=itemCount}}`;\n\nconst BulkEditActionsSuccessTemplate = hbs`{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditActionsSuccess\") itemCount=itemCount}}`;\n\nconst BulkDeleteFlowsSuccessTemplate = hbs`{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkDeleteFlowsSuccess\") itemCount=itemCount}}`;\n\nconst BulkDeleteActionsSuccessTemplate = hbs`{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkDeleteActionsSuccess\") itemCount=itemCount}}`;\n\nexport {\n  BulkEditButtonView,\n  BulkEditActionsHeaderView,\n  BulkEditFlowsHeaderView,\n  BulkEditActionsBodyView,\n  BulkEditFlowsBodyView,\n  BulkEditFlowsSuccessTemplate,\n  BulkEditActionsSuccessTemplate,\n  BulkDeleteFlowsSuccessTemplate,\n  BulkDeleteActionsSuccessTemplate,\n};\n","import { partial, pick } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\nimport { BulkEditActionsBodyView, BulkEditActionsHeaderView } from 'js/views/patients/shared/bulk-edit/bulk-edit_views';\n\nconst StateModel = Backbone.Model.extend({\n  initialize({ collection }) {\n    const initModel = collection.at(0);\n    this.initBulkState(collection, initModel);\n    this.initBulkOwner(collection, initModel);\n    this.initBulkDueDate(collection, initModel);\n    this.initBulkDueTime(collection, initModel);\n    this.initBulkDuration(collection, initModel);\n  },\n  initBulkState(collection, initModel) {\n    const stateId = initModel.getState().id;\n    const stateMulti = collection.some(item => {\n      return item.getState().id !== stateId;\n    });\n\n    this.set({\n      stateMulti,\n      stateId: stateMulti ? null : stateId,\n    });\n  },\n  initBulkOwner(collection, initModel) {\n    const owner = initModel.getOwner();\n    const program = initModel.getProgram();\n    const ownerMulti = collection.some(item => {\n      const differentOwners = item.getOwner().id !== owner.id;\n      const differentPrograms = item.getProgram().id !== program.id;\n      return differentOwners || differentPrograms;\n    });\n\n    this.set({\n      ownerMulti,\n      owner: ownerMulti ? null : owner,\n      workspaces: program.getUserWorkspaces(),\n    });\n  },\n  initBulkDueDate(collection, initModel) {\n    const date = initModel.get('due_date');\n    const dateMulti = collection.some(item => {\n      return item.get('due_date') !== date;\n    });\n\n    this.set({\n      dateMulti,\n      date: dateMulti ? null : date,\n    });\n  },\n  initBulkDueTime(collection, initModel) {\n    const time = initModel.get('due_time');\n    const timeMulti = collection.some(item => {\n      return item.get('due_time') !== time;\n    });\n\n    this.set({\n      timeMulti,\n      time: timeMulti ? null : time,\n    });\n  },\n  initBulkDuration(collection, initModel) {\n    const duration = initModel.get('duration');\n    const durationMulti = collection.some(item => {\n      return item.get('duration') !== duration;\n    });\n\n    this.set({\n      durationMulti,\n      duration: durationMulti ? null : duration,\n    });\n  },\n  setState(state) {\n    return this.set({ stateId: state.id, stateMulti: false, stateChanged: true });\n  },\n  setOwner(owner) {\n    return this.set({ owner, ownerMulti: false, ownerChanged: true });\n  },\n  setDueDate(date) {\n    if (!date) {\n      return this.set({ date: null, time: null, dateMulti: false, timeMulti: false });\n    }\n    return this.set({ date: date.format('YYYY-MM-DD'), dateMulti: false, dateChanged: true });\n  },\n  setDueTime(time) {\n    return this.set({ time: time || null, timeMulti: false, timeChanged: true });\n  },\n  setDuration(duration) {\n    return this.set({ duration, durationMulti: false, durationChanged: true });\n  },\n  someComplete() {\n    return this.get('collection').some(item => {\n      return item.isDone();\n    });\n  },\n  getData() {\n    const {\n      stateChanged,\n      stateId,\n      ownerChanged,\n      owner,\n      dateChanged,\n      date,\n      timeChanged,\n      time,\n      durationChanged,\n      duration,\n    } = this.attributes;\n\n    const saveData = {};\n\n    if (stateChanged) saveData._state = stateId;\n    if (ownerChanged) saveData._owner = pick(owner, 'id', 'type');\n    if (dateChanged) saveData.due_date = date;\n    if (timeChanged) saveData.due_time = time;\n    if (durationChanged) saveData.duration = duration;\n\n    return saveData;\n  },\n});\n\nexport default App.extend({\n  StateModel,\n  onStart() {\n    const headerView = new BulkEditActionsHeaderView({\n      collection: this.getState('collection'),\n    });\n    const bodyView = new BulkEditActionsBodyView({\n      model: this.getState(),\n      collection: this.getState('collection'),\n    });\n\n    this.modal = Radio.request('modal', 'show:sidebar', {\n      headerView,\n      bodyView,\n      onSubmit: this.onSubmit.bind(this),\n    });\n\n    this.listenTo(headerView, {\n      'delete': partial(this.triggerMethod, 'delete'),\n    });\n\n    this.listenTo(this.modal, {\n      'destroy': this.stop,\n    });\n  },\n  onSubmit() {\n    this.modal.disableSubmit();\n    this.triggerMethod('save', this.getState().getData());\n  },\n  onStop() {\n    this.modal.destroy();\n  },\n});\n","\n            import HandlebarsRuntime from 'handlebars/runtime';\n            export default HandlebarsRuntime.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h1 class=\\\"patient-flow__name\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder-open\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":31},\"end\":{\"line\":1,\"column\":52}}}))\n    + \" \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":53},\"end\":{\"line\":1,\"column\":63}}}) : helper)))\n    + \"</h1>\\n<table class=\\\"table-list\\\">\\n  <td class=\\\"patient-flow__details\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":36},\"end\":{\"line\":3,\"column\":49}}}) : helper)))\n    + \"</td>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":54},\"end\":{\"line\":3,\"column\":79}}}) : helper)))\n    + \"<td class=\\\"patient-flow__meta\\\">\\n    <span class=\\\"table-list__meta\\\" data-state-region></span>\\n    <span class=\\\"table-list__meta\\\" data-owner-region></span>\\n    <progress class=\\\"js-progress progress-bar patient-flow__progress\\\" value=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"complete\") : stack1), depth0))\n    + \" max=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"total\") : stack1), depth0))\n    + \"></progress>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":138},\"end\":{\"line\":7,\"column\":163}}}) : helper)))\n    + \"</td>\\n</table>\\n\";\n},\"useData\":true});\n          ","\n            import HandlebarsRuntime from 'handlebars/runtime';\n            export default HandlebarsRuntime.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<em>\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"newAction\")), depth0))\n    + \"</em>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"patient__action-attachment\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"paperclip\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":65},\"end\":{\"line\":17,\"column\":84}}}))\n    + \"</span>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell table-list__item-check js-no-click\\\"><span data-check-region></span></td>\\n<td class=\\\"table-list__cell\\\">\\n  <span class=\\\"patient__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":49}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":56},\"end\":{\"line\":3,\"column\":81}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\\n    \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":14}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":14},\"end\":{\"line\":5,\"column\":39}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":4},\"end\":{\"line\":6,\"column\":105}}})) != null ? stack1 : \"\")\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell patient__list-meta\\\">\\n  <span class=\\\"table-list__meta\\\" data-state-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":58},\"end\":{\"line\":10,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":58},\"end\":{\"line\":11,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":33},\"end\":{\"line\":12,\"column\":58}}}) : helper)))\n    + \"<span data-due-date-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":38},\"end\":{\"line\":13,\"column\":63}}}) : helper)))\n    + \"<span data-due-time-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":38},\"end\":{\"line\":14,\"column\":63}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":9},\"end\":{\"line\":15,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-form-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":57},\"end\":{\"line\":16,\"column\":82}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasAttachments\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":2},\"end\":{\"line\":17,\"column\":98}}})) != null ? stack1 : \"\")\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":98},\"end\":{\"line\":17,\"column\":123}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":35},\"end\":{\"line\":18,\"column\":78}}}))\n    + \"</span>\\n</td>\\n\";\n},\"useData\":true});\n          ","import { debounce } from 'underscore';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport 'scss/modules/progress-bar.scss';\nimport 'scss/modules/table-list.scss';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport { CheckComponent, StateComponent, OwnerComponent, DueComponent, TimeComponent, FormButton } from 'js/views/patients/shared/actions_views';\nimport { FlowStateComponent, OwnerComponent as FlowOwnerComponent } from 'js/views/patients/shared/flows_views';\nimport { ReadOnlyStateView, ReadOnlyOwnerView, ReadOnlyDueDateView, ReadOnlyDueTimeView } from 'js/views/patients/shared/read-only_views';\n\nimport HeaderTemplate from './header.hbs';\nimport ActionItemTemplate from './action-item.hbs';\n\nimport '../patient.scss';\nimport './patient-flow.scss';\n\nconst ContextTrailView = View.extend({\n  initialize() {\n    this.patient = this.model.getPatient();\n  },\n  className: 'patient-flow__context-trail',\n  template: hbs`\n    {{#if hasLatestList}}\n      <a class=\"js-back patient-flow__context-link\">\n        {{fas \"chevron-left\"}}{{ @intl.patients.patient.flowViews.contextBackBtn }}\n      </a>\n      {{fas \"chevron-right\"}}\n    {{/if}}\n    <a class=\"js-patient patient-flow__context-link\">{{ firstName }} {{ lastName }}</a>{{fas \"chevron-right\"}}{{ name }}\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n    'click .js-patient': 'click:patient',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:latestList');\n  },\n  onClickPatient() {\n    Radio.trigger('event-router', 'patient:dashboard', this.patient.id);\n  },\n  templateContext() {\n    return {\n      hasLatestList: Radio.request('history', 'has:latestList'),\n      firstName: this.patient.get('first_name'),\n      lastName: this.patient.get('last_name'),\n    };\n  },\n});\n\nconst HeaderView = View.extend({\n  className: 'patient-flow__header',\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'render',\n    'change:_progress': 'onChangeFlowProgress',\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n  template: HeaderTemplate,\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n  },\n  triggers: {\n    'click': 'edit',\n  },\n  ui: {\n    progress: '.js-progress',\n  },\n  onRender() {\n    this.canEdit = this.model.canEdit();\n\n    this.showState();\n    this.showOwner();\n  },\n  showState() {\n    if (!this.canEdit) {\n      const readOnlyStateView = new ReadOnlyStateView({ model: this.model, isCompact: true });\n      this.showChildView('state', readOnlyStateView);\n      return;\n    }\n\n    const stateComponent = new FlowStateComponent({\n      flow: this.model,\n      stateId: this.model.get('_state'),\n      isCompact: true,\n    });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    if (!this.canEdit) {\n      const readOnlyOwnerView = new ReadOnlyOwnerView({ model: this.model, isCompact: true });\n      this.showChildView('owner', readOnlyOwnerView);\n      return;\n    }\n\n    const isDisabled = this.model.isDone();\n    const program = this.model.getProgram();\n    const ownerComponent = new FlowOwnerComponent({\n      owner: this.model.getOwner(),\n      workspaces: program.getUserWorkspaces(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  onChangeFlowProgress() {\n    const prog = this.model.get('_progress');\n    this.ui.progress.attr({ value: prog.complete, max: prog.total });\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"patient-flow__empty-list\">\n      <h2>{{ @intl.patients.patient.flowViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ActionItemView = View.extend({\n  className: 'table-list__item',\n  modelEvents: {\n    'change': 'render',\n    'editing': 'onEditing',\n  },\n  initialize({ state }) {\n    this.state = state;\n\n    this.listenTo(state, {\n      'select:multiple': this.showCheck,\n      'select:none': this.showCheck,\n    });\n\n    this.flow = this.model.getFlow();\n\n    this.listenTo(this.flow, {\n      'change:_state': this.render,\n    });\n  },\n  template: ActionItemTemplate,\n  templateContext() {\n    return {\n      hasForm: this.model.getForm(),\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n      hasAttachments: this.model.hasAttachments(),\n    };\n  },\n  tagName: 'tr',\n  regions: {\n    check: '[data-check-region]',\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDate: '[data-due-date-region]',\n    dueTime: '[data-due-time-region]',\n    form: '[data-form-region]',\n  },\n  triggers: {\n    'click': 'click',\n    'click .js-no-click': 'prevent-row-click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'flow:action', this.model.get('_flow'), this.model.id);\n  },\n  onEditing(isEditing) {\n    const isSelected = this.state.isSelected(this.model);\n\n    if (isSelected) return;\n\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n  onRender() {\n    const canEdit = this.canEdit;\n    this.canEdit = !this.flow.isDone() && this.model.canEdit();\n\n    this.showCheck();\n    this.showState();\n    this.showOwner();\n    this.showDueDate();\n    this.showDueTime();\n    this.showForm();\n\n    if (canEdit !== this.canEdit) {\n      if (!this.canEdit) this.toggleSelected(false);\n      this.triggerMethod('change:canEdit');\n    }\n  },\n  toggleSelected(isSelected) {\n    const isBeingEdited = this.state.isBeingEdited(this.model);\n\n    if (isBeingEdited) return;\n\n    this.$el.toggleClass('is-selected', isSelected);\n  },\n  showCheck() {\n    if (!this.canEdit) return;\n\n    const isSelected = this.state.isSelected(this.model);\n    this.toggleSelected(isSelected);\n    const checkComponent = new CheckComponent({ state: { isSelected } });\n\n    this.listenTo(checkComponent, {\n      'select'(domEvent) {\n        this.triggerMethod('select', this, !!domEvent.shiftKey);\n      },\n      'change:isSelected': this.toggleSelected,\n    });\n\n    this.showChildView('check', checkComponent);\n  },\n  showState() {\n    if (!this.canEdit) {\n      const readOnlyStateView = new ReadOnlyStateView({ model: this.model, isCompact: true });\n      this.showChildView('state', readOnlyStateView);\n      return;\n    }\n\n    this.stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true });\n\n    this.listenTo(this.stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', this.stateComponent);\n  },\n  showOwner() {\n    if (!this.canEdit) {\n      const readOnlyOwnerView = new ReadOnlyOwnerView({ model: this.model, isCompact: true });\n      this.showChildView('owner', readOnlyOwnerView);\n      return;\n    }\n\n    const isDisabled = this.model.isDone();\n    const program = this.model.getProgram();\n    this.ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      workspaces: program.getUserWorkspaces(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(this.ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', this.ownerComponent);\n  },\n  showDueDate() {\n    if (!this.canEdit) {\n      const readOnlyOwnerView = new ReadOnlyDueDateView({ model: this.model });\n      this.showChildView('dueDate', readOnlyOwnerView);\n      return;\n    }\n\n    const isDisabled = this.model.isDone();\n    this.dueDateComponent = new DueComponent({\n      date: this.model.get('due_date'),\n      isCompact: true,\n      state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(this.dueDateComponent, 'change:due', date => {\n      this.model.saveDueDate(date);\n    });\n\n    this.showChildView('dueDate', this.dueDateComponent);\n  },\n  showDueTime() {\n    if (!this.canEdit) {\n      const readOnlyOwnerView = new ReadOnlyDueTimeView({ model: this.model });\n      this.showChildView('dueTime', readOnlyOwnerView);\n      return;\n    }\n\n    const isDisabled = this.model.isDone() || !this.model.get('due_date');\n    this.dueTimeComponent = new TimeComponent({\n      time: this.model.get('due_time'),\n      isCompact: true, state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(this.dueTimeComponent, 'change:time', time => {\n      this.model.saveDueTime(time);\n    });\n\n    this.showChildView('dueTime', this.dueTimeComponent);\n  },\n  showForm() {\n    if (!this.model.getForm()) return;\n\n    this.showChildView('form', new FormButton({ model: this.model }));\n  },\n});\n\nconst ListView = CollectionView.extend({\n  className: 'table-list patient-flow__list',\n  tagName: 'table',\n  childView: ActionItemView,\n  childViewOptions() {\n    return {\n      state: this.getOption('state'),\n    };\n  },\n  childViewTriggers: {\n    'select': 'select',\n    'change:canEdit': 'listItem:canEdit',\n  },\n  emptyView: EmptyView,\n  viewComparator({ model }) {\n    return model.get('sequence');\n  },\n  initialize({ state, editableCollection }) {\n    this.state = state;\n    this.editableCollection = editableCollection;\n\n    this.onListItemCanEdit = debounce(this.onListItemCanEdit, 60);\n  },\n  onListItemCanEdit() {\n    // NOTE: debounced in initialize\n    this.triggerMethod('change:canEdit');\n  },\n  onSelect(selectedView, isShiftKeyPressed) {\n    this.state.selectRange(this.editableCollection, selectedView.model, isShiftKeyPressed);\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'patient-flow__frame',\n  template: hbs`\n    <div class=\"patient-flow__layout\">\n      <div data-context-trail-region></div>\n      <div data-header-region></div>\n      <div class=\"patient-flow__actions\">\n        <div data-select-all-region></div>\n        <div data-tools-region></div>\n      </div>\n      <div data-action-list-region></div>\n    </div>\n    <div class=\"patient-flow__sidebar\" data-sidebar-region></div>\n  `,\n  regions: {\n    contextTrail: {\n      el: '[data-context-trail-region]',\n      replaceElement: true,\n    },\n    header: '[data-header-region]',\n    sidebar: '[data-sidebar-region]',\n    actionList: {\n      el: '[data-action-list-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n    tools: {\n      el: '[data-tools-region]',\n      replaceElement: true,\n    },\n    selectAll: {\n      el: '[data-select-all-region]',\n      replaceElement: true,\n    },\n  },\n});\n\nconst SelectAllView = View.extend({\n  tagName: 'button',\n  className: 'button--checkbox u-margin--r-16',\n  attributes() {\n    if (this.getOption('isDisabled')) return { disabled: 'disabled' };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  getTemplate() {\n    if (this.getOption('isSelectAll')) return hbs`{{fas \"square-check\"}}`;\n    if (this.getOption('isSelectNone') || this.getOption('isDisabled')) return hbs`{{fal \"square\"}}`;\n\n    return hbs`{{fas \"square-minus\"}}`;\n  },\n});\n\nexport {\n  LayoutView,\n  ContextTrailView,\n  HeaderView,\n  ListView,\n  SelectAllView,\n};\n","import { View } from 'marionette';\n\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport Optionlist from 'js/components/optionlist';\n\nimport intl from 'js/i18n';\n\nimport './add-workflow.scss';\n\nconst i18n = intl.patients.shared.addWorkflow.addWorkflowViews;\n\nconst AddWorkflowOptlist = Optionlist.extend({\n  popWidth: 248,\n  isSelectlist: true,\n  placeholderText: i18n.addWorkflowOptlist.placeholderText,\n  itemTemplateContext() {\n    const isProgramAction = this.model.get('itemType') === 'program-actions';\n    const actionIcon = this.model.get('hasOutreach') ? 'share-from-square' : 'file-lines';\n    return {\n      icon: {\n        icon: isProgramAction ? actionIcon : 'folder',\n        type: isProgramAction ? 'far' : 'fas',\n        classes: 'add-workflow__picklist-icon',\n      },\n    };\n  },\n});\n\nconst AddButtonView = View.extend({\n  tagName: 'button',\n  className: 'button-primary',\n  headingText: i18n.addWorkflowOptlist.headingText,\n  template: hbs`{{far \"circle-plus\"}}<span>{{ @intl.patients.shared.addWorkflow.addWorkflowViews.addButtonView.label }}</span>{{far \"angle-down\"}}`,\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    const optionlist = new AddWorkflowOptlist({\n      headingText: this.getOption('headingText'),\n      ui: this.$el,\n      uiView: this,\n      lists: this.getOption('lists'),\n    });\n\n    optionlist.show();\n  },\n});\n\nconst itemClasses = {\n  new: 'u-text--italic',\n  noResults: 'picklist--no-results',\n};\n\nexport {\n  AddButtonView,\n  i18n,\n  itemClasses,\n};\n","import { bind, invoke } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport intl, { renderTemplate } from 'js/i18n';\n\nimport SubRouterApp from 'js/base/subrouterapp';\n\nimport StateModel from './flow_state';\n\nimport ActionApp from 'js/apps/patients/patient/action/action_app';\nimport BulkEditActionsApp from 'js/apps/patients/sidebar/bulk-edit-actions_app';\nimport PatientSidebarApp from 'js/apps/patients/patient/sidebar/sidebar_app';\n\nimport { LayoutView, ContextTrailView, HeaderView, ListView, SelectAllView } from 'js/views/patients/patient/flow/flow_views';\nimport { BulkEditButtonView, BulkEditActionsSuccessTemplate, BulkDeleteActionsSuccessTemplate } from 'js/views/patients/shared/bulk-edit/bulk-edit_views';\nimport { AddButtonView, i18n } from 'js/views/patients/shared/add-workflow/add-workflow_views';\n\nexport default SubRouterApp.extend({\n  StateModel,\n  routerAppName: 'FlowApp',\n  childApps: {\n    action: ActionApp,\n    patient: PatientSidebarApp,\n    bulkEditActions: BulkEditActionsApp,\n  },\n  eventRoutes: {\n    'flow:action': 'showActionSidebar',\n  },\n  stateEvents: {\n    'change:actionsSelected': 'onChangeSelected',\n  },\n  onChangeSelected() {\n    this.toggleBulkSelect();\n  },\n  onBeforeStart() {\n    this.resetStateDefaults();\n    this.showView(new LayoutView());\n  },\n  beforeStart({ flowId }) {\n    return [\n      Radio.request('entities', 'fetch:flows:model', flowId),\n      Radio.request('entities', 'fetch:actions:collection:byFlow', flowId),\n      Radio.request('entities', 'fetch:patients:model:byFlow', flowId),\n    ];\n  },\n  onFail() {\n    Radio.trigger('event-router', 'notFound');\n    this.stop();\n  },\n  onStart({ currentRoute }, flow, actions, patient) {\n    this.flow = flow;\n    this.actions = actions;\n    this.editableCollection = actions.clone();\n    this.patient = patient;\n    this.addOpts = this.getAddOpts(this.flow.getProgramFlow());\n\n    this.subscribe();\n\n    this.showChildView('contextTrail', new ContextTrailView({\n      model: this.flow,\n    }));\n\n    this.listenTo(this.editableCollection, 'reset', this.toggleBulkSelect);\n    this.toggleBulkSelect();\n\n    this.showHeader();\n    this.showActionList();\n    this.showSidebar();\n\n    this.listenTo(this.actions, {\n      'change:_state': this.onActionChangeState,\n      'destroy': this.onActionDestroy,\n    });\n\n    this.listenTo(this.flow, {\n      'change:_owner': this.onFlowChangeOwner,\n      'message': this.onFlowMessage,\n    });\n\n    this.startRoute(currentRoute);\n  },\n  subscribe() {\n    Radio.request('ws', 'subscribe', invoke([this.flow, ...this.actions.models], 'getResource'));\n  },\n  _setFlowProgress() {\n    const complete = this.actions.filter(action => action.isDone()).length;\n    const total = this.actions.length;\n\n    this.flow.set({ _progress: { complete, total } });\n  },\n  _addAction(action) {\n    this.actions.add(action);\n    this.editableCollection.add(action);\n\n    this.subscribe();\n\n    this._setFlowProgress();\n  },\n  onActionChangeState() {\n    this._setFlowProgress();\n  },\n  onActionDestroy() {\n    this._setFlowProgress();\n  },\n  onFlowMessage({ category, payload }) {\n    if (category !== 'ActionCreated') return;\n    const { action } = payload;\n\n    const fetchAction = Radio.request('entities', 'fetch:actions:model', action.id);\n    fetchAction.then(bind(this._addAction, this));\n  },\n  onFlowChangeOwner(flow, _owner) {\n    if (_owner.type === 'teams') return;\n    const ownerTeam = flow.getOwner().getTeam();\n    this.actions.each(action => {\n      if (!action.isDone() && action.getOwner() === ownerTeam) action.set({ _owner });\n    });\n  },\n  showHeader() {\n    const headerView = new HeaderView({\n      model: this.flow,\n    });\n\n    this.listenTo(headerView, {\n      'edit': this.onEditFlow,\n    });\n\n    this.showChildView('header', headerView);\n  },\n\n  getAddOpts(programFlow) {\n    return programFlow.getAddableActions().map(action => {\n      return {\n        text: action.get('name'),\n        itemType: action.type,\n        hasOutreach: action.hasOutreach(),\n        onSelect: bind(this.triggerMethod, this, 'add:programAction', action),\n      };\n    });\n  },\n\n  showAdd() {\n    this.showChildView('tools', new AddButtonView({\n      headingText: i18n.addActionHeadingText,\n      lists: [{ collection: new Backbone.Collection(this.addOpts) }],\n    }));\n  },\n\n  toggleBulkSelect() {\n    this.selected = this.getState().getSelected(this.editableCollection);\n\n    this.showSelectAll();\n\n    if (this.selected.length) {\n      this.showBulkEditButtonView();\n      return;\n    }\n\n    this.showAdd();\n  },\n  showBulkEditButtonView() {\n    const bulkEditButtonView = new BulkEditButtonView({\n      tagName: 'span',\n      collection: this.selected,\n    });\n\n    this.listenTo(bulkEditButtonView, {\n      'click:cancel': this.onClickBulkCancel,\n      'click:edit': this.onClickBulkEdit,\n    });\n\n    this.showChildView('tools', bulkEditButtonView);\n  },\n  onClickBulkCancel() {\n    this.getState().clearSelected();\n  },\n  onClickBulkEdit() {\n    const app = this.startChildApp('bulkEditActions', {\n      state: { collection: this.selected },\n    });\n\n    this.listenTo(app, {\n      'save'(saveData) {\n        const itemCount = this.selected.length;\n\n        this.selected.save(saveData)\n          .then(() => {\n            this.showUpdateSuccess(itemCount);\n            app.stop();\n            this.getState().clearSelected();\n          })\n          .catch(() => {\n            Radio.request('alert', 'show:error', intl.patients.worklist.worklistApp.bulkEditFailure);\n            this.getState().clearSelected();\n            this.restart();\n          });\n      },\n      'delete'() {\n        const itemCount = this.selected.length;\n\n        this.selected.destroy().then(() => {\n          this.showDeleteSuccess(itemCount);\n          app.stop();\n          this.getState().clearSelected();\n        });\n      },\n    });\n  },\n  showDeleteSuccess(itemCount) {\n    Radio.request('alert', 'show:success', renderTemplate(BulkDeleteActionsSuccessTemplate, { itemCount }));\n  },\n  showUpdateSuccess(itemCount) {\n    Radio.request('alert', 'show:success', renderTemplate(BulkEditActionsSuccessTemplate, { itemCount }));\n  },\n  showDisabledSelectAll() {\n    this.showChildView('selectAll', new SelectAllView({ isDisabled: true }));\n  },\n  showSelectAll() {\n    if (!this.editableCollection.length) {\n      this.showDisabledSelectAll();\n      return;\n    }\n\n    const selectAllView = new SelectAllView({\n      isSelectAll: this.selected.length === this.editableCollection.length,\n      isSelectNone: !this.selected.length,\n    });\n\n    this.listenTo(selectAllView, 'click', this.onClickBulkSelect);\n\n    this.showChildView('selectAll', selectAllView);\n  },\n  onClickBulkSelect() {\n    if (this.selected.length === this.editableCollection.length) {\n      this.getState().clearSelected();\n      return;\n    }\n\n    this.getState().selectMultiple(this.editableCollection.map('id'));\n  },\n\n  onAddProgramAction(programAction) {\n    const action = programAction.getAction({ flowId: this.flow.id });\n    action.saveAll().then(() => {\n      this._addAction(action);\n\n      Radio.trigger('event-router', 'flow:action', this.flow.id, action.id);\n    });\n  },\n\n  showActionList() {\n    const listView = new ListView({\n      collection: this.actions,\n      editableCollection: this.editableCollection,\n      state: this.getState(),\n    });\n\n    this.listenTo(listView, 'change:canEdit', () => {\n      this.editableCollection.reset(this._getListEditable(listView));\n    });\n\n    this.showChildView('actionList', listView);\n  },\n\n  _getListEditable(list) {\n    if (this.flow.isDone()) return [];\n    return list.children.reduce((models, { canEdit, model }) => {\n      if (canEdit) models.push(model);\n      return models;\n    }, []);\n  },\n\n  showSidebar() {\n    this.startChildApp('patient', {\n      region: this.getRegion('sidebar'),\n      patient: this.patient,\n    });\n  },\n\n  showActionSidebar(flowId, actionId) {\n    const actionApp = this.getChildApp('action');\n\n    this.listenToOnce(actionApp, {\n      'start'(options, action) {\n        this.setState('actionBeingEdited', action.id);\n        action.trigger('editing', true);\n      },\n      'stop'() {\n        this.setState('actionBeingEdited', null);\n      },\n    });\n\n    this.startChildApp('action', { actionId });\n  },\n\n  onEditFlow() {\n    Radio.request('sidebar', 'start', 'flow', { flow: this.flow });\n  },\n});\n","import { bind, noop } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { AddButtonView, i18n, itemClasses } from 'js/views/patients/shared/add-workflow/add-workflow_views';\n\nconst optEvents = {\n  'program-actions': 'add:programAction',\n  'program-flows': 'add:programFlow',\n};\n\nexport default App.extend({\n  beforeStart() {\n    return [\n      Radio.request('entities', 'fetch:programs:collection'),\n      Radio.request('entities', 'fetch:programActions:collection'),\n      Radio.request('entities', 'fetch:programFlows:collection'),\n    ];\n  },\n  onStart(options, programs) {\n    programs.comparator = 'name';\n\n    const addablePrograms = programs.filter(program => {\n      const isPublished = !!program.get('published_at');\n      const isArchived = !!program.get('archived_at');\n\n      return isPublished && !isArchived;\n    });\n\n    programs.reset(addablePrograms);\n\n    this.showView(new AddButtonView({\n      lists: this.getProgramsOpts(programs),\n    }));\n  },\n  getProgramsOpts(programs) {\n    return programs.map(program => {\n      const headingText = program.get('name');\n      const programItems = program.getAddable();\n      const noResultsOpt = {\n        itemType: 'program-actions',\n        text: i18n.noResultsText,\n        isDisabled: true,\n      };\n\n      if (!programItems.length) {\n        return {\n          itemClassName: itemClasses.noResults,\n          headingText,\n          collection: new Backbone.Collection([noResultsOpt]),\n          getItemSearchText: noop,\n        };\n      }\n\n      const itemsOpts = this.getProgramItemsOpts(programItems);\n\n      return {\n        headingText,\n        collection: new Backbone.Collection(itemsOpts),\n      };\n    });\n  },\n  getProgramItemsOpts(programItems) {\n    return programItems.map(item => {\n      return {\n        text: item.get('name'),\n        itemType: item.type,\n        hasOutreach: item.type === 'program-actions' && item.hasOutreach(),\n        onSelect: bind(this.triggerMethod, this, optEvents[item.type], item),\n      };\n    });\n  },\n});\n","\n            import HandlebarsRuntime from 'handlebars/runtime';\n            export default HandlebarsRuntime.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<em>\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"newAction\")), depth0))\n    + \"</em>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"patient__action-attachment\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"paperclip\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":65},\"end\":{\"line\":16,\"column\":84}}}))\n    + \"</span>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell\\\">\\n  <span class=\\\"patient__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":37},\"end\":{\"line\":2,\"column\":49}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":56},\"end\":{\"line\":2,\"column\":81}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\\n    \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":4,\"column\":14}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":39}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":105}}})) != null ? stack1 : \"\")\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell patient__list-meta\\\">\\n  <span class=\\\"table-list__meta\\\" data-state-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":58},\"end\":{\"line\":9,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":58},\"end\":{\"line\":10,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":33},\"end\":{\"line\":11,\"column\":58}}}) : helper)))\n    + \"<span data-due-date-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":38},\"end\":{\"line\":12,\"column\":63}}}) : helper)))\n    + \"<span data-due-time-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":38},\"end\":{\"line\":13,\"column\":63}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":9},\"end\":{\"line\":14,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-form-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":57},\"end\":{\"line\":15,\"column\":82}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasAttachments\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":2},\"end\":{\"line\":16,\"column\":98}}})) != null ? stack1 : \"\")\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":98},\"end\":{\"line\":16,\"column\":123}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":35},\"end\":{\"line\":17,\"column\":78}}}))\n    + \"</span>\\n</td>\\n\";\n},\"useData\":true});\n          ","\n            import HandlebarsRuntime from 'handlebars/runtime';\n            export default HandlebarsRuntime.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell\\\">\\n  <span class=\\\"patient__flow-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":35},\"end\":{\"line\":2,\"column\":51}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":58},\"end\":{\"line\":2,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":47}}}) : helper)))\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell patient__list-meta\\\">\\n  <span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":33},\"end\":{\"line\":6,\"column\":58}}}) : helper)))\n    + \"<span class=\\\"patient__flow-status action--\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"color\") : stack1), depth0))\n    + \"\\\">\"\n    + alias3((lookupProperty(helpers,\"fa\")||(depth0 && lookupProperty(depth0,\"fa\"))||alias2).call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"iconType\") : stack1),((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"icon\") : stack1),{\"name\":\"fa\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":72},\"end\":{\"line\":7,\"column\":118}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":125},\"end\":{\"line\":7,\"column\":150}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":9},\"end\":{\"line\":8,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":58},\"end\":{\"line\":9,\"column\":83}}}) : helper)))\n    + \"<progress class=\\\"progress-bar patient__flow-progress\\\" value=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"complete\") : stack1), depth0))\n    + \" max=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"total\") : stack1), depth0))\n    + \"></progress>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":124},\"end\":{\"line\":10,\"column\":149}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":35},\"end\":{\"line\":11,\"column\":78}}}))\n    + \"</span>\\n</td>\\n\";\n},\"useData\":true});\n          ","\n            import HandlebarsRuntime from 'handlebars/runtime';\n            export default HandlebarsRuntime.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div>\\n  <span class=\\\"patient__tab--selected\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"dashboardBtn\")), depth0))\n    + \"</span>\\n  <button class=\\\"patient__tab js-archive\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"archiveBtn\")), depth0))\n    + \"</button>\\n</div>\\n<div class=\\\"patient__actions\\\" data-add-workflow-region>\\n  <span class=\\\"button-primary\\\">\\n    <span class=\\\"js-loading\\\">\\n      \"\n    + alias2((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"circle-plus\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":6},\"end\":{\"line\":12,\"column\":27}}}))\n    + \"\\n      <span>\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"actionLoading\")), depth0))\n    + \"</span>\\n    </span>\\n  </span>\\n</div>\\n<div data-content-region></div>\\n\";\n},\"useData\":true});\n          ","import anime from 'animejs';\nimport Radio from 'backbone.radio';\n\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView, Behavior } from 'marionette';\n\nimport { alphaSort } from 'js/utils/sorting';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/progress-bar.scss';\nimport 'scss/modules/table-list.scss';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport { StateComponent, OwnerComponent, DueComponent, TimeComponent, FormButton } from 'js/views/patients/shared/actions_views';\nimport { ReadOnlyStateView, ReadOnlyOwnerView, ReadOnlyDueDateView, ReadOnlyDueTimeView } from 'js/views/patients/shared/read-only_views';\n\nimport ActionItemTemplate from './action-item.hbs';\nimport FlowItemTemplate from './flow-item.hbs';\nimport LayoutTemplate from './layout.hbs';\n\nimport 'scss/domain/action-state.scss';\nimport '../patient.scss';\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"patient__empty-list\">\n      <h2>{{ @intl.patients.patient.dashboard.dashboardViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst RowBehavior = Behavior.extend({\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'onChange',\n  },\n  onChange() {\n    this.view.render();\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n});\n\nconst DoneBehavior = Behavior.extend({\n  modelEvents: {\n    'change:_state': 'onChangeState',\n  },\n  onChangeState() {\n    if (this.view.model.isDone()) {\n      anime({\n        targets: this.el,\n        delay: 300,\n        duration: 500,\n        opacity: [1, 0],\n        easing: 'easeOutQuad',\n        complete: () => {\n          this.view.triggerMethod('change:visible');\n        },\n      });\n      return;\n    }\n\n    this.$el.css({\n      opacity: 1,\n    });\n\n    this.view.triggerMethod('change:visible');\n  },\n});\n\nconst ActionItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  modelEvents: {\n    'change:_owner': 'render',\n  },\n  behaviors: [RowBehavior, DoneBehavior],\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDate: '[data-due-date-region]',\n    dueTime: '[data-due-time-region]',\n    form: '[data-form-region]',\n  },\n  template: ActionItemTemplate,\n  templateContext() {\n    return {\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n      hasAttachments: this.model.hasAttachments(),\n    };\n  },\n  triggers: {\n    'click': 'click',\n    'click .js-no-click': 'prevent-row-click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'patient:action', this.model.get('_patient'), this.model.id);\n  },\n  onRender() {\n    this.canEdit = this.model.canEdit();\n\n    this.showState();\n    this.showOwner();\n    this.showDueDate();\n    this.showDueTime();\n    this.showForm();\n  },\n  showState() {\n    if (!this.canEdit) {\n      const readOnlyStateView = new ReadOnlyStateView({ model: this.model, isCompact: true });\n      this.showChildView('state', readOnlyStateView);\n      return;\n    }\n\n    const stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    if (!this.canEdit) {\n      const readOnlyOwnerView = new ReadOnlyOwnerView({ model: this.model, isCompact: true });\n      this.showChildView('owner', readOnlyOwnerView);\n      return;\n    }\n\n    const program = this.model.getProgram();\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      workspaces: program.getUserWorkspaces(),\n      isCompact: true,\n    });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDueDate() {\n    if (!this.canEdit) {\n      const readOnlyOwnerView = new ReadOnlyDueDateView({ model: this.model });\n      this.showChildView('dueDate', readOnlyOwnerView);\n      return;\n    }\n\n    const dueDateComponent = new DueComponent({\n      date: this.model.get('due_date'),\n      isCompact: true,\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(dueDateComponent, 'change:due', date => {\n      this.model.saveDueDate(date);\n    });\n\n    this.showChildView('dueDate', dueDateComponent);\n  },\n  showDueTime() {\n    if (!this.canEdit) {\n      const readOnlyOwnerView = new ReadOnlyDueTimeView({ model: this.model });\n      this.showChildView('dueTime', readOnlyOwnerView);\n      return;\n    }\n\n    const isDisabled = !this.model.get('due_date');\n    const dueTimeComponent = new TimeComponent({\n      time: this.model.get('due_time'),\n      isCompact: true, state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(dueTimeComponent, 'change:time', time => {\n      this.model.saveDueTime(time);\n    });\n\n    this.showChildView('dueTime', dueTimeComponent);\n  },\n  showForm() {\n    if (!this.model.getForm()) return;\n\n    this.showChildView('form', new FormButton({ model: this.model }));\n  },\n});\n\nconst FlowItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  modelEvents: {\n    'change:_owner': 'render',\n  },\n  behaviors: [RowBehavior],\n  regions: {\n    owner: '[data-owner-region]',\n  },\n  template: FlowItemTemplate,\n  templateContext() {\n    const stateOptions = this.model.getState().get('options');\n\n    return {\n      stateOptions,\n    };\n  },\n  triggers: {\n    'click': 'click',\n    'click .js-no-click': 'prevent-row-click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'flow', this.model.id);\n  },\n  onRender() {\n    this.canEdit = this.model.canEdit();\n\n    this.showOwner();\n  },\n  showOwner() {\n    if (!this.canEdit) {\n      const readOnlyOwnerView = new ReadOnlyOwnerView({ model: this.model, isCompact: true });\n      this.showChildView('owner', readOnlyOwnerView);\n      return;\n    }\n\n    const program = this.model.getProgram();\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      workspaces: program.getUserWorkspaces(),\n      isCompact: true,\n    });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n});\n\nconst ListView = CollectionView.extend({\n  childViewEvents: {\n    'change:visible': 'filter',\n  },\n  className: 'table-list patient__list',\n  tagName: 'table',\n  childView(item) {\n    if (item.type === 'flows') {\n      return FlowItemView;\n    }\n\n    return ActionItemView;\n  },\n  emptyView: EmptyView,\n  viewComparator(viewA, viewB) {\n    return alphaSort('desc', viewA.model.get('updated_at'), viewB.model.get('updated_at'));\n  },\n  viewFilter({ model }) {\n    return !model.isDone();\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region patient__content',\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n    addWorkflow: '[data-add-workflow-region]',\n  },\n  ui: {\n    loading: '.js-loading',\n  },\n  template: LayoutTemplate,\n  triggers: {\n    'click .js-archive': 'click:archive',\n  },\n  onClickArchive() {\n    Radio.trigger('event-router', 'patient:archive', this.model.id);\n  },\n  onRender() {\n    anime({\n      targets: this.ui.loading[0],\n      opacity: 0.5,\n      loop: true,\n      easing: 'easeInOutSine',\n      duration: 400,\n      direction: 'alternate',\n    });\n  },\n});\n\nexport {\n  ListView,\n  LayoutView,\n};\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport AddWorkflowApp from './add-workflow_app';\n\nimport { LayoutView, ListView } from 'js/views/patients/patient/dashboard/dashboard_views';\n\nexport default App.extend({\n  childApps: {\n    addWorkflow: AddWorkflowApp,\n  },\n\n  onBeforeStart({ patient }) {\n    this.currentUser = Radio.request('bootstrap', 'currentUser');\n    this.patient = patient;\n    this.showView(new LayoutView({ model: patient }));\n    if (!this.currentUser.can('work:own')) {\n      this.getRegion('addWorkflow').empty();\n    }\n    this.getRegion('content').startPreloader();\n  },\n\n  beforeStart({ patient }) {\n    const currentWorkspace = Radio.request('workspace', 'current');\n    const states = currentWorkspace.getStates();\n    const filter = { state: states.groupByDone().notDone.getFilterIds() };\n\n    return [\n      Radio.request('entities', 'fetch:actions:collection:byPatient', { patientId: patient.id, filter }),\n      Radio.request('entities', 'fetch:flows:collection:byPatient', { patientId: patient.id, filter }),\n    ];\n  },\n\n  onStart(options, actions, flows) {\n    this.collection = new Backbone.Collection([...actions.models, ...flows.models]);\n\n    this.showChildView('content', new ListView({ collection: this.collection }));\n\n    this.startAddWorkflow();\n  },\n  startAddWorkflow() {\n    if (!this.currentUser.can('work:own')) return;\n\n    const addworkflow = this.startChildApp('addWorkflow', {\n      region: this.getRegion('addWorkflow'),\n      patient: this.patient,\n    });\n\n    this.listenTo(addworkflow, {\n      'add:programAction': this.onAddProgramAction,\n      'add:programFlow': this.onAddProgramFlow,\n    });\n  },\n\n  onAddProgramAction(programAction) {\n    const action = programAction.getAction({ patientId: this.patient.id });\n    action.saveAll().then(() => {\n      this.collection.unshift(action);\n\n      Radio.trigger('event-router', 'patient:action', this.patient.id, action.id);\n    });\n  },\n\n  onAddProgramFlow(programFlow) {\n    const flow = programFlow.getFlow(this.patient.id);\n\n    flow.saveAll().then(() => {\n      Radio.trigger('event-router', 'flow', flow.id);\n    });\n\n    return;\n  },\n});\n","\n            import HandlebarsRuntime from 'handlebars/runtime';\n            export default HandlebarsRuntime.template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"patient__action-attachment\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"paperclip\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":65},\"end\":{\"line\":13,\"column\":84}}}))\n    + \"</span>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell\\\">\\n  <span class=\\\"patient__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":37},\"end\":{\"line\":2,\"column\":49}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":56},\"end\":{\"line\":2,\"column\":81}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":47}}}) : helper)))\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell patient__list-meta\\\">\\n  <span class=\\\"table-list__meta\\\" data-state-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":58},\"end\":{\"line\":6,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":58},\"end\":{\"line\":7,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":33},\"end\":{\"line\":8,\"column\":58}}}) : helper)))\n    + \"<span data-due-date-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":38},\"end\":{\"line\":9,\"column\":63}}}) : helper)))\n    + \"<span data-due-time-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":38},\"end\":{\"line\":10,\"column\":63}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":9},\"end\":{\"line\":11,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-form-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":57},\"end\":{\"line\":12,\"column\":82}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasAttachments\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":2},\"end\":{\"line\":13,\"column\":98}}})) != null ? stack1 : \"\")\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":98},\"end\":{\"line\":13,\"column\":123}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":35},\"end\":{\"line\":14,\"column\":78}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":85},\"end\":{\"line\":14,\"column\":110}}}) : helper)))\n    + \"</td>\\n\";\n},\"useData\":true});\n          ","\n            import HandlebarsRuntime from 'handlebars/runtime';\n            export default HandlebarsRuntime.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <td class=\\\"table-list__cell\\\">\\n      <span class=\\\"patient__flow-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":39},\"end\":{\"line\":2,\"column\":55}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":62},\"end\":{\"line\":2,\"column\":87}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":41},\"end\":{\"line\":3,\"column\":51}}}) : helper)))\n    + \"</span>\\n    </td>\\n    <td class=\\\"table-list__cell patient__list-meta\\\">\\n      <span class=\\\"table-list__meta\\\" data-state-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":62},\"end\":{\"line\":6,\"column\":87}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":62},\"end\":{\"line\":7,\"column\":87}}}) : helper)))\n    + \"<progress class=\\\"progress-bar patient__flow-progress\\\" value=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"complete\") : stack1), depth0))\n    + \" max=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"total\") : stack1), depth0))\n    + \"></progress>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":128},\"end\":{\"line\":8,\"column\":153}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":39},\"end\":{\"line\":9,\"column\":82}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":89},\"end\":{\"line\":9,\"column\":114}}}) : helper)))\n    + \"</td>\\n\";\n},\"useData\":true});\n          ","import anime from 'animejs';\n\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView, Behavior } from 'marionette';\n\nimport 'scss/modules/progress-bar.scss';\nimport 'scss/modules/table-list.scss';\n\nimport { alphaSort } from 'js/utils/sorting';\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport { StateComponent, OwnerComponent, DueComponent, TimeComponent, FormButton } from 'js/views/patients/shared/actions_views';\nimport { ReadOnlyStateView, ReadOnlyOwnerView, ReadOnlyDueDateView, ReadOnlyDueTimeView } from 'js/views/patients/shared/read-only_views';\n\nimport ActionItemTemplate from './action-item.hbs';\nimport FlowItemTemplate from './flow-item.hbs';\n\nimport '../patient.scss';\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"patient__empty-list\">\n      <h2>{{ @intl.patients.patient.archive.archiveViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst RowBehavior = Behavior.extend({\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'onChange',\n  },\n  onChange() {\n    this.view.render();\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n});\n\nconst DoneBehavior = Behavior.extend({\n  modelEvents: {\n    'change:_state': 'onChangeState',\n  },\n  onChangeState() {\n    if (!this.view.model.isDone()) {\n      anime({\n        targets: this.el,\n        delay: 300,\n        duration: 500,\n        opacity: [1, 0],\n        easing: 'easeOutQuad',\n        complete: () => {\n          this.view.triggerMethod('change:visible');\n        },\n      });\n      return;\n    }\n\n    this.$el.css({\n      opacity: 1,\n    });\n\n    this.view.triggerMethod('change:visible');\n  },\n});\n\nconst ActionItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  modelEvents: {\n    'change:_owner': 'render',\n  },\n  behaviors: [RowBehavior, DoneBehavior],\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDate: '[data-due-date-region]',\n    dueTime: '[data-due-time-region]',\n    form: '[data-form-region]',\n  },\n  template: ActionItemTemplate,\n  templateContext() {\n    return {\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n      hasAttachments: this.model.hasAttachments(),\n    };\n  },\n  triggers: {\n    'click': 'click',\n    'click .js-no-click': 'prevent-row-click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'patient:action', this.model.get('_patient'), this.model.id);\n  },\n  onRender() {\n    this.canEdit = this.model.canEdit();\n\n    this.showState();\n    this.showOwner();\n    this.showDueDay();\n    this.showDueTime();\n    this.showForm();\n  },\n  showState() {\n    if (!this.canEdit) {\n      const readOnlyStateView = new ReadOnlyStateView({ model: this.model, isCompact: true });\n      this.showChildView('state', readOnlyStateView);\n      return;\n    }\n\n    const stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    if (!this.canEdit) {\n      const readOnlyOwnerView = new ReadOnlyOwnerView({ model: this.model, isCompact: true });\n      this.showChildView('owner', readOnlyOwnerView);\n      return;\n    }\n\n    const program = this.model.getProgram();\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      workspaces: program.getUserWorkspaces(),\n      isCompact: true,\n      state: { isDisabled: true },\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDueDay() {\n    if (!this.canEdit) {\n      const readOnlyOwnerView = new ReadOnlyDueDateView({ model: this.model });\n      this.showChildView('dueDate', readOnlyOwnerView);\n      return;\n    }\n\n    const dueDateComponent = new DueComponent({\n      date: this.model.get('due_date'),\n      isCompact: true,\n      state: { isDisabled: true },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.showChildView('dueDate', dueDateComponent);\n  },\n  showDueTime() {\n    if (!this.canEdit) {\n      const readOnlyOwnerView = new ReadOnlyDueTimeView({ model: this.model });\n      this.showChildView('dueTime', readOnlyOwnerView);\n      return;\n    }\n\n    const dueTimeComponent = new TimeComponent({\n      time: this.model.get('due_time'),\n      isCompact: true,\n      state: { isDisabled: true },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.showChildView('dueTime', dueTimeComponent);\n  },\n  showForm() {\n    if (!this.model.getForm()) return;\n\n    this.showChildView('form', new FormButton({ model: this.model }));\n  },\n});\n\nconst FlowItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  modelEvents: {\n    'change:_owner': 'render',\n  },\n  behaviors: [RowBehavior, DoneBehavior],\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n  },\n  template: FlowItemTemplate,\n  triggers: {\n    'click': 'click',\n    'click .js-no-click': 'prevent-row-click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'flow', this.model.id);\n  },\n  onRender() {\n    this.canEdit = this.model.canEdit();\n\n    this.showState();\n    this.showOwner();\n  },\n  showState() {\n    if (!this.canEdit) {\n      const readOnlyStateView = new ReadOnlyStateView({ model: this.model, isCompact: true });\n      this.showChildView('state', readOnlyStateView);\n      return;\n    }\n\n    const stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    if (!this.canEdit) {\n      const readOnlyOwnerView = new ReadOnlyOwnerView({ model: this.model, isCompact: true });\n      this.showChildView('owner', readOnlyOwnerView);\n      return;\n    }\n\n    const program = this.model.getProgram();\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      workspaces: program.getUserWorkspaces(),\n      isCompact: true,\n      state: { isDisabled: true },\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n});\n\nconst ListView = CollectionView.extend({\n  childViewEvents: {\n    'change:visible': 'filter',\n  },\n  className: 'table-list patient__list',\n  tagName: 'table',\n  childView(item) {\n    if (item.type === 'flows') {\n      return FlowItemView;\n    }\n\n    return ActionItemView;\n  },\n  emptyView: EmptyView,\n  viewComparator({ model: modelA }, { model: modelB }) {\n    return alphaSort('desc', modelA.get('updated_at'), modelB.get('updated_at'));\n  },\n  viewFilter({ model }) {\n    return model.type === 'patient-events' || model.isDone();\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region patient__content',\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n  },\n  template: hbs`\n    <div>\n      <button class=\"patient__tab js-dashboard\">\n        {{~ @intl.patients.patient.archive.archiveViews.dashboardBtn ~}}\n      </button>\n      <span class=\"patient__tab--selected\">\n        {{~ @intl.patients.patient.archive.archiveViews.archiveBtn ~}}\n      </span>\n    </div>\n    <div data-content-region></div>\n  `,\n  triggers: {\n    'click .js-dashboard': 'click:dashboard',\n  },\n  onClickDashboard() {\n    Radio.trigger('event-router', 'patient:dashboard', this.model.id);\n  },\n});\n\nexport {\n  ListView,\n  LayoutView,\n};\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { LayoutView, ListView } from 'js/views/patients/patient/archive/archive_views';\n\nexport default App.extend({\n  onBeforeStart({ patient }) {\n    this.showView(new LayoutView({ model: patient }));\n    this.getRegion('content').startPreloader();\n  },\n  beforeStart({ patient }) {\n    const currentWorkspace = Radio.request('workspace', 'current');\n    const states = currentWorkspace.getStates();\n    const filter = { state: states.groupByDone().done.getFilterIds() };\n\n    return [\n      Radio.request('entities', 'fetch:actions:collection:byPatient', { patientId: patient.id, filter }),\n      Radio.request('entities', 'fetch:flows:collection:byPatient', { patientId: patient.id, filter }),\n    ];\n  },\n  onStart({ patient }, actions, flows) {\n    this.collection = new Backbone.Collection([...actions.models, ...flows.models]);\n    this.showChildView('content', new ListView({ collection: this.collection }));\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport './patient.scss';\n\nconst ContextTrailView = View.extend({\n  className: 'patient__context-trail',\n  template: hbs`\n    {{#if hasLatestList}}\n      <a class=\"js-back patient__context-link\">\n        {{fas \"chevron-left\"}}{{ @intl.patients.patient.patientViews.contextBackBtn }}\n      </a>\n      {{fas \"chevron-right\"}}\n    {{/if}}{{ first_name }} {{ last_name }}\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n  },\n  modelEvents: {\n    'change:first_name change:last_name': 'render',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:latestList');\n  },\n  templateContext() {\n    return {\n      hasLatestList: Radio.request('history', 'has:latestList'),\n    };\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'patient__frame',\n  template: hbs`\n    <div class=\"patient__layout\">\n        <div data-context-trail-region></div>\n        <div data-content-region></div>\n    </div>\n    <div class=\"patient__sidebar\" data-sidebar-region></div>\n  `,\n  regions: {\n    contextTrail: {\n      el: '[data-context-trail-region]',\n      replaceElement: true,\n    },\n    sidebar: '[data-sidebar-region]',\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n  },\n  onRender() {\n    this.showChildView('contextTrail', new ContextTrailView({ model: this.model }));\n  },\n});\n\nexport {\n  LayoutView,\n};\n","import { partial } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport SubRouterApp from 'js/base/subrouterapp';\n\nimport DashboardApp from 'js/apps/patients/patient/dashboard/dashboard_app';\nimport ArchiveApp from 'js/apps/patients/patient/archive/archive_app';\nimport ActionApp from 'js/apps/patients/patient/action/action_app';\nimport PatientSidebarApp from 'js/apps/patients/patient/sidebar/sidebar_app';\n\nimport { LayoutView } from 'js/views/patients/patient/patient_views';\n\nexport default SubRouterApp.extend({\n  eventRoutes() {\n    return {\n      'patient:dashboard': partial(this.startCurrent, 'dashboard'),\n      'patient:archive': partial(this.startCurrent, 'archive'),\n      'patient:action': this.startPatientAction,\n    };\n  },\n\n  childApps: {\n    dashboard: DashboardApp,\n    archive: ArchiveApp,\n    action: ActionApp,\n    patient: PatientSidebarApp,\n  },\n\n  currentAppOptions() {\n    return {\n      region: this.getRegion('content'),\n      patient: this.getOption('patient'),\n    };\n  },\n\n  onBeforeStart() {\n    this.getRegion().startPreloader();\n  },\n\n  beforeStart({ patientId }) {\n    return Radio.request('entities', 'fetch:patients:model', patientId);\n  },\n\n  onFail(options, { response }) {\n    /* istanbul ignore else: other error scenarios handled elsewhere */\n    if (response.status === 410) {\n      Radio.trigger('event-router', 'notFound');\n      this.stop();\n    }\n  },\n\n  onStart({ currentRoute }, patient) {\n    this.patient = patient;\n\n    this.setView(new LayoutView({ model: patient }));\n\n    this.showSidebar();\n\n    this.startRoute(currentRoute);\n\n    this.showView();\n  },\n\n  startPatientAction(patientId, actionId) {\n    const actionApp = this.getChildApp('action');\n\n    this.listenToOnce(actionApp, {\n      'start'(options, action) {\n        this.editActionList(action);\n      },\n      'fail'() {\n        this.startCurrent('dashboard');\n      },\n    });\n\n    this.startChildApp('action', { actionId, patientId });\n  },\n\n  startActionList(action) {\n    if (action.isDone()) return this.startCurrent('archive');\n\n    return this.startCurrent('dashboard');\n  },\n\n  // Triggers event on started action list for marking the edited action\n  editActionList(action) {\n    const currentActionList = this.getCurrent() || this.startActionList(action);\n\n    if (!currentActionList.isRunning()) {\n      this.listenToOnce(currentActionList, 'start', () => {\n        action.trigger('editing', true);\n      });\n      return;\n    }\n\n    action.trigger('editing', true);\n  },\n\n  showSidebar() {\n    this.startChildApp('patient', {\n      region: this.getRegion('sidebar'),\n      patient: this.patient,\n    });\n  },\n});\n","import { sortBy, isEqual, omit, size, isNull, clone, intersection, debounce, without } from 'underscore';\n\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nexport default Backbone.Model.extend({\n  preinitialize() {\n    const currentWorkspace = Radio.request('workspace', 'current');\n    const states = currentWorkspace.getStates();\n    const { done, notDone } = states.groupByDone();\n    this.states = { done, notDone, all: states };\n  },\n  defaults() {\n    const isDoneOnly = this.get('isDoneOnly');\n    const doneStates = this.states.done.map('id');\n    const notDoneStates = this.states.notDone.map('id');\n\n    return {\n      customFilters: {},\n      states: isDoneOnly ? doneStates : notDoneStates,\n      flowStates: notDoneStates,\n    };\n  },\n  initialize() {\n    this.initStates();\n\n    this.setFiltersCount = debounce(this.setFiltersCount, 30);\n\n    this.on('change:customFilters change:states change:flowStates change:listType', this.setFiltersCount);\n\n    this.setFiltersCount();\n  },\n  isFlowType() {\n    return this.get('listType') === 'flows';\n  },\n  initStates() {\n    const availableStateIds = this.getAvailableStates().map('id');\n\n    // Remove any localstorage states no longer available\n    this.set({\n      states: intersection(this.get('states'), availableStateIds),\n      flowStates: intersection(this.get('flowStates'), availableStateIds),\n    });\n  },\n  getFiltersState() {\n    return {\n      filtersCount: this.get('filtersCount'),\n      customFilters: this.get('customFilters'),\n      states: this.get('states'),\n      flowStates: this.get('flowStates'),\n    };\n  },\n  _isSameIds(ids1, ids2) {\n    return isEqual(sortBy(ids1), sortBy(ids2));\n  },\n  setFiltersCount() {\n    const { states, flowStates } = this.defaults();\n\n    const customFiltersCount = size(omit(this.get('customFilters'), isNull));\n\n    const statesFilterSize = !this._isSameIds(this.get('states'), states) ? 1 : 0;\n\n    if (this.isFlowType()) return this.set('filtersCount', customFiltersCount + statesFilterSize);\n\n    const flowStatesFilterSize = !this._isSameIds(this.get('flowStates'), flowStates) ? 1 : 0;\n\n    return this.set('filtersCount', customFiltersCount + statesFilterSize + flowStatesFilterSize);\n  },\n  getAvailableStates() {\n    return this.get('isDoneOnly') ? this.states.done : this.states.all;\n  },\n  setDefaultFilterStates() {\n    return this.set(this.defaults());\n  },\n  selectStatesFilter(stateId, shouldSelect, stateType = 'states') {\n    const selectedStates = clone(this.get(`${ stateType }`));\n\n    if (!shouldSelect) {\n      return this.set(stateType, without(selectedStates, stateId));\n    }\n\n    return this.set(stateType, [...selectedStates, stateId]);\n  },\n  selectFlowStatesFilter(stateId, shouldSelect) {\n    return this.selectStatesFilter(stateId, shouldSelect, 'flowStates');\n  },\n  getFilter(name) {\n    return this.get('customFilters')[name];\n  },\n  setFilter(name, value) {\n    const customFilters = clone(this.get('customFilters'));\n    customFilters[name] = value;\n    return this.set('customFilters', customFilters);\n  },\n});\n","import { get } from 'underscore';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport OwnerDroplist from 'js/views/patients/shared/components/owner_component';\n\nimport './list.scss';\n\nconst TitleOwnerFilterTemplate = hbs`<span class=\"list__title-filter-name\">{{ name }}</span>{{far \"angle-down\"}}`;\n\nconst ListCountTemplate = hbs`\n  <strong>\n    {{#if isFlowList}}\n      {{formatMessage (intlGet \"patients.shared.listViews.countView.flowsCount\") itemCount=count}}\n    {{else}}\n      {{formatMessage (intlGet \"patients.shared.listViews.countView.actionsCount\") itemCount=count}}\n    {{/if}}\n  </strong>\n`;\n\nconst MaximumCountTemplate = hbs`\n  <div>{{formatMessage (intlGet \"patients.shared.listViews.countView.maximumListCount\") maximumCount=maximumCount totalInDb=totalInDb isFlowList=isFlowList}}</div>\n  <div>{{ @intl.patients.shared.listViews.countView.narrowFilters }}</div>\n`;\n\nconst MaximumCountNarrowedTemplate = hbs`\n  <div>\n    {{formatMessage (intlGet \"patients.shared.listViews.countView.maximumListCountNarrowed\") itemCount=count maximumCount=maximumCount isFlowList=isFlowList}}\n  </div>\n  <div>{{ @intl.patients.shared.listViews.countView.narrowFilters }}</div>\n`;\n\nconst CountView = View.extend({\n  initialize() {\n    const listType = this.getOption('isFlowList') ? 'flows' : 'actions';\n    this.totalInDb = get(this.collection.getMeta(listType), 'total');\n  },\n  getTemplate() {\n    const filteredCollection = this.getOption('filteredCollection');\n\n    if (!this.collection || !filteredCollection.length) return hbs``;\n\n    const hasReachedMaximum = this.collection.length < this.totalInDb;\n    const isFindInListApplied = hasReachedMaximum && filteredCollection.length < this.collection.length;\n\n    if (!hasReachedMaximum) {\n      return ListCountTemplate;\n    }\n\n    if (isFindInListApplied) {\n      return MaximumCountNarrowedTemplate;\n    }\n\n    return MaximumCountTemplate;\n  },\n  templateContext() {\n    const filteredCollection = this.getOption('filteredCollection');\n\n    return {\n      maximumCount: this.collection.length,\n      count: filteredCollection.length,\n      isFlowList: !!this.getOption('isFlowList'),\n      totalInDb: this.totalInDb,\n    };\n  },\n});\n\nconst TitleOwnerDroplist = OwnerDroplist.extend({\n  align: 'right',\n  popWidth: null,\n  viewOptions: {\n    className: 'list__title-filter-button',\n    template: TitleOwnerFilterTemplate,\n  },\n});\n\nexport {\n  CountView,\n  TitleOwnerDroplist,\n};\n","\n            import HandlebarsRuntime from 'handlebars/runtime';\n            export default HandlebarsRuntime.template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"      <div class=\\\"flex u-margin--r-24\\\" data-select-all-region></div>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \" is-reduced\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"list-page__header\\\">\\n  <div class=\\\"flex list-page__title\\\">\\n    <div data-title-region></div>\\n    <div class=\\\"schedule__list-search\\\" data-search-region></div>\\n  </div>\\n  <div class=\\\"list-page__filters flex\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isReduced\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":4},\"end\":{\"line\":9,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"    <div class=\\\"flex flex-align-center w-100\\\" data-filters-region></div>\\n    <div class=\\\"schedule__count\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isReduced\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":31},\"end\":{\"line\":11,\"column\":66}}})) != null ? stack1 : \"\")\n    + \"\\\" data-count-region></div>\\n    <div class=\\\"flex u-text--nowrap\\\" data-date-filter-region></div>\\n  </div>\\n  <table class=\\\"w-100\\\" data-table-region></table>\\n</div>\\n<div class=\\\"flex-region list-page__list\\\" data-list-region></div>\\n\";\n},\"useData\":true});\n          ","import { debounce, every } from 'underscore';\nimport Radio from 'backbone.radio';\nimport { View, CollectionView } from 'marionette';\nimport dayjs from 'dayjs';\nimport hbs from 'handlebars-inline-precompile';\n\nimport { alphaSort } from 'js/utils/sorting';\nimport intl from 'js/i18n';\nimport buildMatchersArray from 'js/utils/formatting/build-matchers-array';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/list-pages.scss';\nimport 'scss/modules/table-list.scss';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport Tooltip from 'js/components/tooltip';\n\nimport { TitleOwnerDroplist } from 'js/views/patients/shared/list_views';\nimport { CheckComponent, DetailsTooltip } from 'js/views/patients/shared/actions_views';\n\nimport LayoutTemplate from './layout.hbs';\n\nimport './schedule-list.scss';\n\nconst LayoutView = View.extend({\n  className: 'flex-region',\n  template: LayoutTemplate,\n  regions: {\n    filters: '[data-filters-region]',\n    table: '[data-table-region]',\n    list: {\n      el: '[data-list-region]',\n      regionClass: PreloadRegion,\n    },\n    selectAll: '[data-select-all-region]',\n    title: {\n      el: '[data-title-region]',\n      replaceElement: true,\n    },\n    dateFilter: '[data-date-filter-region]',\n    search: '[data-search-region]',\n    count: '[data-count-region]',\n  },\n  templateContext() {\n    return {\n      isReduced: this.getOption('isReduced'),\n    };\n  },\n});\n\nconst TitleLabelView = View.extend({\n  className: 'u-text--nowrap',\n  getTemplate() {\n    if (this.getOption('owner')) {\n      return hbs`{{formatMessage (intlGet \"patients.schedule.scheduleViews.titleLabelView.title\") owner=owner}}`;\n    }\n    return hbs`{{ @intl.patients.schedule.scheduleViews.titleLabelView.label }}`;\n  },\n  templateContext() {\n    return {\n      owner: this.getOption('owner'),\n    };\n  },\n});\n\nconst ScheduleTitleView = View.extend({\n  regions: {\n    label: '[data-label-region]',\n    owner: '[data-owner-filter-region]',\n  },\n  className: 'flex list-page__title-filter',\n  template: hbs`\n    <span class=\"list-page__title-icon\">{{far \"calendar-star\"}}</span>\n    <div data-label-region></div>\n    <div data-owner-filter-region></div>\n    <span class=\"list-page__header-icon js-title-info\">{{far \"circle-info\"}}</span>\n  `,\n  ui: {\n    tooltip: '.js-title-info',\n  },\n  initialize() {\n    const currentClinician = Radio.request('bootstrap', 'currentUser');\n    this.shouldShowDroplist = currentClinician.can('app:schedule:clinician_filter');\n\n    this.owner = this.model.getOwner();\n  },\n  onRender() {\n    this.showLabel();\n    this.showOwnerDroplist();\n\n    new Tooltip({\n      message: intl.patients.schedule.scheduleViews.scheduleTitleView.tooltip,\n      uiView: this,\n      ui: this.ui.tooltip,\n      orientation: 'vertical',\n    });\n  },\n  showLabel() {\n    const titleLabelView = new TitleLabelView({\n      owner: this.shouldShowDroplist ? null : this.owner.get('name'),\n    });\n\n    this.showChildView('label', titleLabelView);\n  },\n  showOwnerDroplist() {\n    if (!this.shouldShowDroplist) return;\n\n    const ownerDroplistView = new TitleOwnerDroplist({\n      owner: this.owner,\n      hasTeams: false,\n    });\n\n    this.listenTo(ownerDroplistView, 'change:owner', owner => {\n      this.triggerMethod('change:owner', owner);\n    });\n\n    this.showChildView('owner', ownerDroplistView);\n  },\n});\n\nconst AllFiltersButtonView = View.extend({\n  tagName: 'button',\n  className: 'button--link-large',\n  template: hbs`{{far \"sliders\"}}<span>{{ @intl.patients.schedule.scheduleViews.allFiltersButtonView.allFiltersButton }}</span> {{#if filtersCount}}({{filtersCount}}){{/if}}`,\n  triggers: {\n    'click': 'click',\n  },\n  modelEvents: {\n    'change:filtersCount': 'render',\n  },\n});\n\nconst SelectAllView = View.extend({\n  tagName: 'button',\n  className: 'button--checkbox',\n  attributes() {\n    if (this.getOption('isDisabled')) return { disabled: 'disabled' };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  getTemplate() {\n    if (this.getOption('isSelectAll')) return hbs`{{fas \"square-check\"}}`;\n    if (this.getOption('isSelectNone') || this.getOption('isDisabled')) return hbs`{{fal \"square\"}}`;\n\n    return hbs`{{fas \"square-minus\"}}`;\n  },\n});\n\nconst TableHeaderView = View.extend({\n  template: hbs`\n    <td class=\"schedule-list__header schedule-list__header-due-date\">{{ @intl.patients.schedule.scheduleViews.tableHeaderView.dueDateHeader }}</td>\n    <td class=\"schedule-list__header schedule-list__header-state-patient\">{{ @intl.patients.schedule.scheduleViews.tableHeaderView.patientHeader }}</td>\n    <td class=\"schedule-list__header schedule-list__header-action\">{{ @intl.patients.schedule.scheduleViews.tableHeaderView.actionHeader }}</td>\n    <td class=\"schedule-list__header schedule-list__header-form\">{{ @intl.patients.schedule.scheduleViews.tableHeaderView.formheader }}</td>\n  `,\n  tagName: 'tr',\n});\n\nconst DayItemView = View.extend({\n  tagName: 'tr',\n  className() {\n    const className = 'schedule-list__day-list-row';\n\n    if (this.getOption('state').get('isReduced')) return `${ className } is-reduced`;\n\n    return className;\n  },\n  template: hbs`\n    <td class=\"schedule-list__action-list-cell schedule-list__due-time {{#if isOverdue}}is-overdue{{/if}}\">\n      {{#unless isReduced}}<span class=\"u-margin--r-8\" data-check-region></span>{{/unless}}\n      {{#if due_time}}\n        {{formatDateTime due_time \"TIME\" inputFormat=\"HH:mm:ss\"}}&#8203;\n      {{else}}\n        <span class=\"schedule-list__no-time\">{{ @intl.patients.schedule.scheduleViews.dayItemView.noTime }}</span>&#8203;\n      {{/if}}\n    </td>\n    <td class=\"schedule-list__action-list-cell schedule-list__patient\">\n      <div class=\"schedule-list__patient-details\">\n        <span class=\"schedule-list__patient-sidebar-icon\">\n          <button class=\"js-patient-sidebar-button\">\n            {{far \"address-card\"}}\n          </button>\n        </span>&#8203;{{~ remove_whitespace ~}}\n        <span class=\"schedule-list__patient-name {{#if isReduced}}is-reduced{{else}}js-patient{{/if}}\">{{ patient.first_name }} {{ patient.last_name }}</span>&#8203;\n      </div>\n    </td>\n    <td class=\"schedule-list__action-list-cell\">\n      <div class=\"schedule-list__action-state-name\">\n        <span class=\"schedule-list__action-state action--{{ stateOptions.color }}\">{{fa stateOptions.iconType stateOptions.icon}}</span><span class=\"schedule-list__search-helper\">{{ state }}</span>&#8203;{{~ remove_whitespace ~}}\n        <span class=\"{{#unless isReduced}}js-action{{/unless}}\">{{ name }}</span>&#8203;{{~ remove_whitespace ~}}\n        <span class=\"schedule-list__search-helper\">{{ flow }}</span>&#8203;{{~ remove_whitespace ~}}\n      </div>\n    </td>\n    <td class=\"schedule-list__action-list-cell schedule-list__action-details\" data-details-region></td>\n    <td class=\"schedule-list__action-list-cell schedule-list__action-form\">\n      {{#if form}}<span class=\"js-form schedule-list__action-form-icon\">{{#if hasOutreach}}{{far \"share-from-square\"}}{{else}}{{far \"square-poll-horizontal\"}}{{/if}}</span>{{/if}}\n    </td>\n  `,\n  regions: {\n    check: '[data-check-region]',\n    details: '[data-details-region]',\n  },\n  templateContext() {\n    const state = this.model.getState();\n\n    return {\n      isOverdue: this.model.isOverdue(),\n      state: state.get('name'),\n      stateOptions: state.get('options'),\n      patient: this.model.getPatient().attributes,\n      form: this.model.getForm(),\n      flow: this.model.getFlow() && this.model.getFlow().get('name'),\n      hasOutreach: this.model.hasOutreach(),\n      isReduced: this.isReduced,\n    };\n  },\n  ui: {\n    'actionName': '.js-action',\n  },\n  triggers: {\n    'click .js-form': 'click:form',\n    'click .js-patient-sidebar-button': 'click:patientSidebarButton',\n    'click .js-patient': 'click:patient',\n    'click': 'click',\n  },\n  modelEvents: {\n    'change': 'render',\n  },\n  initialize({ state }) {\n    this.state = state;\n    this.flow = this.model.getFlow();\n    this.isReduced = state.get('isReduced');\n\n    this.listenTo(state, {\n      'select:multiple': this.showCheck,\n      'select:none': this.showCheck,\n    });\n  },\n  onRender() {\n    const canEdit = this.canEdit;\n    this.canEdit = !this.model.isFlowDone() && this.model.canEdit();\n\n    this.showDetailsTooltip();\n    this.showCheck();\n\n    if (canEdit !== this.canEdit) {\n      if (!this.canEdit) this.toggleSelected(false);\n      this.triggerMethod('change:canEdit');\n    }\n  },\n  toggleSelected(isSelected) {\n    this.$el.toggleClass('is-selected', isSelected);\n  },\n  showCheck() {\n    if (this.isReduced || !this.canEdit) return;\n\n    const isSelected = this.state.isSelected(this.model);\n    this.toggleSelected(isSelected);\n    const checkComponent = new CheckComponent({ state: { isSelected } });\n\n    this.listenTo(checkComponent, {\n      'select'(domEvent) {\n        this.triggerMethod('select', this, !!domEvent.shiftKey);\n      },\n      'change:isSelected': this.toggleSelected,\n    });\n\n    this.showChildView('check', checkComponent);\n  },\n  onClickPatientSidebarButton() {\n    const patient = this.model.getPatient();\n    const sidebar = Radio.request('sidebar', 'start', 'patient', { patient });\n    this.on('destroy', () => sidebar.stop());\n  },\n  onClickPatient() {\n    Radio.trigger('event-router', 'patient:dashboard', this.model.get('_patient'));\n  },\n  onClickForm() {\n    Radio.trigger('event-router', 'form:patientAction', this.model.id, this.model.getForm().id);\n  },\n  onClick() {\n    if (this.isReduced) return;\n\n    if (this.flow) {\n      Radio.trigger('event-router', 'flow:action', this.flow.id, this.model.id);\n      return;\n    }\n\n    Radio.trigger('event-router', 'patient:action', this.model.get('_patient'), this.model.id);\n  },\n  showDetailsTooltip() {\n    if (!this.model.get('details')) return;\n\n    this.showChildView('details', new DetailsTooltip({ model: this.model }));\n  },\n});\n\nconst DayListView = CollectionView.extend({\n  childView: DayItemView,\n  childViewOptions() {\n    return {\n      state: this.state,\n    };\n  },\n  tagName: 'tr',\n  className: 'schedule-list__list-row',\n  template: hbs`\n    <td class=\"schedule-list__list-cell\">\n      <div class=\"schedule-list__row-header\">\n        <span class=\"schedule-list__date {{#if isToday}}is-today{{/if}}\">{{formatDateTime date \"D\"}}</span>\n        <span class=\"schedule-list__month-day\">{{formatDateTime date \"MMM, ddd\"}}</span>\n      </div>\n      <div class=\"schedule-list__day-list\">\n        <table class=\"schedule-list__day-list-table w-100\" data-actions-region></table>\n      </div>\n    </td>\n  `,\n  templateContext() {\n    const date = dayjs(this.model.get('date'));\n    const today = dayjs();\n\n    return {\n      isToday: date.isSame(today, 'day'),\n    };\n  },\n  childViewContainer: '[data-actions-region]',\n  viewComparator(viewA, viewB) {\n    // nullVal of 24 to ensure null due_time is last in list and due_time never exceeds 23:59:59\n    return alphaSort('asc', viewA.model.get('due_time'), viewB.model.get('due_time'), '24');\n  },\n  initialize({ state }) {\n    this.state = state;\n\n    this.listenTo(state, 'change:searchQuery', this.searchList);\n  },\n  onAttach() {\n    this.searchList(null, this.state.get('searchQuery'));\n  },\n  childViewTriggers: {\n    'render': 'listItem:render',\n    'change:canEdit': 'change:canEdit',\n    'select': 'select',\n  },\n  onSelect(selectedView, isShiftKeyPressed) {\n    this.triggerMethod('select:list:item', selectedView, isShiftKeyPressed);\n  },\n  onListItemRender(view) {\n    const date = dayjs(this.model.get('date'));\n    view.searchString = `${ date.format('D') } ${ date.format('MMM, ddd') } ${ view.$el.text() }`;\n  },\n  searchList(state, searchQuery) {\n    if (!searchQuery) {\n      this.removeFilter();\n      return;\n    }\n\n    const matchers = buildMatchersArray(searchQuery);\n\n    this.setFilter(function({ searchString }) {\n      return every(matchers, function(matcher) {\n        return matcher.test(searchString);\n      });\n    });\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.patients.schedule.scheduleViews.emptyView.noScheduledActions }}</h2>\n    </td>\n  `,\n});\n\nconst EmptyFindInListView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.patients.schedule.scheduleViews.emptyFindInListView.noResults }}</h2>\n    </td>\n  `,\n});\n\nconst ScheduleListView = CollectionView.extend({\n  tagName: 'table',\n  className: 'schedule-list__table',\n  childView: DayListView,\n  childViewOptions(model) {\n    if (!model) return;\n\n    return {\n      collection: model.get('actions'),\n      state: this.state,\n    };\n  },\n  childViewTriggers: {\n    'select:list:item': 'select',\n    'change:canEdit': 'listItem:canEdit',\n  },\n  childViewEvents: {\n    'render:children': 'onChildFilter',\n  },\n  emptyView() {\n    if (this.collection.length && this.state.get('searchQuery')) {\n      return EmptyFindInListView;\n    }\n\n    return EmptyView;\n  },\n  viewComparator(viewA, viewB) {\n    return alphaSort('asc', viewA.model.get('date'), viewB.model.get('date'));\n  },\n  viewFilter(view) {\n    if (this.isAttached() && this.state.get('searchQuery')) {\n      return !view.isEmpty();\n    }\n\n    // 'null' string is a key from groupBy\n    if (view.model.get('date') === 'null') {\n      return false;\n    }\n\n    return true;\n  },\n  initialize({ state, editableCollection }) {\n    this.state = state;\n    this.editableCollection = editableCollection;\n\n    this.onListItemCanEdit = debounce(this.onListItemCanEdit, 60);\n  },\n  onListItemCanEdit() {\n    // NOTE: debounced in initialize\n    this.triggerMethod('change:canEdit');\n  },\n  onRenderChildren() {\n    this.setVisibleChildren();\n  },\n  onChildFilter: debounce(function() {\n    this.filter();\n  }, 10),\n  setVisibleChildren() {\n    const visibleActions = this.children.reduce((models, cv) => {\n      return models.concat(cv.children.pluck('model'));\n    }, []);\n    this.triggerMethod('filtered', visibleActions);\n  },\n  onSelect(selectedView, isShiftKeyPressed) {\n    this.state.selectRange(this.editableCollection, selectedView.model, isShiftKeyPressed);\n  },\n});\n\nexport {\n  LayoutView,\n  ScheduleTitleView,\n  AllFiltersButtonView,\n  TableHeaderView,\n  ScheduleListView,\n  SelectAllView,\n};\n"],"names":["MultiselectStateMixin","list","lastSelectedIndex","clone","model","collection","selectedList","collectionSelected","reduce","keys","selected","id","Radio","selectedModel","shouldSelectMultiple","isSelected","selectedIndex","minIndex","maxIndex","selectedIds","selectedId","newLastSelectedIndex","newSelectedList","StateModel","Backbone","extend","ActionApp","App","actionId","patientId","intl","options","action","sidebar","HandlebarsRuntime","container","depth0","helpers","partials","data","stack1","helper","alias1","alias2","alias3","alias4","alias5","lookupProperty","parent","propertyName","i18n","getIsOverdue","date","time","dueDateTime","dayjs","FlowsStateComponent","StateComponent","flows","some","complete","modal","BulkEditButtonView","View","_Handlebars2","BulkEditActionsHeaderView","itemCount","menuOptions","bind","Optionlist","BulkEditFlowsHeaderView","BulkEditActionsBodyView","BulkEditActionBodyTemplate","isDisabled","OwnerComponent","DueComponent","isOverdue","TimeComponent","DurationComponent","stateComponent","state","ownerComponent","owner","dueDateComponent","dueTimeComponent","durationComponent","duration","ApplyOwnerView","BulkEditFlowsBodyView","BulkEditFlowBodyTemplate","BulkEditFlowsSuccessTemplate","BulkEditActionsSuccessTemplate","BulkDeleteFlowsSuccessTemplate","BulkDeleteActionsSuccessTemplate","initModel","stateId","stateMulti","item","program","ownerMulti","differentOwners","differentPrograms","dateMulti","timeMulti","durationMulti","stateChanged","ownerChanged","dateChanged","timeChanged","durationChanged","saveData","pick","BulkEditActionsApp","headerView","bodyView","partial","ActionItemTemplate$2","ContextTrailView","HeaderView","isEditing","HeaderTemplate","readOnlyStateView","ReadOnlyStateView","FlowStateComponent","readOnlyOwnerView","ReadOnlyOwnerView","FlowOwnerComponent","prog","EmptyView","ActionItemView","ActionItemTemplate","canEdit","checkComponent","CheckComponent","domEvent","ReadOnlyDueDateView","ReadOnlyDueTimeView","FormButton","ListView","CollectionView","editableCollection","debounce","selectedView","isShiftKeyPressed","LayoutView","PreloadRegion","SelectAllView","AddWorkflowOptlist","isProgramAction","actionIcon","AddButtonView","itemClasses","FlowApp","SubRouterApp","PatientSidebarApp","flowId","currentRoute","flow","actions","patient","invoke","total","category","payload","_owner","ownerTeam","programFlow","bulkEditButtonView","app","renderTemplate","selectAllView","programAction","listView","models","actionApp","optEvents","AddWorkflowApp","programs","addablePrograms","isPublished","isArchived","headingText","programItems","noResultsOpt","noop","itemsOpts","ActionItemTemplate$1","RowBehavior","Behavior","DoneBehavior","anime","FlowItemView","FlowItemTemplate","viewA","viewB","alphaSort","LayoutTemplate","DashboardApp","filter","addworkflow","modelA","modelB","ArchiveApp","PatientApp","response","currentActionList","FiltersStateModel","states","done","notDone","isDoneOnly","doneStates","notDoneStates","availableStateIds","intersection","ids1","ids2","isEqual","sortBy","flowStates","customFiltersCount","size","omit","isNull","statesFilterSize","flowStatesFilterSize","shouldSelect","stateType","selectedStates","without","name","value","customFilters","TitleOwnerFilterTemplate","ListCountTemplate","MaximumCountTemplate","MaximumCountNarrowedTemplate","CountView","listType","get","filteredCollection","hasReachedMaximum","isFindInListApplied","TitleOwnerDroplist","OwnerDroplist","TitleLabelView","ScheduleTitleView","currentClinician","Tooltip","titleLabelView","ownerDroplistView","AllFiltersButtonView","TableHeaderView","DayItemView","className","DetailsTooltip","DayListView","today","view","searchQuery","matchers","buildMatchersArray","searchString","every","matcher","EmptyFindInListView","ScheduleListView","visibleActions","cv"],"mappings":"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"}