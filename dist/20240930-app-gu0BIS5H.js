const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["20240930-app-frame_app-Bv0zBOte.js","20240930-index-DWs-65yf.js","20240930-runtime-D8WfOW0B.js","20240930-app-DCbOWEts.js","20240930-parsePhoneNumber-BzvJSPAX.js","assets/app-BVSQGoEV.css","20240930-index-B9xCDGRS.js","20240930-workspaces-DEP106s1.js","20240930-prelogin_views-DZaiOwGX.js","assets/prelogin_views-D_NB3Jdp.css","assets/loader-CdTtOIxO.css","20240930-iframe-form-CZNHYNlE.js","assets/iframe-form-Dt2lfO_2.css","assets/app-frame_app-B5FfPOPX.css"])))=>i.map(i=>d[i]);
import{t as $e,k as Fe,m as j,l as Y,e as v,n as f,o as qe,p as We,s as fe,q as Z,b as S,w as G,x as ce,d as ee,g as B,y as ze,z as ue,A as ye,B as x,C as Ie,D as Ne,E as Be,F as He,G as be,H as Ue,I as ke,f as Ge,v as Ke,J as Ye,a as pe,_ as Je,c as Qe}from"./20240930-index-DWs-65yf.js";import{C as T,b as Xe,w as Ze,A as k}from"./20240930-app-DCbOWEts.js";import{i as H}from"./20240930-index-B9xCDGRS.js";import{V as p,a as he,_ as g,C as $,B as y,b as F,R as d,$ as te}from"./20240930-runtime-D8WfOW0B.js";import{a as U,P as xe,b as se}from"./20240930-prelogin_views-DZaiOwGX.js";import{d as b}from"./20240930-parsePhoneNumber-BzvJSPAX.js";import{k as Se,I as et,R as tt}from"./20240930-iframe-form-CZNHYNlE.js";import{F as z}from"./20240930-workspaces-DEP106s1.js";function st(){const e=document.documentElement;e.setAttribute("data-useragent",navigator.userAgent),e.setAttribute("data-platform",navigator.platform)}const it=p.extend({className:"datepicker",regionClass:he.extend({replaceElement:!0}),regions:{calendar:"[data-calendar-region]",monthPicker:"[data-month-picker-region]",actions:"[data-actions-region]"},template:g.template({1:function(e,t,i,l,o){var s=e.lookupProperty||function(n,r){if(Object.prototype.hasOwnProperty.call(n,r))return n[r]};return'<div class="datepicker__day">'+e.escapeExpression((s(i,"formatDateTime")||t&&s(t,"formatDateTime")||e.hooks.helperMissing).call(t??(e.nullContext||{}),t,"dd",{name:"formatDateTime",hash:{},data:o,loc:{start:{line:4,column:54},end:{line:4,column:82}}}))+"</div>"},compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n=e.lookupProperty||function(r,a){if(Object.prototype.hasOwnProperty.call(r,a))return r[a]};return`
    <div data-month-picker-region></div>
    <div class="datepicker__body">
      `+((s=n(i,"each").call(t??(e.nullContext||{}),t!=null?n(t,"dayOfWeek"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:6},end:{line:4,column:97}}}))!=null?s:"")+`
      <div data-calendar-region></div>
    </div>
    <div data-actions-region></div>
  `},useData:!0}),templateContext(){return{dayOfWeek:$e(7,t=>b().weekday(t))}}}),nt=p.extend({template:g.template({compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n,r=e.lambda,a=e.escapeExpression,c=t??(e.nullContext||{}),h=e.hooks.helperMissing,u="function",m=e.lookupProperty||function(w,W){if(Object.prototype.hasOwnProperty.call(w,W))return w[W]};return`
    <button class="datepicker__button js-today">`+a(r((s=(s=(s=o&&m(o,"intl"))&&m(s,"components"))&&m(s,"datepicker"))&&m(s,"today"),t))+"</button>"+a((n=(n=m(i,"remove_whitespace")||(t!=null?m(t,"remove_whitespace"):t))!=null?n:h,typeof n===u?n.call(c,{name:"remove_whitespace",hash:{},data:o,loc:{start:{line:2,column:96},end:{line:2,column:121}}}):n))+'<button class="datepicker__button js-tomorrow">'+a(r((s=(s=(s=o&&m(o,"intl"))&&m(s,"components"))&&m(s,"datepicker"))&&m(s,"tomorrow"),t))+"</button>"+a((n=(n=m(i,"remove_whitespace")||(t!=null?m(t,"remove_whitespace"):t))!=null?n:h,typeof n===u?n.call(c,{name:"remove_whitespace",hash:{},data:o,loc:{start:{line:3,column:102},end:{line:3,column:127}}}):n))+'<button class="datepicker__button js-clear">'+a(r((s=(s=(s=o&&m(o,"intl"))&&m(s,"components"))&&m(s,"datepicker"))&&m(s,"clear"),t))+`</button>
  `},useData:!0}),triggers:{"click .js-today":"click:today","click .js-tomorrow":"click:tomorrow","click .js-clear":"click:clear"}}),ot=p.extend({className:"datepicker__header",triggers:{"click .js-next":"click:nextMonth","click .js-prev":"click:prevMonth","click .js-month":"click:month"},template:g.template({1:function(e,t,i,l,o){return'class="datepicker__month js-month"'},compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n=t??(e.nullContext||{}),r=e.hooks.helperMissing,a=e.escapeExpression,c=e.lookupProperty||function(h,u){if(Object.prototype.hasOwnProperty.call(h,u))return h[u]};return`
    <div class="datepicker__nav flex">
      <button class="js-prev">`+a((c(i,"fas")||t&&c(t,"fas")||r).call(n,"caret-left",{name:"fas",hash:{},data:o,loc:{start:{line:3,column:30},end:{line:3,column:50}}}))+" "+a((c(i,"formatDateTime")||t&&c(t,"formatDateTime")||r).call(n,t!=null?c(t,"prevMonth"):t,"MMM",{name:"formatDateTime",hash:{},data:o,loc:{start:{line:3,column:51},end:{line:3,column:85}}}))+`</button>
      <span `+((s=c(i,"if").call(n,t!=null?c(t,"canSelectMonth"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:12},end:{line:4,column:75}}}))!=null?s:"")+">"+a((c(i,"formatDateTime")||t&&c(t,"formatDateTime")||r).call(n,t!=null?c(t,"currentMonth"):t,"MMM YYYY",{name:"formatDateTime",hash:{},data:o,loc:{start:{line:4,column:76},end:{line:4,column:118}}}))+`</span>
      <button class="js-next">`+a((c(i,"formatDateTime")||t&&c(t,"formatDateTime")||r).call(n,t!=null?c(t,"nextMonth"):t,"MMM",{name:"formatDateTime",hash:{},data:o,loc:{start:{line:5,column:30},end:{line:5,column:64}}}))+" "+a((c(i,"fas")||t&&c(t,"fas")||r).call(n,"caret-right",{name:"fas",hash:{},data:o,loc:{start:{line:5,column:65},end:{line:5,column:86}}}))+`</button>
    </div>
  `},useData:!0}),templateContext(){return{nextMonth:this.model.getNextMonth(),prevMonth:this.model.getPrevMonth(),canSelectMonth:this.getOption("canSelectMonth")}}}),rt=p.extend({className(){if(this.model.get("isOtherMonth"))return"is-other-month";if(this.model.get("isDisabled"))return"is-disabled"},tagName:"li",getTemplate(){return this.model.get("isOtherMonth")||this.model.get("isDisabled")?g.template({compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n=e.lookupProperty||function(r,a){if(Object.prototype.hasOwnProperty.call(r,a))return r[a]};return e.escapeExpression((s=(s=n(i,"date")||(t!=null?n(t,"date"):t))!=null?s:e.hooks.helperMissing,typeof s=="function"?s.call(t??(e.nullContext||{}),{name:"date",hash:{},data:o,loc:{start:{line:1,column:0},end:{line:1,column:10}}}):s))},useData:!0}):g.template({1:function(e,t,i,l,o){return"is-selected"},3:function(e,t,i,l,o){return" is-today"},compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n,r=t??(e.nullContext||{}),a=e.lookupProperty||function(c,h){if(Object.prototype.hasOwnProperty.call(c,h))return c[h]};return'<a class="'+((s=a(i,"if").call(r,t!=null?a(t,"isSelected"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:10},end:{line:1,column:46}}}))!=null?s:"")+((s=a(i,"if").call(r,t!=null?a(t,"isToday"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:46},end:{line:1,column:77}}}))!=null?s:"")+'">'+e.escapeExpression((n=(n=a(i,"date")||(t!=null?a(t,"date"):t))!=null?n:e.hooks.helperMissing,typeof n=="function"?n.call(r,{name:"date",hash:{},data:o,loc:{start:{line:1,column:79},end:{line:1,column:89}}}):n))+"</a>"},useData:!0})},triggers:{"click a":"select"}}),lt=$.extend({className:"datepicker__days",tagName:"ul",childView:rt,childViewTriggers:{select:"select:date"}}),at=y.Model.extend({initialize({currentMonth:e,selectedDate:t,selectedMonth:i}){this.setCurrentMonth(e),this.setSelectedDate(t),this.setSelectedMonth(i)},setCurrentMonth(e){const t=e?b(e):b();this.set("currentMonth",t.startOf("month"))},setSelectedDate(e){if(!e){this.set({selectedDate:null});return}e=b(e),this.set({selectedDate:e.startOf("day"),currentMonth:e.startOf("month"),selectedMonth:null})},setSelectedMonth(e){if(!e){this.set({selectedMonth:null});return}const t=b(e).startOf("month");this.set({selectedMonth:t,currentMonth:t,selectedDate:null})},getCurrentMonth(){return this.dayjs("currentMonth")},getNextMonth(){return this.dayjs("currentMonth").add(1,"months")},getPrevMonth(){return this.dayjs("currentMonth").subtract(1,"months")},getCalendar(){const e=Fe([this._getPreDates(),this._getDates(),this._getPostDates()]);return new y.Collection(e)},_getPreDates(){const e=this.getCurrentMonth().weekday();if(!e)return[];const t=this.getPrevMonth().daysInMonth();return j(Y(t-(e-1),t+1),i=>({date:String(i),isOtherMonth:!0}))},_getPostDates(){const e=this.getCurrentMonth().endOf("month").weekday();return e===6?[]:j(Y(1,7-e),t=>({date:String(t),isOtherMonth:!0}))},_getDates(){const e=this.getCurrentMonth(),t=e.isSame(b(),"month")&&b().date();return j(Y(1,e.daysInMonth()+1),i=>{const l=this._isBeforeBeginDate(i)||this._isAfterEndDate(i);return{date:String(i),isDisabled:l,isSelected:!l&&this._isSelectedDate(i),isToday:t===i}})},_isBeforeBeginDate(e){const t=this.dayjs("beginDate");return t?this.getCurrentMonth().date(e).isBefore(t,"day"):!1},_isAfterEndDate(e){const t=this.dayjs("endDate");return t?this.getCurrentMonth().date(e).isAfter(t,"day"):!1},_isSelectedDate(e){const t=this.dayjs("selectedDate");return!t||!this.getCurrentMonth().isSame(t,"month")?!1:t.date()===e}}),ct=["position","uiView","ui"],ut=T.extend({StateModel:at,stateEvents:{change:"show","change:selectedDate":"onChangeStateSelectedDate","change:selectedMonth":"onChangeStateSelectedMonth"},onChangeStateSelectedDate(e,t){this.triggerMethod("change:selectedDate",t)},onChangeStateSelectedMonth(e,t){this.triggerMethod("change:selectedMonth",t)},constructor:function(e){this.mergeOptions(e,ct),this.listenTo(this.uiView,"render destroy",this.destroy),T.apply(this,arguments)},ViewClass:it,onSelectToday(){this.getState().setSelectedDate(b())},onSelectTomorrow(){this.getState().setSelectedDate(b().add(1,"days"))},onSelectClear(){const e=this.getState();e.setSelectedDate(null),e.setSelectedMonth(null)},onBeforeShow(e,t){t.showChildView("monthPicker",this.getMonthPickerView()),t.showChildView("actions",this.getActionsView()),t.showChildView("calendar",this.getCalendarView())},getMonthPickerView(){const e=this.getState(),t=new ot({model:e,canSelectMonth:this.getOption("canSelectMonth")});return this.listenTo(t,{"click:nextMonth":this.onSelectNextMonth,"click:prevMonth":this.onSelectPrevMonth,"click:month":this.onSelectMonth}),t},getActionsView(){const e=new nt;return this.listenTo(e,{"click:today":this.onSelectToday,"click:tomorrow":this.onSelectTomorrow,"click:clear":this.onSelectClear}),e},onSelectNextMonth(){const e=this.getState();e.setCurrentMonth(e.getNextMonth())},onSelectPrevMonth(){const e=this.getState();e.setCurrentMonth(e.getPrevMonth())},onSelectMonth(){const e=this.getState();e.setSelectedMonth(e.getCurrentMonth())},onSelectDate({model:e}){const t=this.getState(),i=e.get("date"),l=this.getState().getCurrentMonth();t.setSelectedDate(l.date(i))},getCalendarView(){const e=this.getState(),t=new lt({model:e,collection:e.getCalendar()});return this.listenTo(t,{"select:date":this.onSelectDate}),t},position(){return this.uiView.getBounds(this.ui)},regionOptions(){return v({popWidth:256},f(this,"position"))}}),ht=(e,t)=>e?qe(Ze(t),i=>{const l=Xe(i);return!!String(e).match(l)}):!1,dt=F.extend({selector:"input",ui(){return{input:this.getOption("selector")}},onDomRefresh(){const e=this.ui.input[0];!e||!e.style||(e.style.transform="TranslateY(-10000px)",e.focus(),setTimeout(function(){!e||!e.style||(e.style.transform="none")},30))}}),{ENTER_KEY:mt}=Se,gt=F.extend({events:{"keydown @ui.input":"watchKeyDown","keyup @ui.input":"watchKeyUp","input @ui.input":"watchInput"},ui:{input:"input"},onDomRefresh(){this._currentText=this.getWatchText()},getWatchText(){return this.ui.input.val()},watchKeyDown(e){this.view.triggerMethod("watch:keydown",e),this._evt=e},watchInput(){this._evt&&(this._evt.isDefaultPrevented()||this.watchKeyUp(this._evt))},watchKeyUp:We(function(e){if(this.view.isRendered()){if(e.which===mt){e.preventDefault();return}this.view.triggerMethod("watch:keyup",e),this.triggerWatchChange()}},1),triggerWatchChange(){const e=this.getWatchText();e!==this._currentText&&(this._currentText=e,this.view.triggerMethod("watch:change",e))}}),ft=F.extend({initialize(){this.listenTo(d.channel("user-activity"),"document:keydown",this.keydown)},keyEvents:{},triggerEvent(e,t,i){if(t.which===i)return this.view.triggerMethod(e,t),!0},keydown(e){fe(this.getOption("keyEvents"),(t,i)=>{if(!Z(t)){this.triggerEvent(i,e,t);return}return fe(t,S(this.triggerEvent,this,i,e))})}}),{ENTER_KEY:pt,ESCAPE_KEY:wt,DOWN_KEY:vt,TAB_KEY:yt,UP_KEY:bt}=Se,kt=F.extend({behaviors:[{behaviorClass:ft,keyEvents:{"transport:down":vt,"transport:up":bt,select:pt,close:[wt,yt]}}],options:{items:".js-picklist-item",scroll:".js-picklist-scroll"},events(){const e={};return e[`mouseenter ${this.getOption("items")}`]=this.onHoverItem,e},onAttach(){const e=this.getItems();this.scrollTo(e,e.filter(".is-selected"),"middle")},onHoverItem(e){this.updateTransport(this.getItems(),this.view.$(e.currentTarget))},onTransportDown(e){e.preventDefault();const t=this.getItems(),i=this._getNextHighlighted(t);this.updateTransport(t,i),this.scrollTo(t)},onTransportUp(e){e.preventDefault();const t=this.getItems(),i=this._getPrevHighlighted(t);this.updateTransport(t,i),this.scrollTo(t)},getItems(){return this.view.$(this.getOption("items"))},getHighlighted(e){return e.filter(".is-highlighted")},updateTransport(e,t){e.removeClass("is-highlighted"),t.addClass("is-highlighted")},_getPrevHighlighted(e){const t=this.getHighlighted(e);if(!t.length)return e.last();const i=e.index(t)-1;return i<0?t:e.eq(i)},_getNextHighlighted(e){const t=this.getHighlighted(e);if(!t.length)return e.first();const i=e.index(t)+1;return i===e.length?t:e.eq(i)},scrollTo(e,t,i){if(!e.length||((!t||!t.length)&&(t=this.getHighlighted(e)),!t.length))return;const l=this.view.$(this.getOption("scroll")),o=l.scrollTop(),s=l.outerHeight(),n=t.outerHeight(),r=t.position().top,a=r+n-s;let c=0;i==="middle"&&(c=s/2-n/2),r<0&&l.scrollTop(o+r+c),a>0&&l.scrollTop(o+a+c)},onSelect(e){e.preventDefault(),this.view.$(".is-highlighted").click()}}),ie=["attr","canClear","childView","childViewEventPrefix","className","clearText","emptyView","emptyViewOptions","headingText","infoText","isSelectlist","lists","noResultsText","placeholderText","template"],O=["attr","getItemSearchText","isCheckable","itemClassName","itemTemplate","itemTemplateContext"],xt="text",St=!1,_t=!1,Tt=p.extend({tagName:"li",className:"picklist--no-results",template:g.template({compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n=e.lookupProperty||function(r,a){if(Object.prototype.hasOwnProperty.call(r,a))return r[a]};return e.escapeExpression((s=(s=n(i,"noResultsText")||(t!=null?n(t,"noResultsText"):t))!=null?s:e.hooks.helperMissing,typeof s=="function"?s.call(t??(e.nullContext||{}),{name:"noResultsText",hash:{},data:o,loc:{start:{line:1,column:0},end:{line:1,column:19}}}):s))},useData:!0}),serializeData(){return this.options}}),Ct=p.extend({tagName:"li",itemTemplate:g.template({1:function(e,t,i,l,o){var s,n=e.lookupProperty||function(r,a){if(Object.prototype.hasOwnProperty.call(r,a))return r[a]};return e.escapeExpression((n(i,"fa")||t&&n(t,"fa")||e.hooks.helperMissing).call(t??(e.nullContext||{}),(s=t!=null?n(t,"icon"):t)!=null?n(s,"type"):s,(s=t!=null?n(t,"icon"):t)!=null?n(s,"icon"):s,{name:"fa",hash:{classes:(s=t!=null?n(t,"icon"):t)!=null?n(s,"classes"):s},data:o,loc:{start:{line:2,column:39},end:{line:2,column:86}}}))},3:function(e,t,i,l,o){var s=e.lookupProperty||function(n,r){if(Object.prototype.hasOwnProperty.call(n,r))return n[r]};return e.escapeExpression((s(i,"fas")||t&&s(t,"fas")||e.hooks.helperMissing).call(t??(e.nullContext||{}),"check",{name:"fas",hash:{classes:"u-icon--12 u-margin--l-16"},data:o,loc:{start:{line:3,column:21},end:{line:3,column:72}}}))},compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n=t??(e.nullContext||{}),r=e.lookupProperty||function(a,c){if(Object.prototype.hasOwnProperty.call(a,c))return a[c]};return`
    <div class="flex-grow">`+((s=r(i,"if").call(n,t!=null?r(t,"icon"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:27},end:{line:2,column:93}}}))!=null?s:"")+"<span>"+e.escapeExpression((r(i,"matchText")||t&&r(t,"matchText")||e.hooks.helperMissing).call(n,t!=null?r(t,"text"):t,t!=null?r(t,"query"):t,{name:"matchText",hash:{},data:o,loc:{start:{line:2,column:99},end:{line:2,column:123}}}))+`</span></div>
    `+((s=r(i,"if").call(n,t!=null?r(t,"isChecked"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:4},end:{line:3,column:79}}}))!=null?s:"")+`
  `},useData:!0}),itemClassName(){const e=[];return this.model.get("isDisabled")&&e.push("is-disabled"),this.model.get("hasDivider")&&e.push("has-divider"),e.join(" ")},className(){const e=["picklist__item","js-picklist-item",f(this,"itemClassName","")];return this.model===this.state.get("selected")&&e.push("is-selected"),e.join(" ")},triggers:{click:"select"},preinitialize(e){this.mergeOptions(e,["state",...O])},onRender(){this.searchText=this.getItemSearchText(this.model)},getItemSearchText(e){return this.$el.text()},itemTemplateContext:G,templateContext(){const e=this.getOption("isCheckable"),t=this.model===this.state.get("selected");return v({text:this.model.get(this.attr),query:this.state.get("query"),isChecked:e&&t},f(this,"itemTemplateContext"))},getTemplate(){return this.itemTemplate}}),Pt=$.extend({className:"picklist__group",tagName:"li",template:g.template({1:function(e,t,i,l,o){var s,n=e.lookupProperty||function(r,a){if(Object.prototype.hasOwnProperty.call(r,a))return r[a]};return'<div class="picklist__heading">'+e.escapeExpression((s=(s=n(i,"headingText")||(t!=null?n(t,"headingText"):t))!=null?s:e.hooks.helperMissing,typeof s=="function"?s.call(t??(e.nullContext||{}),{name:"headingText",hash:{},data:o,loc:{start:{line:2,column:54},end:{line:2,column:71}}}):s))+"</div>"},3:function(e,t,i,l,o){var s,n=t??(e.nullContext||{}),r=e.hooks.helperMissing,a=e.escapeExpression,c=e.lookupProperty||function(h,u){if(Object.prototype.hasOwnProperty.call(h,u))return h[u]};return'<div class="picklist__info">'+a((c(i,"fas")||t&&c(t,"fas")||r).call(n,"circle-info",{name:"fas",hash:{},data:o,loc:{start:{line:4,column:48},end:{line:4,column:69}}}))+a((s=(s=c(i,"infoText")||(t!=null?c(t,"infoText"):t))!=null?s:r,typeof s=="function"?s.call(n,{name:"infoText",hash:{},data:o,loc:{start:{line:4,column:69},end:{line:4,column:83}}}):s))+"</div>"},compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n=t??(e.nullContext||{}),r=e.lookupProperty||function(a,c){if(Object.prototype.hasOwnProperty.call(a,c))return a[c]};return`
    `+((s=r(i,"if").call(n,t!=null?r(t,"headingText"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:4},end:{line:2,column:84}}}))!=null?s:"")+`
    <ul></ul>
    `+((s=r(i,"if").call(n,t!=null?r(t,"infoText"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:4},end:{line:4,column:96}}}))!=null?s:"")+`
  `},useData:!0}),serializeCollection:G,childViewContainer:"ul",childViewEventPrefix:"item",modelEvents:{"change:query":"filter"},viewFilter(e){e.render();const t=this.model.get("query");return!t||!e.searchText||ht(e.searchText,t)},initialize(e){this.mergeOptions(e,O)},childViewOptions(){const e=ce(this,...O);return v({state:this.model},e)},templateContext(){return{headingText:this.getOption("headingText"),infoText:this.getOption("infoText")}}}),Rt=$.extend({behaviors:[{behaviorClass:dt,selector:".js-input"},gt,kt],template:g.template({1:function(e,t,i,l,o){var s,n=e.lookupProperty||function(r,a){if(Object.prototype.hasOwnProperty.call(r,a))return r[a]};return'<div class="picklist__heading u-margin--b-8">'+e.escapeExpression((s=(s=n(i,"headingText")||(t!=null?n(t,"headingText"):t))!=null?s:e.hooks.helperMissing,typeof s=="function"?s.call(t??(e.nullContext||{}),{name:"headingText",hash:{},data:o,loc:{start:{line:3,column:70},end:{line:3,column:87}}}):s))+"</div>"},3:function(e,t,i,l,o){var s,n=t??(e.nullContext||{}),r=e.hooks.helperMissing,a="function",c=e.escapeExpression,h=e.lookupProperty||function(u,m){if(Object.prototype.hasOwnProperty.call(u,m))return u[m]};return'<input type="text" class="js-input picklist__input input-primary--small" placeholder="'+c((s=(s=h(i,"placeholderText")||(t!=null?h(t,"placeholderText"):t))!=null?s:r,typeof s===a?s.call(n,{name:"placeholderText",hash:{},data:o,loc:{start:{line:4,column:112},end:{line:4,column:133}}}):s))+'" value="'+c((s=(s=h(i,"query")||(t!=null?h(t,"query"):t))!=null?s:r,typeof s===a?s.call(n,{name:"query",hash:{},data:o,loc:{start:{line:4,column:142},end:{line:4,column:153}}}):s))+'">'},5:function(e,t,i,l,o){var s,n=e.lookupProperty||function(r,a){if(Object.prototype.hasOwnProperty.call(r,a))return r[a]};return'<div><a class="picklist__item js-picklist-item js-clear">'+e.escapeExpression((s=(s=n(i,"clearText")||(t!=null?n(t,"clearText"):t))!=null?s:e.hooks.helperMissing,typeof s=="function"?s.call(t??(e.nullContext||{}),{name:"clearText",hash:{},data:o,loc:{start:{line:5,column:79},end:{line:5,column:94}}}):s))+"</a></div>"},7:function(e,t,i,l,o){var s,n=t??(e.nullContext||{}),r=e.hooks.helperMissing,a=e.escapeExpression,c=e.lookupProperty||function(h,u){if(Object.prototype.hasOwnProperty.call(h,u))return h[u]};return'<div class="picklist__info ">'+a((c(i,"fas")||t&&c(t,"fas")||r).call(n,"circle-info",{name:"fas",hash:{},data:o,loc:{start:{line:8,column:49},end:{line:8,column:70}}}))+a((s=(s=c(i,"infoText")||(t!=null?c(t,"infoText"):t))!=null?s:r,typeof s=="function"?s.call(n,{name:"infoText",hash:{},data:o,loc:{start:{line:8,column:70},end:{line:8,column:84}}}):s))+"</div>"},compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n=t??(e.nullContext||{}),r=e.lookupProperty||function(a,c){if(Object.prototype.hasOwnProperty.call(a,c))return a[c]};return`
    <div>
      `+((s=r(i,"if").call(n,t!=null?r(t,"headingText"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:6},end:{line:3,column:100}}}))!=null?s:"")+`
      `+((s=r(i,"if").call(n,t!=null?r(t,"isSelectlist"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:6},end:{line:4,column:162}}}))!=null?s:"")+`
      `+((s=r(i,"if").call(n,t!=null?r(t,"canClear"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:5,column:6},end:{line:5,column:111}}}))!=null?s:"")+`
    </div>
    <ul class="flex-region picklist__scroll js-picklist-scroll"></ul>
    `+((s=r(i,"if").call(n,t!=null?r(t,"infoText"):t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:4},end:{line:8,column:97}}}))!=null?s:"")+`
  `},useData:!0}),triggers:{"focus @ui.input":"focus","click @ui.clear":"clear"},ui:{input:".js-input",clear:".js-clear"},onClear(){this.triggerMethod("picklist:item:select",{model:null})},serializeCollection:G,childViewContainer:"ul",emptyView:Tt,initialize(e){this.mergeOptions(e,ie),this.mergeOptions(e,O),this.debouncedFilter=ee(this.filter,1),B(this.lists,this.addList,this)},addList(e){const t=v({model:this.model,childView:this.childView},ce(this,...O),e),i=new Pt(t);i.render(),this.addChildView(i)},viewFilter(e){return!!ze(e.children)||e.shouldShow},childViewEvents:{"before:render:children"(){return this.debouncedFilter()}},onRenderChildren(){this.$(".js-picklist-item").removeClass("is-highlighted"),this.model.get("query")&&this.$(".js-picklist-item").first().addClass("is-highlighted")},emptyViewOptions(){return{noResultsText:this.noResultsText}},templateContext(){return{canClear:this.canClear,clearText:this.clearText,headingText:this.headingText,infoText:this.infoText,placeholderText:this.placeholderText,isSelectlist:this.isSelectlist}}}),ne=T.extend({attr:xt,canClear:St,isSelectList:_t,childView:Ct,className:"picklist",childViewEventPrefix:"picklist",clearText:H.components.picklist.clearText,headingText:"",infoText:"",noResultsText:H.components.picklist.noResultsText,constructor:function(e){this.mergeOptions(e,ie),this.mergeOptions(e,O),T.apply(this,arguments)},viewOptions(){const e=ce(this,...ie,...O);return v({model:this.getState()},e)},ViewClass:Rt,viewEvents:{"watch:change":"onWatchChange"},onWatchChange(e){this.setState("query",e)}}),Ot=["align","collection","lists","picklistEvents","picklistOptions","popRegion","popWidth","position","viewOptions"],Mt={attr:"text",canClear:!1,headingText:null,infoText:null,isSelectlist:!1,placeholderText:null},Dt=null,Et={className:"button-secondary",template:g.template({1:function(e,t,i,l,o){var s,n=e.lookupProperty||function(r,a){if(Object.prototype.hasOwnProperty.call(r,a))return r[a]};return e.escapeExpression((n(i,"fa")||t&&n(t,"fa")||e.hooks.helperMissing).call(t??(e.nullContext||{}),(s=t!=null?n(t,"icon"):t)!=null?n(s,"type"):s,(s=t!=null?n(t,"icon"):t)!=null?n(s,"icon"):s,{name:"fa",hash:{classes:(s=t!=null?n(t,"icon"):t)!=null?n(s,"classes"):s},data:o,loc:{start:{line:2,column:17},end:{line:2,column:64}}}))},3:function(e,t,i,l,o){var s=e.lookupProperty||function(n,r){if(Object.prototype.hasOwnProperty.call(n,r))return n[r]};return"<span>"+e.escapeExpression(s(i,"lookup").call(t??(e.nullContext||{}),t,t!=null?s(t,"attr"):t,{name:"lookup",hash:{},data:o,loc:{start:{line:3,column:37},end:{line:3,column:57}}}))+"</span>"},5:function(e,t,i,l,o){var s,n=e.lookupProperty||function(r,a){if(Object.prototype.hasOwnProperty.call(r,a))return r[a]};return(s=n(i,"if").call(t??(e.nullContext||{}),t!=null?n(t,"defaultText"):t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:6},end:{line:4,column:64}}}))!=null?s:""},6:function(e,t,i,l,o){var s,n=e.lookupProperty||function(r,a){if(Object.prototype.hasOwnProperty.call(r,a))return r[a]};return"<span>"+e.escapeExpression((s=(s=n(i,"defaultText")||(t!=null?n(t,"defaultText"):t))!=null?s:e.hooks.helperMissing,typeof s=="function"?s.call(t??(e.nullContext||{}),{name:"defaultText",hash:{},data:o,loc:{start:{line:4,column:32},end:{line:4,column:49}}}):s))+"</span>"},compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n=t??(e.nullContext||{}),r=e.lookupProperty||function(a,c){if(Object.prototype.hasOwnProperty.call(a,c))return a[c]};return((s=r(i,"if").call(n,t!=null?r(t,"icon"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:4},end:{line:2,column:71}}}))!=null?s:"")+((s=r(i,"if").call(n,r(i,"lookup").call(n,t,t!=null?r(t,"attr"):t,{name:"lookup",hash:{},data:o,loc:{start:{line:3,column:11},end:{line:3,column:29}}}),{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:3,column:4},end:{line:5,column:11}}}))!=null?s:"")},useData:!0}),templateContext(){return{attr:"text",defaultText:H.components.droplist.defaultText}}},Vt=y.Model.extend({defaults:{isDisabled:!1,isActive:!1,selected:null}}),Lt=p.extend({initialize({state:e}){this.model=e.selected},attributes(){return{disabled:this.getOption("state").isDisabled}},tagName:"button",triggers:{click:"click",focus:"focus"}}),At=T.extend({picklistOptions:Mt,popWidth:Dt,StateModel:Vt,ViewClass:Lt,constructor:function(e){this.mergeOptions(e,Ot),this.once("show",()=>{this.getState("isActive")&&this.showPicklist()}),T.apply(this,arguments)},mixinViewOptions(e){return v({state:this.getState().attributes},Et,f(this,"viewOptions"),e)},viewEvents:{click:"onClick"},onClick(){this.toggleState("isActive")},stateEvents:{"change:isDisabled":"onChangeIsDisabled","change:isActive":"onChangeIsActive","change:selected":"onChangeStateSelected"},onChangeIsDisabled(){this.show()},onChangeIsActive(e,t){const i=this.getView();i.$el.toggleClass("is-active",t),t&&(i.$el.blur(),this.showPicklist())},onChangeStateSelected(e,t){this.show(),this.triggerMethod("change:selected",t)},showPicklist(){const e=new ne(v({lists:this.lists||[{collection:this.collection}],state:{selected:this.getState("selected")}},f(this,"picklistOptions")));this.popRegion.show(e,this.popRegionOptions()),this.bindEvents(e.getView(),this._picklistEvents),this.bindEvents(e.getView(),f(this,"picklistEvents"))},position(){return this.getView().getBounds()},popRegionOptions(){return v({ignoreEl:this.getView().el,popWidth:f(this,"popWidth"),align:this.align},f(this,"position"))},_picklistEvents:{close:"onPicklistClose","picklist:item:select":"onPicklistSelect",destroy:"onPicklistDestroy"},onPicklistClose(){this.popRegion.empty()},onPicklistSelect({model:e}){this.popRegion.empty(),this.setState("selected",e)},onPicklistDestroy(){this.toggleState("isActive",!1)}},{setPopRegion(e){this.prototype.popRegion=e}}),jt=["align","ignoreEl","popWidth","position","uiView","ui"],$t="text",Ft="left",qt=null,Wt=ne.extend({attr:$t,align:Ft,popWidth:qt,constructor:function(e){this.mergeOptions(e,jt),this.listenTo(this.uiView,"render destroy",this.destroy),ne.apply(this,arguments)},viewTriggers:{close:"close","picklist:item:select":"select"},position(){return this.uiView.getBounds(this.ui)},regionOptions(){return v({ignoreEl:this.ignoreEl||this.ui[0],popWidth:this.popWidth,align:this.align},f(this,"position"))},onClose(){this.destroy()},onSelect({model:e}){if(e.get("isDisabled"))return;e.get("onSelect").call(this,e),this.destroy()}}),zt=["className","delay","ignoreEl","message","messageHtml","orientation","position","uiView","ui"],It=p.extend({template:g.template({compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n,r=t??(e.nullContext||{}),a=e.hooks.helperMissing,c="function",h=e.lookupProperty||function(u,m){if(Object.prototype.hasOwnProperty.call(u,m))return u[m]};return e.escapeExpression((n=(n=h(i,"message")||(t!=null?h(t,"message"):t))!=null?n:a,typeof n===c?n.call(r,{name:"message",hash:{},data:o,loc:{start:{line:1,column:0},end:{line:1,column:13}}}):n))+((s=(n=(n=h(i,"messageHtml")||(t!=null?h(t,"messageHtml"):t))!=null?n:a,typeof n===c?n.call(r,{name:"messageHtml",hash:{},data:o,loc:{start:{line:1,column:13},end:{line:1,column:32}}}):n))!=null?s:"")},useData:!0}),templateContext(){return{message:this.getOption("message"),messageHtml:this.getOption("messageHtml")}}}),Nt=T.extend({ViewClass:It,className:"tooltip",delay:0,constructor:function(e){this.mergeOptions(e,zt),this.setListeners(),this.listenTo(this.uiView,"render destroy",this.destroy),T.apply(this,arguments)},setListeners(){this.ui&&(this.ui.on("pointerenter.tooltip",S(this.showTooltip,this)),this.ui.on("mouseleave.tooltip",S(this.hideTooltip,this)),this.ui.on("pointerdown.tooltip",S(this.showTooltip,this)))},showTooltip(){clearTimeout(this.delayTimeout);const e=f(this,"delay");this.delayTimeout=ue(S(this.show,this),e)},hideTooltip(){clearTimeout(this.delayTimeout),this.empty()},onBeforeDestroy(){clearTimeout(this.delayTimeout)},onShow(){U({targets:this.getView().el,duration:1500,opacity:[0,1]})},viewOptions(){return{className:f(this,"className"),message:f(this,"message"),messageHtml:f(this,"messageHtml")}},position(){return this.uiView.getBounds(this.ui)},regionOptions(){const e=f(this,"orientation"),t=f(this,"ignoreEl");return v({orientation:e,ignoreEl:t},f(this,"position"))}}),Bt=g.template({1:function(e,t,i,l,o){var s,n=e.lookupProperty||function(r,a){if(Object.prototype.hasOwnProperty.call(r,a))return r[a]};return' <button class="alert-box__link js-undo" type="button">'+e.escapeExpression(e.lambda((s=(s=(s=(s=o&&n(o,"intl"))&&n(s,"globals"))&&n(s,"alertBox"))&&n(s,"alertBoxTemplate"))&&n(s,"undoBtn"),t))+"</button>"},compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n,r=t??(e.nullContext||{}),a=e.hooks.helperMissing,c="function",h=e.escapeExpression,u=e.lookupProperty||function(m,w){if(Object.prototype.hasOwnProperty.call(m,w))return m[w]};return'<div class="alert-box__icon '+h((n=(n=u(i,"alertType")||(t!=null?u(t,"alertType"):t))!=null?n:a,typeof n===c?n.call(r,{name:"alertType",hash:{},data:o,loc:{start:{line:1,column:28},end:{line:1,column:43}}}):n))+`">
  `+h((u(i,"far")||t&&u(t,"far")||a).call(r,t!=null?u(t,"iconType"):t,{name:"far",hash:{},data:o,loc:{start:{line:2,column:2},end:{line:2,column:18}}}))+`
</div>
<div class="alert-box__body">
  `+h((n=(n=u(i,"text")||(t!=null?u(t,"text"):t))!=null?n:a,typeof n===c?n.call(r,{name:"text",hash:{},data:o,loc:{start:{line:5,column:2},end:{line:5,column:12}}}):n))+((s=(n=(n=u(i,"html")||(t!=null?u(t,"html"):t))!=null?n:a,typeof n===c?n.call(r,{name:"html",hash:{},data:o,loc:{start:{line:5,column:12},end:{line:5,column:24}}}):n))!=null?s:"")+((s=u(i,"if").call(r,t!=null?u(t,"hasUndo"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:5,column:24},end:{line:5,column:163}}}))!=null?s:"")+`
</div>
<button class="alert-box__cancel js-dismiss" type="button">`+h(e.lambda((s=(s=(s=(s=o&&u(o,"intl"))&&u(s,"globals"))&&u(s,"alertBox"))&&u(s,"alertBoxTemplate"))&&u(s,"dismissBtn"),t))+`</button>
`},useData:!0}),Ht=["alertType","text","html","hasUndo"],Ut={success:"circle-check",info:"circle-info",error:"circle-xmark"},Gt=p.extend({className:"alert-box",alertType:"info",template:Bt,triggers:{"click .js-dismiss":"click:dismiss","click .js-undo":"click:undo"},initialize(e){this.mergeOptions(e,Ht)},onAttach(){U({targets:this.el,duration:900,translateY:[-10,0],opacity:[0,1],easing:"easeInOutQuad"})},onClickDismiss(){this.dismiss()},onClickUndo(){this.isDismissed||(this._dismiss(),this.triggerMethod("undo",this))},_dismiss(){this.isDismissed=!0,U({targets:this.el,opacity:[1,0],duration:800,easing:"easeInSine",complete:S(this.destroy,this)})},dismiss(){this.isDismissed||(this._dismiss(),this.triggerMethod("dismiss",this))},templateContext(){return{alertType:this.alertType,text:this.text,html:this.html,hasUndo:this.hasUndo,iconType:Ut[this.alertType]}}}),Kt=$.extend({className:"alert-box__container",onRemoveChild(){this.children.length||this.destroy()}}),Yt=4e3,Jt=k.extend({channelName:"alert",radioRequests:{show:"showAlert","show:success":"showSuccess","show:info":"showInfo","show:error":"showError","show:undo":"showUndo","show:apiError":"showApiError"},showAlert(e){const t=new Gt(e);ue(function(){t.dismiss()},Yt);let i=this.getView();return i||(i=this.showView(new Kt)),i.addChildView(t)},showSuccess(e){this.showAlert({text:e,alertType:"success"})},showInfo(e){this.showAlert({text:e,alertType:"info"})},showError(e){this.showAlert({text:e,alertType:"error"})},showUndo(e){e=v({hasUndo:!0},e);const t=this.showAlert(ye(e,"onUndo","onComplete"));this.listenTo(t,{undo:e.onUndo,dismiss:e.onComplete})},showApiError(e){const t=e.errors;t.length&&B(t,i=>this.showAlert({text:i.detail,alertType:"error"}))}}),Qt=k.extend({channelName:"settings",radioRequests:{get:"getSetting"},initialize({settings:e}){this.settings=e},getSetting(e){const i=d.request("workspace","current").get("settings"),l=x(i,e);if(l)return l;const o=this.settings.get(e);if(o)return o.get("value")}}),Xt=k.extend({channelName:"widgets",radioRequests:{sidebarWidgets:"getSidebarWidgets",build:"buildWidgets",find:"findWidget"},initialize({widgets:e}){this.widgets=e},findWidget(e){return this.widgets.find({slug:e})},getSidebarWidgets(){const e=d.request("settings","get","widgets_patient_sidebar");return this.buildWidgets(x(e,"widgets"))},buildWidgets(e){const t=j(e,this.findWidget,this),i=Ie(Ne(t),"omit","id");return d.request("entities","widgets:collection",i)}});var oe=ss(),Zt=is(),es=ns(),ts=typeof window<"u"?window:Be,K={assign:oe,create:Zt,trim:es,bind:os,slice:re,each:_e,map:rs,pluck:de,isList:me,isFunction:ls,isObject:as,Global:ts};function ss(){return Object.assign?Object.assign:function(t,i,l,o){for(var s=1;s<arguments.length;s++)_e(Object(arguments[s]),function(n,r){t[r]=n});return t}}function is(){if(Object.create)return function(t,i,l,o){var s=re(arguments,1);return oe.apply(this,[Object.create(t)].concat(s))};{let e=function(){};return function(i,l,o,s){var n=re(arguments,1);return e.prototype=i,oe.apply(this,[new e].concat(n))}}}function ns(){return String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function os(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function re(e,t){return Array.prototype.slice.call(e,t||0)}function _e(e,t){de(e,function(i,l){return t(i,l),!1})}function rs(e,t){var i=me(e)?[]:{};return de(e,function(l,o){return i[o]=t(l,o),!1}),i}function de(e,t){if(me(e)){for(var i=0;i<e.length;i++)if(t(e[i],i))return e[i]}else for(var l in e)if(e.hasOwnProperty(l)&&t(e[l],l))return e[l]}function me(e){return e!=null&&typeof e!="function"&&typeof e.length=="number"}function ls(e){return e&&{}.toString.call(e)==="[object Function]"}function as(e){return e&&{}.toString.call(e)==="[object Object]"}var C=K,cs=C.slice,us=C.pluck,M=C.each,hs=C.bind,ds=C.create,J=C.isList,Q=C.isFunction,ms=C.isObject,gs={createStore:le},fs={version:"2.0.12",enabled:!1,get:function(e,t){var i=this.storage.read(this._namespacePrefix+e);return this._deserialize(i,t)},set:function(e,t){return t===void 0?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(i,l){e.call(t,t._deserialize(i),(l||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return le.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return le(this.storage,this.plugins,e)}};function ps(){var e=typeof console>"u"?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}function le(e,t,i){i||(i=""),e&&!J(e)&&(e=[e]),t&&!J(t)&&(t=[t]);var l=i?"__storejs_"+i+"_":"",o=i?new RegExp("^"+l):null,s=/^[a-zA-Z0-9_\-]*$/;if(!s.test(i))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var n={_namespacePrefix:l,_namespaceRegexp:o,_testStorage:function(a){try{var c="__storejs__test__";a.write(c,c);var h=a.read(c)===c;return a.remove(c),h}catch{return!1}},_assignPluginFnProp:function(a,c){var h=this[c];this[c]=function(){var m=cs(arguments,0),w=this;function W(){if(h)return M(arguments,function(Ae,je){m[je]=Ae}),h.apply(w,m)}var Le=[W].concat(m);return a.apply(w,Le)}},_serialize:function(a){return JSON.stringify(a)},_deserialize:function(a,c){if(!a)return c;var h="";try{h=JSON.parse(a)}catch{h=a}return h!==void 0?h:c},_addStorage:function(a){this.enabled||this._testStorage(a)&&(this.storage=a,this.enabled=!0)},_addPlugin:function(a){var c=this;if(J(a)){M(a,function(m){c._addPlugin(m)});return}var h=us(this.plugins,function(m){return a===m});if(!h){if(this.plugins.push(a),!Q(a))throw new Error("Plugins must be function values that return objects");var u=a.call(this);if(!ms(u))throw new Error("Plugins must return an object of function properties");M(u,function(m,w){if(!Q(m))throw new Error("Bad plugin property: "+w+" from plugin "+a.name+". Plugins should only return functions.");c._assignPluginFnProp(m,w)})}},addStorage:function(a){ps("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(a)}},r=ds(n,fs,{plugins:[]});return r.raw={},M(r,function(a,c){Q(a)&&(r.raw[c]=hs(r,a))}),M(e,function(a){r._addStorage(a)}),M(t,function(a){r._addPlugin(a)}),r}var ws=K,vs=ws.Global,ys={name:"localStorage",read:Te,write:bs,each:ks,remove:xs,clearAll:Ss};function D(){return vs.localStorage}function Te(e){return D().getItem(e)}function bs(e,t){return D().setItem(e,t)}function ks(e){for(var t=D().length-1;t>=0;t--){var i=D().key(t);e(Te(i),i)}}function xs(e){return D().removeItem(e)}function Ss(){return D().clear()}var _s=K,Ts=_s.Global,Cs={name:"sessionStorage",read:Ce,write:Ps,each:Rs,remove:Os,clearAll:Ms};function E(){return Ts.sessionStorage}function Ce(e){return E().getItem(e)}function Ps(e,t){return E().setItem(e,t)}function Rs(e){for(var t=E().length-1;t>=0;t--){var i=E().key(t);e(Ce(i),i)}}function Os(e){return E().removeItem(e)}function Ms(){return E().clear()}var Pe=K,Ds=Pe.Global,Es=Pe.trim,Vs={name:"cookieStorage",read:Ls,write:As,each:Re,remove:Oe,clearAll:js},q=Ds.document;function Ls(e){if(!e||!Me(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(q.cookie.replace(new RegExp(t),"$1"))}function Re(e){for(var t=q.cookie.split(/; ?/g),i=t.length-1;i>=0;i--)if(Es(t[i])){var l=t[i].split("="),o=unescape(l[0]),s=unescape(l[1]);e(s,o)}}function As(e,t){e&&(q.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function Oe(e){!e||!Me(e)||(q.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function js(){Re(function(e,t){Oe(t)})}function Me(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(q.cookie)}var $s={name:"memoryStorage",read:Fs,write:qs,each:Ws,remove:zs,clearAll:Is},P={};function Fs(e){return P[e]}function qs(e,t){P[e]=t}function Ws(e){for(var t in P)P.hasOwnProperty(t)&&e(P[t],t)}function zs(e){delete P[e]}function Is(e){P={}}var Ns=gs,Bs=[ys,Cs,Vs,$s],Hs=[],Us=Ns.createStore(Bs,Hs);const _=He(Us),Gs=k.extend({channelName:"workspace",radioRequests:{current:"getCurrentWorkspace",directories:"getDirectories",fetch:"fetchWorkspace"},_getWorkspace(e){const i=d.request("bootstrap","currentUser").getWorkspaces();if(!i.length)throw"No workspaces found";return i.find({slug:e})||i.find({id:_.get("currentWorkspace")})||i.at(0)},_setCurrentWorkspace(e){const t=this._getWorkspace(e);return t.id!==x(this.currentWorkspace,"id")&&(_.set("currentWorkspace",t.id),this.currentWorkspace=t,this.getChannel().trigger("change:workspace",t)),t},getCurrentWorkspace(e){return e?this._setCurrentWorkspace(e):this.currentWorkspace},getDirectories(){return this.directories.clone()},_getSharedWorkspaces(e){const t=d.request("entities","workspaces:collection");return e.each(i=>{const l=i.getUserWorkspaces();t.add(l.models)}),t},initialize({route:e}){this._setCurrentWorkspace(e)},beforeStart(){return[d.request("entities","fetch:directories:filterable"),d.request("entities","fetch:programs:byWorkspace",this.currentWorkspace.id),d.request("entities","fetch:states:collection"),d.request("entities","fetch:forms:collection")]},onStart(e,t,i){this.directories=t;const o=this._getSharedWorkspaces(i).map(s=>d.request("entities","fetch:clinicians:byWorkspace",s.id));Promise.all([...o]).then(()=>{this.resolvePromise(this.currentWorkspace)}).catch((...s)=>{this.rejectPromise(...s),this.stop()})},onFail(e,...t){this.rejectPromise(...t)},fetchWorkspace(){const e=new Promise((t,i)=>{this.resolvePromise=t,this.rejectPromise=i});return this.isRunning()?(this.restart(),e):(this.start(),e)}});let I;function Ks(e,t){const i=e.reject({name:"patient"});return t?i:Ue(i,l=>ke(l.get("permissions"),"clinicians:admin"))}const Ys=k.extend({channelName:"bootstrap",radioRequests:{currentUser:"getCurrentUser",workspaces:"getWorkspaces",organization:"getOrganization",roles:"getActiveRoles",teams:"getTeams",fetch:"fetchBootstrap"},getCurrentUser(){return this.currentUser},getOrganization(){return this.organization},getWorkspaces(){return this.workspaces.clone()},getActiveRoles(){if(I)return I;const e=this.currentUser.can("clinicians:admin"),t=Ks(this.roles,e);return I=d.request("entities","roles:collection",t),I},getTeams(){return this.teams.clone()},initialize({name:e}){this.organization=new y.Model({name:e}),d.reply("workspace","current")},beforeStart(){return[d.request("entities","fetch:clinicians:current"),d.request("entities","fetch:roles:collection"),d.request("entities","fetch:teams:collection"),d.request("entities","fetch:workspaces:collection"),d.request("entities","fetch:settings:collection"),d.request("entities","fetch:widgets:collection")]},onStart(e,t,i,l,o,s,n){this.currentUser=t,this.roles=i,this.teams=l,this.workspaces=o,new Qt({settings:s}),new Xt({widgets:n}),d.reset("workspace"),new Gs({route:be()}),this.resolvePromise(t)},onFail(e,...t){this.rejectPromise(...t)},fetchBootstrap(){const e=new Promise((t,i)=>{this.resolvePromise=t,this.rejectPromise=i});return this.start(),e}}),Js=k.extend({channelName:"history",radioRequests:{"go:back":"goBack"},initialize(){const e=y.history.navigate;this._prevHistory=[y.history.getFragment()],y.history.navigate=(t,i)=>{const l=e.call(y.history,t,i);return l===!1?!1:(this.setPrevious(t,i),this.triggerChange(),l)},window.addEventListener("popstate",()=>{const t=y.history.getFragment();t===this._prevHistory.at(1)?this._prevHistory.shift():this._prevHistory.unshift(t),this.triggerChange()})},setPrevious(e,{replace:t}){if(t){this._prevHistory[0]=e;return}this._prevHistory.unshift(e)},triggerChange(){this.getChannel().trigger("change:route",this._prevHistory[0])},goBack(e){if(e&&this._prevHistory.length<2){e();return}this._prevHistory.shift(),y.history.navigate(this._prevHistory.shift(),{trigger:!0})}}),Qs=k.extend({channelName:"history",radioRequests:{"set:latestList":"setLatestList","has:latestList":"hasLatestList","go:latestList":"goLatestList"},setLatestList(e,t=[]){this._latestList=e,this._latestListArgs=t},hasLatestList(){return!!this._latestList},goLatestList(){this.hasLatestList()&&d.trigger("event-router",this._latestList,...this._latestListArgs)}});function Xs(e){return e?d.request("entities","teams:model",e).getAssignableClinicians():d.request("workspace","current").getAssignableClinicians()}const Zs=k.extend({startAfterInitialized:!0,channelName(){return`form${this.getOption("form").id}`},channelRequest(){return this.isDestroyed()?void 0:this.getChannel().request(...arguments)},initialize(e){this.updateDraft=ee(this.updateDraft,15e3),this.refreshForm=ee(this.refreshForm,18e5),this.mergeOptions(e,["action","form","patient","responses","latestResponse"]),this.currentUser=d.request("bootstrap","currentUser")},onBeforeDestroy(){this.updateDraft.cancel(),this.refreshForm.cancel()},radioRequests:{"ready:form":"readyForm","submit:form":"submitForm","fetch:clinicians":"fetchClinicians","fetch:directory":"fetchDirectory","fetch:form":"fetchForm","fetch:form:data":"fetchFormPrefill","fetch:form:response":"fetchFormResponse","update:storedSubmission":"updateStoredSubmission","get:storedSubmission":"getStoredSubmission","clear:storedSubmission":"clearStoredSubmission","fetch:field":"fetchField","update:field":"updateField","fetch:icd":"fetchIcd",version:"checkVersion"},readyForm(){this.trigger("ready"),this.refreshForm()},checkVersion(e){e!==Ge.frontend&&window.location.reload()},isReadOnly(){const e=this.action&&this.action.isLocked(),t=this.action&&!this.action.canSubmit();return this.form.isReadOnly()||e||t},getStoreId(){const e=x(this.action,"id"),t=[this.currentUser.id,this.patient.id,this.form.id];return e&&t.push(e),`form-subm-${t.join("-")}`},getLatestDraft(){return this.responses&&this.responses.first()!==this.latestResponse?{}:this.latestResponse&&this.latestResponse.getDraft()||{}},getStoredSubmission(){const e=this.getLatestDraft(),t=_.get(this.getStoreId())||{};return e.updated&&(!t.updated||b(e.updated).isAfter(t.updated))?(this.trigger("update:submission",e.updated),e):(t.updated&&this.trigger("update:submission",t.updated),t)},updateStoredSubmission(e){if(this.isReadOnly())return;const t=b().format();this._draft=e;try{_.set(this.getStoreId(),{submission:e,updated:t}),this.trigger("update:submission",t)}catch{_.each((i,l)=>{String(l).startsWith("form-subm-")&&_.remove(l)}),_.set(this.getStoreId(),{submission:e,updated:t})}this.updateDraft(),this.refreshForm()},clearStoredSubmission(){this.latestResponse=null,_.remove(this.getStoreId()),this.trigger("update:submission")},fetchField({fieldName:e,requestId:t}){const i=d.request("entities","patientFields:model",{name:e,_patient:this.patient.id});return i.fetch().then(()=>{this.channelRequest("send","fetch:field",{value:i.get("value"),requestId:t})}).catch(({responseData:l})=>{this.channelRequest("send","fetch:field",{error:l,requestId:t})})},updateField({fieldName:e,value:t,requestId:i}){const l=d.request("entities","patientFields:model",{name:e,value:t,_patient:this.patient.id});return l.saveAll().then(()=>{this.channelRequest("send","update:field",{value:l.get("value"),requestId:i})}).catch(({responseData:o})=>{this.channelRequest("send","update:field",{error:o,requestId:i})})},fetchClinicians({teamId:e,requestId:t}){const i=Xs(e);this.channelRequest("send","fetch:directory",{value:i.toJSON(),requestId:t})},fetchDirectory({directoryName:e,query:t,requestId:i}){return Promise.resolve(d.request("entities","fetch:directories:model",e,t)).then(l=>{this.channelRequest("send","fetch:directory",{value:l.get("value"),requestId:i})}).catch(({responseData:l})=>{this.channelRequest("send","fetch:directory",{error:l,requestId:i})})},fetchIcd({by:e,requestId:t}){return Promise.resolve(d.request("entities","fetch:icd",e)).then(i=>{this.channelRequest("send","fetch:icd",{value:x(i,["data","icdCodes"]),requestId:t})}).catch(({responseData:i})=>{this.channelRequest("send","fetch:icd",{error:i,requestId:t})})},fetchForm(){return Promise.resolve(d.request("entities","fetch:forms:definition",this.form.id)).then(e=>{this.channelRequest("send","fetch:form",{definition:e,contextScripts:this.form.getContextScripts()})})},fetchFormStoreSubmission({submission:e}){return Promise.all([d.request("entities","fetch:forms:definition",this.form.id)]).then(([t])=>{this.channelRequest("send","fetch:form:data",{definition:t,storedSubmission:e,...ye(this.form.getContext(),"loaderReducers")})})},_getPrefillFilters({flowId:e,patientId:t},i){const l={status:z.SUBMITTED,flow:e,patient:t};i.isReport()&&(l.submitted=`<=${this.action.get("created_at")}`);const s=i.getPrefillActionTag();return s?(l["action.tags"]=s,l):(l.form=i.getPrefillFormId(),l)},fetchLatestFormSubmission(e){const t=this.isReadOnly(),i=x(this.action,"id"),l=this.patient.id,o=this._getPrefillFilters({flowId:e,patientId:l},this.form);return Promise.all([d.request("entities","fetch:forms:definition",this.form.id),d.request("entities","fetch:forms:data",i,l,this.form.id),d.request("entities","fetch:formResponses:latest",o)]).then(([s,n,r])=>{this.channelRequest("send","fetch:form:data",{definition:s,isReadOnly:t,formData:n.attributes,responseData:r.getFormData(),formSubmission:r.getResponse(),...this.form.getContext()})})},fetchFormPrefill(){const e=this.getStoredSubmission(),t=this.isReadOnly();if(!t&&e.updated)return this.fetchFormStoreSubmission(e);const i=this.responses&&this.responses.getFirstSubmission();if(!i&&this.action){if(this.action.hasTag("prefill-latest-response"))return this.fetchLatestFormSubmission();if(this.action.hasTag("prefill-flow-response"))return this.fetchLatestFormSubmission(this.action.get("_flow"))}return Promise.all([d.request("entities","fetch:forms:definition",this.form.id),d.request("entities","fetch:forms:data",x(this.action,"id"),this.patient.id,this.form.id),d.request("entities","fetch:formResponses:model",x(i,"id"))]).then(([l,o,s])=>{this.channelRequest("send","fetch:form:data",{definition:l,isReadOnly:t,formData:o.attributes,responseData:s.getFormData(),formSubmission:s.getResponse(),...this.form.getContext()})})},fetchFormResponse({responseId:e}){return Promise.all([d.request("entities","fetch:forms:definition",this.form.id),d.request("entities","fetch:formResponses:model",e)]).then(([t,i])=>{this.channelRequest("send","fetch:form:response",{definition:t,responseData:i.getFormData(),formSubmission:i.getResponse(),contextScripts:this.form.getContextScripts()})})},useLatestDraft(e){return!this.latestResponse||this.latestResponse.get("status")!==z.DRAFT?e:{...e,id:this.latestResponse.id}},updateDraft(){const e=this.useLatestDraft({response:{data:this._draft},status:z.DRAFT,_form:this.form,_patient:this.patient,_action:this.action}),t=d.request("entities","formResponses:model",e);return this.latestResponse=t,t.saveAll().catch(({responseData:i})=>{i&&this.trigger("error",i.errors)})},refreshForm(){this.trigger("refresh")},submitForm({response:e}){this.updateDraft.cancel(),this.refreshForm.cancel();const t=this.useLatestDraft({response:e,status:z.SUBMITTED,_form:this.form,_patient:this.patient,_action:this.action}),i=d.request("entities","formResponses:model",t);return this.trigger("submit"),i.saveAll().then(()=>{this.updateDraft.cancel(),this.refreshForm.cancel(),this.clearStoredSubmission(),this.trigger("success",i)}).catch(({responseData:l})=>{if(!l)return;this.trigger("error",l.errors);const o=j(l.errors,"detail");this.channelRequest("send","form:errors",o)})}});function ei(e){return U({targets:e,translateX:[{value:20,duration:0},{value:0,duration:200}],opacity:[{value:0,duration:0},{value:1,duration:300}],easing:"easeInOutQuad"})}const ti=g.template({1:function(e,t,i,l,o){var s=e.lookupProperty||function(n,r){if(Object.prototype.hasOwnProperty.call(n,r))return n[r]};return'<span class="modal__header-icon">'+e.escapeExpression((s(i,"fa")||t&&s(t,"fa")||e.hooks.helperMissing).call(t??(e.nullContext||{}),t!=null?s(t,"headerIconType"):t,t!=null?s(t,"headerIcon"):t,{name:"fa",hash:{},data:o,loc:{start:{line:2,column:53},end:{line:2,column:85}}}))+"</span>"},3:function(e,t,i,l,o){var s,n=e.lookupProperty||function(r,a){if(Object.prototype.hasOwnProperty.call(r,a))return r[a]};return'<button class="button--text js-close">'+e.escapeExpression((s=(s=n(i,"cancelText")||(t!=null?n(t,"cancelText"):t))!=null?s:e.hooks.helperMissing,typeof s=="function"?s.call(t??(e.nullContext||{}),{name:"cancelText",hash:{},data:o,loc:{start:{line:14,column:60},end:{line:14,column:76}}}):s))+"</button>"},compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n,r=t??(e.nullContext||{}),a=e.hooks.helperMissing,c="function",h=e.escapeExpression,u=e.lookupProperty||function(m,w){if(Object.prototype.hasOwnProperty.call(m,w))return m[w]};return'<div class="modal__header '+h((n=(n=u(i,"headerClass")||(t!=null?u(t,"headerClass"):t))!=null?n:a,typeof n===c?n.call(r,{name:"headerClass",hash:{},data:o,loc:{start:{line:1,column:26},end:{line:1,column:43}}}):n))+`" data-header-region>
  `+((s=u(i,"if").call(r,t!=null?u(t,"headerIcon"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:2},end:{line:2,column:99}}}))!=null?s:"")+`
  <div class="flex-grow">`+h((n=(n=u(i,"headingText")||(t!=null?u(t,"headingText"):t))!=null?n:a,typeof n===c?n.call(r,{name:"headingText",hash:{},data:o,loc:{start:{line:3,column:25},end:{line:3,column:42}}}):n))+`</div>
  <button class="button--icon js-close">`+h((u(i,"far")||t&&u(t,"far")||a).call(r,"xmark",{name:"far",hash:{},data:o,loc:{start:{line:4,column:40},end:{line:4,column:55}}}))+`</button>
</div>

<div class="modal__body" data-body-region>
  <div class="`+h((n=(n=u(i,"bodyClass")||(t!=null?u(t,"bodyClass"):t))!=null?n:a,typeof n===c?n.call(r,{name:"bodyClass",hash:{},data:o,loc:{start:{line:8,column:14},end:{line:8,column:29}}}):n))+'">'+h((n=(n=u(i,"bodyText")||(t!=null?u(t,"bodyText"):t))!=null?n:a,typeof n===c?n.call(r,{name:"bodyText",hash:{},data:o,loc:{start:{line:8,column:31},end:{line:8,column:45}}}):n))+((s=(n=(n=u(i,"bodyHTML")||(t!=null?u(t,"bodyHTML"):t))!=null?n:a,typeof n===c?n.call(r,{name:"bodyHTML",hash:{},data:o,loc:{start:{line:8,column:45},end:{line:8,column:61}}}):n))!=null?s:"")+`</div>
</div>

<div class="modal__footer" data-footer-region>
  <div class="modal__footer-actions">
    <button type="submit" class="`+h((n=(n=u(i,"buttonClass")||(t!=null?u(t,"buttonClass"):t))!=null?n:a,typeof n===c?n.call(r,{name:"buttonClass",hash:{},data:o,loc:{start:{line:13,column:33},end:{line:13,column:50}}}):n))+' js-submit">'+h((n=(n=u(i,"submitText")||(t!=null?u(t,"submitText"):t))!=null?n:a,typeof n===c?n.call(r,{name:"submitText",hash:{},data:o,loc:{start:{line:13,column:62},end:{line:13,column:78}}}):n))+`</button>
    `+((s=u(i,"if").call(r,t!=null?u(t,"cancelText"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:14,column:4},end:{line:14,column:92}}}))!=null?s:"")+`
  </div>
  <div data-info-region class="modal__footer-info">`+h((n=(n=u(i,"infoText")||(t!=null?u(t,"infoText"):t))!=null?n:a,typeof n===c?n.call(r,{name:"infoText",hash:{},data:o,loc:{start:{line:16,column:51},end:{line:16,column:65}}}):n))+`</div>
</div>
`},useData:!0}),si=g.template({compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n=e.lookupProperty||function(r,a){if(Object.prototype.hasOwnProperty.call(r,a))return r[a]};return`<div class="loading-modal__content is-animated">
  <div>`+e.escapeExpression(e.lambda((s=(s=(s=(s=(s=o&&n(o,"intl"))&&n(s,"globals"))&&n(s,"modal"))&&n(s,"loading"))&&n(s,"loadingModal"))&&n(s,"headerText"),t))+`</div>
  <div class="loading-modal__bar">
    <div class="loading-modal__bar-progress"></div>
  </div>
</div>
`},useData:!0}),we=H.globals.modal.modalViews,ii=he.extend({replaceElement:!0,timeout:0}),ge=p.extend({className:"modal",buttonClass:"button--green",bodyClass:"modal__content",headerIconType:"far",cancelText:we.modalView.cancelText,submitText:we.modalView.submitText,regionClass:ii,regions:{header:"[data-header-region]",body:{el:"[data-body-region]",regionClass:xe.extend({timeout:0})},footer:"[data-footer-region]",info:"[data-info-region]"},childViewTriggers:{cancel:"cancel",submit:"submit"},triggers:{"click @ui.close":"cancel","click @ui.submit":"submit"},ui:{close:".js-close",submit:".js-submit"},serializeData(){return v({},this)},template:ti,initialize(){this.headerView&&this.showChildView("header",this.headerView),this.bodyView&&this.showChildView("body",this.bodyView),this.footerView&&this.showChildView("footer",this.footerView)},onSubmit(){this.destroy()},onCancel(){this.destroy()},disableSubmit(e=!0){this.ui.submit.prop("disabled",e)},startPreloader(){this.getRegion("body").startPreloader()}}),ni=ge.extend({className:"modal--sidebar",bodyClass:"modal__content--sidebar",headerClass:"modal__header--sidebar",onAttach(){ei(this.el)}}),oi=ge.extend({className:"modal--small",bodyClass:"modal__content--small",headerClass:"modal__header--small"}),ri=p.extend({behaviors:[et],className(){const e=this.getOption("size");return e==="small"?"modal__form-iframe--small":e==="large"?"modal__form-iframe--large":"modal__form-iframe"},template:g.template({compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){return'<iframe src="/formapp/"></iframe>'},useData:!0})}),li=p.extend({className:"pos--absolute",template:si,onAttach(){ue(()=>{this.destroy()},5e3)}}),ai=k.extend({channelName:"modal",radioRequests:{show:"showModal","show:small":"showSmall","show:custom":"showCustom","show:sidebar":"showSidebar","show:form":"showForm","show:loading":"showLoading"},initialize({modalRegion:e,modalSmallRegion:t,modalSidebarRegion:i,modalLoadingRegion:l}){this.modalRegion=e,this.modalSmallRegion=t,this.modalSidebarRegion=i,this.modalLoadingRegion=l},showModal(e){const t=ge.extend(e),i=new t;return this.modalRegion.show(i),i},showSmall(e){const t=oi.extend(e),i=new t;return this.modalSmallRegion.show(i),i},showCustom(e){return this.modalRegion.show(e),e},showSidebar(e){const t=ni.extend(e),i=new t;return this.modalSidebarRegion.show(i),i},showForm(e,t,i,l){const o=new Zs({patient:e,form:i}),s=this.showModal({headingText:t,headerIcon:"square-poll-horizontal",bodyView:new ri({model:i,size:l}),onBeforeDestroy(){o.destroy()},onSubmit(){s.disableSubmit(),d.request(`form${i.id}`,"send","form:submit")}});return s.disableSubmit(),this.listenTo(o,{success(){s.destroy()},ready(){s.disableSubmit(!1)},error(){s.disableSubmit(!1)}}),s},showLoading(e){const t=new li(e);return this.modalLoadingRegion.show(t),t}}),ci=k.extend({channelName:"ws",radioRequests:{send:"send",subscribe:"subscribe","subscribe:persist":"subscribePersist",unsubscribe:"unsubscribe"},initialize({url:e}){this.resources=new y.Collection,this.persistent={},this.ws={},this.url=e},beforeStart(){return d.request("auth","getToken")},onStart({data:e},t){this.ws=new WebSocket(this.url,t),this.ws.addEventListener("open",()=>this.ws.send(e)),this.ws.addEventListener("message",this._onMessage.bind(this)),this.ws.addEventListener("error",this._onError.bind(this))},_subscribe(){this.send({name:"Subscribe",data:{resources:this.resources.toJSON()}})},send(e){if(this.url){if(e=JSON.stringify(e),this.ws.readyState===WebSocket.OPEN){this.ws.send(e);return}if(this.ws.readyState===WebSocket.CLOSED){this.restart({data:e});return}if(this.ws.readyState!==WebSocket.CONNECTING){this.start({data:e});return}this.ws.addEventListener("open",()=>this.ws.send(e))}},_onMessage(e){const t=this.getChannel(),i=JSON.parse(e.data);t.trigger("message",i)},_onError(e){console.error(e)},subscribe(e){this.resources.reset(e),this.resources.add(Ke(this.persistent)),this._subscribe()},subscribePersist(e){e=Z(e)?e:[e],B(e,({id:t,type:i})=>{this.persistent[t]={id:t,type:i}}),this.resources.add(e),this._subscribe()},unsubscribe(e){e=Z(e)?e:[e],B(e,({id:t})=>{delete this.persistent[t]}),this.resources.remove(e),this._subscribe()}}),ui=g.template({1:function(e,t,i,l,o){var s,n=e.lambda,r=e.escapeExpression,a=e.lookupProperty||function(c,h){if(Object.prototype.hasOwnProperty.call(c,h))return c[h]};return"            "+r(n((s=(s=(s=(s=o&&a(o,"intl"))&&a(s,"globals"))&&a(s,"error"))&&a(s,"errorTemplate"))&&a(s,"notFoundMessage"),t))+`<br>
            `+r(n((s=(s=(s=(s=o&&a(o,"intl"))&&a(s,"globals"))&&a(s,"error"))&&a(s,"errorTemplate"))&&a(s,"notFoundInfo"),t))+`
`},3:function(e,t,i,l,o){var s,n=e.escapeExpression,r=t??(e.nullContext||{}),a=e.hooks.helperMissing,c=e.lookupProperty||function(h,u){if(Object.prototype.hasOwnProperty.call(h,u))return h[u]};return"            "+n(e.lambda((s=(s=(s=(s=o&&c(o,"intl"))&&c(s,"globals"))&&c(s,"error"))&&c(s,"errorTemplate"))&&c(s,"errorMessage"),t))+`<br>
            `+n((c(i,"formatMessage")||t&&c(t,"formatMessage")||a).call(r,(c(i,"intlGet")||t&&c(t,"intlGet")||a).call(r,"globals.error.errorTemplate.errorInfo",{name:"intlGet",hash:{},data:o,loc:{start:{line:20,column:28},end:{line:20,column:77}}}),{name:"formatMessage",hash:{status:t!=null?c(t,"status"):t},data:o,loc:{start:{line:20,column:12},end:{line:20,column:93}}}))+`
`},compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){var s,n=e.lambda,r=e.escapeExpression,a=t??(e.nullContext||{}),c=e.lookupProperty||function(h,u){if(Object.prototype.hasOwnProperty.call(h,u))return h[u]};return`<div class="error-page__contains">
  <div class="error-page__wrap">
    <div class="error-page__dialog">
      <div class="error-page__section">
        <svg class="svg needs-attention u-margin--b-4" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32">
          <g></g>
          <path d="M14.983 6.713c0.562-0.951 1.472-0.951 2.034 0l12.738 17.565c0.562 0.951 0.123 1.722-0.982 1.722h-25.548c-1.104 0-1.544-0.771-0.982-1.722l12.738-17.565z" fill="#E65140" />
        </svg>

        <h2 class="error-page__heading">`+r(n((s=(s=(s=(s=o&&c(o,"intl"))&&c(s,"globals"))&&c(s,"error"))&&c(s,"errorTemplate"))&&c(s,"errorHeader"),t))+`</h2>
      </div>
      <div class="error-page__section">
        <p>
`+((s=c(i,"if").call(a,t!=null?c(t,"is404"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:14,column:10},end:{line:17,column:17}}}))!=null?s:"")+((s=c(i,"if").call(a,t!=null?c(t,"status"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:18,column:10},end:{line:21,column:17}}}))!=null?s:"")+`        </p>
        <a class="js-back button--blue u-margin--t-16">`+r(n((s=(s=(s=(s=o&&c(o,"intl"))&&c(s,"globals"))&&c(s,"error"))&&c(s,"errorTemplate"))&&c(s,"backBtn"),t))+`</a>
      </div>
    </div>
    <svg class="svg roundingwell-logo u-margin--t-16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="116" height="21" viewBox="0 0 185 32">
      <g></g>
      <path d="M40.975 11.456c-1.339 0.082-2.624 0.683-3.499 1.995v8.501c0 0.547-0.465 1.011-1.039 1.011h-0.027c-0.547-0.027-0.984-0.465-0.984-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v1.312c0.793-1.039 2.105-2.351 3.635-2.351 0.492 0 0.929 0.41 0.929 0.957 0 0.602-0.465 1.093-1.066 1.121z" fill="#cccccc" />
      <path d="M49.53 23.128c-4.018 0-6.533-3.116-6.533-6.943 0-3.827 2.515-6.916 6.533-6.916s6.533 3.089 6.533 6.916c0 3.826-2.514 6.943-6.533 6.943zM49.53 11.101c-2.815 0-4.401 2.406-4.401 5.084 0 2.706 1.585 5.111 4.401 5.111 2.815 0 4.373-2.406 4.373-5.111 0-2.679-1.558-5.084-4.373-5.084z" fill="#cccccc" />
      <path d="M68.636 22.964c-0.547 0-1.011-0.465-1.011-1.011v-1.011c-1.011 1.148-2.733 2.187-4.701 2.187-2.761 0-4.209-1.34-4.209-4.21v-8.501c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v7.872c0 2.323 1.175 3.007 2.952 3.007 1.613 0 3.143-0.929 3.909-1.995v-8.883c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v11.535c0 0.546-0.465 1.011-1.039 1.011z" fill="#cccccc" />
      <path d="M83.013 22.964c-0.547 0-1.011-0.465-1.011-1.011v-7.79c0-2.323-1.175-3.062-2.952-3.062-1.613 0-3.143 0.984-3.909 2.050v8.801c0 0.547-0.465 1.011-1.039 1.011-0.547 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v1.093c0.929-1.093 2.733-2.242 4.701-2.242 2.761 0 4.21 1.394 4.21 4.264v8.419c-0 0.547-0.465 1.012-1.039 1.012z" fill="#cccccc" />
      <path d="M98.046 22.964c-0.547 0-1.011-0.465-1.011-1.011v-1.121c-0.984 1.34-2.597 2.296-4.455 2.296-3.444 0-5.877-2.624-5.877-6.915 0-4.21 2.405-6.943 5.877-6.943 1.777 0 3.389 0.875 4.455 2.324v-6.205c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v16.564c0 0.547-0.464 1.012-1.038 1.012zM97.035 13.233c-0.738-1.148-2.324-2.132-3.964-2.132-2.651 0-4.237 2.187-4.237 5.112 0 2.924 1.585 5.084 4.237 5.084 1.64 0 3.226-0.929 3.964-2.077v-5.986z" fill="#cccccc" />
      <path d="M103.512 22.964c-0.546 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v11.535c0 0.547-0.465 1.012-1.039 1.012z" fill="#cccccc" />
      <path d="M117.89 22.964c-0.547 0-1.012-0.465-1.012-1.011v-7.79c0-2.323-1.175-3.062-2.952-3.062-1.613 0-3.143 0.984-3.909 2.050v8.801c0 0.547-0.464 1.011-1.038 1.011-0.547 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.464-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v1.093c0.93-1.093 2.734-2.242 4.702-2.242 2.76 0 4.209 1.394 4.209 4.264v8.419c0 0.547-0.464 1.012-1.038 1.012z" fill="#cccccc" />
      <path d="M127.647 28.157c-1.941 0-3.499-0.355-4.947-1.585-0.191-0.164-0.301-0.41-0.301-0.684 0-0.465 0.41-0.875 0.902-0.875 0.218 0 0.41 0.055 0.574 0.191 1.039 0.929 2.214 1.257 3.772 1.257 2.187 0 4.237-1.066 4.237-3.964v-1.886c-0.957 1.34-2.57 2.351-4.428 2.351-3.444 0-5.876-2.569-5.876-6.833 0-4.237 2.405-6.861 5.876-6.861 1.777 0 3.362 0.875 4.428 2.324v-1.175c0-0.519 0.464-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v11.999c0 4.373-3.061 5.74-6.286 5.74zM131.884 13.233c-0.711-1.148-2.296-2.132-3.936-2.132-2.652 0-4.237 2.105-4.237 5.030 0 2.897 1.585 5.029 4.237 5.029 1.64 0 3.225-1.011 3.936-2.16v-5.767z" fill="#cccccc" />
      <path d="M155.309 11.237l-3.198 10.332c-0.246 0.82-1.039 1.394-1.886 1.394h-0.055c-0.875 0-1.64-0.574-1.886-1.394l-2.652-8.391-2.651 8.391c-0.246 0.82-1.039 1.394-1.913 1.394h-0.055c-0.848 0-1.613-0.574-1.859-1.394l-3.225-10.332c-0.027-0.137-0.055-0.273-0.055-0.41 0-0.684 0.574-1.394 1.449-1.394 0.629 0 1.23 0.41 1.394 1.011l2.515 8.665 2.788-8.528c0.219-0.683 0.848-1.148 1.64-1.148 0.711 0 1.34 0.465 1.585 1.148l2.788 8.528 2.514-8.665c0.164-0.601 0.766-1.011 1.395-1.011 0.847 0 1.449 0.656 1.449 1.394-0.001 0.137-0.028 0.273-0.083 0.41z" fill="#cccccc" />
      <path d="M168.073 17.141h-8.692c0.191 1.968 1.695 3.635 4.155 3.635 0.956 0 2.049-0.3 2.952-0.875 0.191-0.109 0.41-0.164 0.601-0.164 0.602 0 1.23 0.492 1.23 1.202 0 1.503-3.389 2.187-5.084 2.187-3.964 0-6.915-2.761-6.915-6.943 0-3.827 2.788-6.916 6.697-6.916 3.089 0 5.33 1.859 6.15 4.701 0.164 0.547 0.328 1.175 0.328 1.749 0 0.765-0.629 1.421-1.421 1.421zM163.017 11.62c-2.406 0-3.526 1.913-3.663 3.499h7.326c-0.055-1.53-1.094-3.499-3.663-3.499z" fill="#cccccc" />
      <path d="M173.129 22.964c-0.82 0-1.449-0.656-1.449-1.449v-15.689c0-0.765 0.629-1.421 1.503-1.421 0.766 0 1.422 0.656 1.422 1.421v15.689c-0 0.793-0.656 1.449-1.477 1.449z" fill="#cccccc" />
      <path d="M179.060 22.964c-0.82 0-1.449-0.656-1.449-1.449v-15.689c0-0.765 0.629-1.421 1.503-1.421 0.766 0 1.422 0.656 1.422 1.421v15.689c-0 0.793-0.656 1.449-1.477 1.449z" fill="#cccccc" />
      <path d="M28.781 14.834c-0.117-1.519-0.498-3.012-1.117-4.385-0.618-1.374-1.471-2.627-2.501-3.694-1.030-1.068-2.235-1.949-3.546-2.598-1.311-0.651-2.727-1.067-4.16-1.23-1.432-0.164-2.878-0.081-4.264 0.24-1.385 0.321-2.702 0.883-3.877 1.644-1.175 0.761-2.208 1.719-3.046 2.814-0.838 1.094-1.481 2.325-1.893 3.618-0.414 1.293-0.596 2.648-0.55 3.983l0.263 0.003c0.076-1.305 0.375-2.585 0.879-3.768 0.503-1.183 1.208-2.268 2.067-3.196 0.858-0.929 1.87-1.701 2.971-2.277 1.102-0.576 2.294-0.955 3.505-1.118 1.209-0.164 2.442-0.116 3.617 0.132 1.176 0.247 2.296 0.697 3.299 1.318 1.004 0.62 1.89 1.411 2.614 2.318 0.724 0.907 1.283 1.93 1.649 3.006 0.367 1.076 0.54 2.204 0.521 3.323-0.020 1.122-0.23 2.224-0.617 3.247-0.386 1.024-0.949 1.969-1.648 2.787-0.699 0.818-1.534 1.507-2.449 2.031-0.915 0.525-1.91 0.883-2.925 1.061-1.014 0.178-2.057 0.177-3.060 0.007-1.001-0.169-1.954-0.509-2.815-0.996-0.295-0.167-0.578-0.352-0.85-0.551l4.686-7.132-0.102-0.083-10.27 10.316 0.106 0.099c0.083 0.076 0.156 0.142 0.236 0.211 0.157 0.137 0.318 0.271 0.48 0.401 0.326 0.261 0.662 0.506 1.008 0.737 0.201 0.134 0.405 0.263 0.613 0.386 0.506 0.302 1.029 0.573 1.566 0.81 1.513 0.669 3.135 1.066 4.76 1.18 0.813 0.057 1.622 0.045 2.428-0.035 0.805-0.080 1.603-0.229 2.379-0.445 1.554-0.431 3.020-1.132 4.315-2.052 1.296-0.918 2.423-2.054 3.321-3.338 0.9-1.283 1.572-2.715 1.978-4.21 0.408-1.495 0.548-3.048 0.429-4.565z" fill="#cccccc" />
    </svg>
  </div>
</div>
`},useData:!0}),ve=p.extend({className:"error-page",template:ui,triggers:{"click .js-back":"click:back"},onClickBack(){d.trigger("event-router","default")},templateContext(){return this.options}}),hi=["worklist","patient","patient-action","flow","schedule","clinicians","dashboards","form","program","programs","program-flow"],di=tt.extend({eventRoutes:{notFound:{action:"show404",route:"404",root:!0},unknownError:{action:"showError",route:"unknown-error",root:!0}},initialize(){this.router.route("*unknown","404",S(this.handleUnknown,this))},viewEvents:{"click:back":"stop"},onBeforeStop(){this.getRegion().empty()},handleUnknown(){const e=be();if(ke(hi,e)){const t=d.request("workspace","current");this.replaceUrl(`/${t.get("slug")}${location.pathname}`);return}this.start(),this.show404()},show404(){this.showView(new ve({is404:!0}))},showError(e){this.showView(new ve({status:e}))}}),R=e=>`${parseFloat(e)}px`,X=d.channel("user-activity"),mi=d.channel("top-region"),De=F.extend({regionName:"region",className:"fill-window",initialize(e){this.mergeOptions(e,["regionName","className"])},onInitialize(){this.region=this.view.getRegion(this.regionName),this.listenTo(this.region,{empty:S(this.view.triggerMethod,this.view,"region:empty"),show:S(this.view.triggerMethod,this.view,"region:show")})},onRegionShow(){this.listenTo(X,"body:down",this.onBodyDown),this.listenTo(X,"iframe:focus",this.onIframeFocus),this.$el.addClass(this.className)},onRegionEmpty(){this.stopListening(X),this.region.isSwappingView()||this.$el.removeClass(this.className)},onBodyDown({target:e}){this.emptyOnActvity(e)},onIframeFocus(e){this.emptyOnActvity(e)},emptyOnActvity(e){!this.region.hasView()||mi.request("contains",this.view,e)||this.region.empty()}}),V=d.channel("user-activity"),ae=d.channel("history");function Ee(){return this.getRegion("region").hasView()}const gi=p.extend({className:"app-frame",template:g.template({compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){return`
    <div class="app-frame__nav js-nav" data-nav-region></div>
    <div class="app-frame__content flex-region" data-content-region></div>
    <div class="app-frame__sidebar" data-sidebar-region></div>
  `},useData:!0}),ui:{nav:".js-nav"},regions:{nav:"[data-nav-region]",content:{el:"[data-content-region]",regionClass:xe},sidebar:"[data-sidebar-region]"},toggleNav(e){this.ui.nav.toggleClass("is-hidden",!e)}}),L=p.extend({behaviors:[De],regionClass:he.extend({replaceElement:!0}),template:g.template({compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){return"<div data-region></div>"},useData:!0}),regions:{region:"[data-region]"},contains(e){const t=this.getRegion("region");if(t.hasView()&&(t.currentView.el===e||this.Dom.hasEl(t.currentView.el,e))||this.ignoreEl===e||this.ignoreEl&&this.Dom.hasEl(this.ignoreEl,e))return!0},empty(){this.region.empty()}}),fi=L.extend({contains:Ee,onRender(){this.showChildView("region",new se)}}),N=L.extend({className:"fill-window--dark",behaviors:[{behaviorClass:De,className:"is-shown"}],initialize(e){this.mergeOptions(e,["$body","setLocation","contains"]),this.region=this.getRegion("region");const t=d.channel("hotkey");this.listenTo(t,"close",this.empty)},onRegionShow(){this.listenTo(ae,"change:route",this.empty),this.listenTo(V,"window:resize",this.setLocation),this.setLocation()},onRegionEmpty(){this.stopListening(V)},setLocation(){const e=this.region.currentView,t=e.$el.outerWidth(),i=e.$el.outerHeight(),l=this.$body.height(),s=this.$body.width()/2-t/2,n=l/3-i/3;e.$el.css({left:R(s),top:R(n)})},contains(e,t){if(!this.region.hasView())return!1;const i=this.region.currentView.el;if(i===e||this.Dom.hasEl(i,e)||this!==t)return!0}}),pi={align:"left",direction:"down",left:0,outerHeight:0,outerWidth:0,popWidth:null,top:0,windowPadding:5},wi=L.extend({initialize({$body:e}){this.region=this.getRegion("region"),this.$body=e;const t=d.channel("hotkey");this.listenTo(t,"close",this.empty)},onRegionShow(e,t,i){t.$el.addClass("app-frame__pop-region");const l=v({},pi,i);this.ignoreEl=i.ignoreEl,this.listenTo(V,"window:resize",this.empty),this.listenTo(ae,"change:route",this.empty),this.listenTo(t,"render render:children",Ye(this.setLocation,l)),this.setLocation(l)},onRegionEmpty(e,t){t.$el.removeClass("app-frame__pop-region"),this.stopListening(V),this.stopListening(ae),this.stopListening(t)},setLocation(e){const t=this.region.currentView;e.popWidth&&t.$el.css({width:R(e.popWidth)});const i=t.$el.outerHeight(),l=this.setDirection(i,e),o=e.popWidth||t.$el.outerWidth(),s=this.setAlign(o,e);t.$el.css({top:R(l),left:R(s)})},setAlign(e,{left:t,align:i,windowPadding:l,outerWidth:o}){if(i==="right"&&(t+=o-e),t<l)return l;const s=this.$body.width();return t+e>s-l?s-e-l:t},setDirection(e,{top:t,direction:i,windowPadding:l,outerHeight:o}){const s=this.$body.height();return i==="down"?t+o+e+l>s?(i="forceUp",this.setDirection(e,{top:t,direction:i,windowPadding:l,outerHeight:o})):o+t:(t-=e,t>=l?t:i==="forceUp"?s-l-e:(i="down",this.setDirection(e,{top:t,direction:i,windowPadding:l,outerHeight:o})))}}),vi=L.extend({initialize({$body:e}){this.region=this.getRegion("region"),this.$body=e},onRegionShow(e,t,i){if(this.listenTo(V,"window:resize",this.empty),this.ignoreEl=i.ignoreEl,i.orientation==="horizontal"){this.setHorizontalLocation(i);return}this.setVerticalLocation(i)},onRegionEmpty(e){this.stopListening(V)},addClass(e){this.region.currentView.$el.addClass(e)},setTop(e){this.region.currentView.$el.css({top:R(e)})},setLeft(e){this.region.currentView.$el.css({left:R(e)})},setHorizontalLocation({left:e,top:t,outerWidth:i,outerHeight:l}){const o=this.region.currentView,s=(e+i)/this.$body.width(),n=(t+l/2)/this.$body.height();n<.25?(this.addClass("is-top"),this.setTop(t+l/2)):n>.75?(this.addClass("is-bottom"),this.setTop(t+l/2-o.$el.outerHeight())):this.setTop(t-o.$el.outerHeight()/2+l/2),s>.6?(this.addClass("is-right-arrow"),this.setLeft(e-o.$el.outerWidth())):(this.addClass("is-left-arrow"),this.setLeft(e+i))},setVerticalLocation({left:e,top:t,outerWidth:i,outerHeight:l}){const o=this.region.currentView,s=(e+i/2)/this.$body.width(),n=(t+l)/this.$body.height();s<.15?(this.addClass("is-left"),this.setLeft(e+i/2)):s>.85?(this.addClass("is-right"),this.setLeft(e+i/2-o.$el.outerWidth())):this.setLeft(e-o.$el.outerWidth()/2+i/2),n>.6?(this.addClass("is-bottom-arrow"),this.setTop(t-o.$el.outerHeight())):(this.addClass("is-top-arrow"),this.setTop(t+l))}}),yi=$.extend({viewComparator:!1,el:"#root",template:g.template({compiler:[8,">= 4.3.0"],main:function(e,t,i,l,o){return""},useData:!0}),AppView:gi,initialize(){this.render(),this.regions=[];const e=this.$el;d.reply("top-region","contains",this.contains,this),this.appView=new this.AppView,this.addChildView(this.appView),this.addRegionView("tooltip",new vi({$body:e})),this.addRegionView("modalSidebar",new N({$body:e,setLocation:G})),this.addRegionView("modal",new N({$body:e})),this.addRegionView("modalSmall",new N({$body:e})),this.addRegionView("modalLoading",new N({$body:e,contains:Ee})),this.addRegionView("alert",new L),this.addRegionView("pop",new wi({$body:e})),this.addRegionView("preloader",new fi),this.addRegionView("error",new L)},addRegionView(e,t){t.name=e,this.addChildView(t),this.regions[e]=t.getRegion("region")},getRegion(e){return this.regions[e]},contains(e,t){const i=this.children.findIndexByView(e);for(let l=this.children.length-1;i<=l;l--)if(this.children.findByIndex(l).contains(t,e))return!0}}),A=te(document),Ve=k.extend({channelName:"app",radioRequests:{"show:pop":"showPop"},initialize(){st()},onBeforeStart(){new Ys({name:pe.name}),this.setView(new yi),this.configComponents(),this.startServices(),this.setListeners(),new di({region:this.getRegion("error")})},configComponents(){Nt.setRegion(this.getRegion("tooltip"));const e=this.getRegion("pop");ut.setRegion(e),At.setPopRegion(e),Wt.setRegion(e)},showPop(e,t){return this.getRegion("pop").show(e,t)},startServices(){new ci({url:pe.ws}),new Jt({region:this.getRegion("alert")}),new Qs,new ai({modalRegion:this.getRegion("modal"),modalSmallRegion:this.getRegion("modalSmall"),modalSidebarRegion:this.getRegion("modalSidebar"),modalLoadingRegion:this.getRegion("modalLoading")})},setListeners(){te(window).on({"resize.app"(){d.trigger("user-activity","window:resize")},beforeunload:()=>{this.stop()}}),A.on("keydown.app",function(e){d.trigger("user-activity","document:keydown",e)}),this.setMouseListeners(),this.setHotkeyListeners()},setMouseListeners(){A.on("mouseover.app",function(e){d.trigger("user-activity","document:mouseover",e)}),A.on("mouseleave.app",function(e){d.trigger("user-activity","document:mouseleave",e)}),te("body").on("pointerdown.app",function(e){d.trigger("user-activity","body:down",e)})},setHotkeyListeners(){A.on("keydown.app",null,"/",function(e){d.trigger("hotkey","search",e)}),A.on("keydown.app",null,"esc",function(e){d.trigger("hotkey","close",e)})},beforeStart(){return[d.request("bootstrap","fetch"),Je(()=>import("./20240930-app-frame_app-Bv0zBOte.js").then(e=>e.o),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))]},onFail(e,t){Qe(x(t,"responseData",t)),(t==="No workspaces found"||x(t,["response","status"])===403)&&this.getRegion("preloader").show(new se({notSetup:!0}))},onStart(e,t,{default:i}){if(!t.hasTeam()||!t.get("enabled")){this.getRegion("preloader").show(new se({notSetup:!0}));return}this.emptyRegion("preloader");const l=this.addChildApp("appFrame",i);this.listenToOnce(l,"before:start",this.startHistory),l.start({view:this.getView().appView})},startHistory(){y.history.start({pushState:!0}),new Js},emptyRegion(e){return this.getRegion(e).empty()}});function bi(){new Ve().start()}const Oi=Object.freeze(Object.defineProperty({__proto__:null,Application:Ve,startApp:bi},Symbol.toStringTag,{value:"Module"}));export{At as D,Zs as F,gt as I,Wt as O,kt as P,Nt as T,ei as a,ut as b,dt as c,ne as d,Oi as e,_ as s};
