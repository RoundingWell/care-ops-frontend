{"version":3,"file":"20241017-dashboards-main_app-CWrSH4sa.js","sources":["../src/js/views/dashboards/dashboards-all_views.js","../src/js/apps/dashboards/dashboards-all_app.js","../src/js/views/dashboards/dashboard_views.js","../src/js/apps/dashboards/dashboard_app.js","../src/js/apps/dashboards/dashboards-main_app.js"],"sourcesContent":["import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\n\nconst ItemView = View.extend({\n  template: hbs`\n    <td class=\"table-list__cell w-100\">{{ name }}</td>\n  `,\n  className: 'table-list__item',\n  tagName: 'tr',\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'dashboard', this.model.id);\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.dashboards.dashboardsAllViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ListView = CollectionView.extend({\n  childView: ItemView,\n  className: 'table-list',\n  tagName: 'table',\n  emptyView: EmptyView,\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region',\n  template: hbs`\n  <div class=\"list-page__header\">\n    <div class=\"flex list-page__title\">\n      <div class=\"flex list-page__title-filter\">\n        <span class=\"list-page__title-icon\">{{far \"gauge\"}}</span>{{ @intl.dashboards.dashboardsAllViews.layoutView.title }}\n      </div>\n    </div>\n  </div>\n  <div class=\"flex-region list-page__list\">\n    <table class=\"w-100\"><tr>\n      <td class=\"table-list__header w-100\">{{ @intl.dashboards.dashboardsAllViews.layoutView.nameHeader }}</td>\n    </tr></table>\n    <div class=\"flex-region\" data-list-region></div>\n  </div>\n  `,\n  regions: {\n    list: {\n      el: '[data-list-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n});\n\nexport {\n  LayoutView,\n  ListView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\nimport { ListView, LayoutView } from 'js/views/dashboards/dashboards-all_views';\n\nexport default App.extend({\n  onBeforeStart() {\n    this.showView(new LayoutView());\n    this.getRegion('list').startPreloader();\n  },\n  beforeStart() {\n    return Radio.request('entities', 'fetch:dashboards:collection');\n  },\n  onStart(options, collection) {\n    this.programs = collection;\n    this.showChildView('list', new ListView({ collection }));\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\n\nimport { View } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport './dashboard.scss';\n\nconst ContextTrailView = View.extend({\n  className: 'dashboard__context-trail',\n  template: hbs`\n    <a class=\"js-back dashboard__context-link\">\n      {{fas \"chevron-left\"}}{{ @intl.dashboards.dashboardViews.contextTrailView.contextBackBtn }}\n    </a>\n    {{fas \"chevron-right\"}}{{ name }}\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n  },\n  onClickBack() {\n    Radio.trigger('event-router', 'dashboards:all');\n  },\n});\n\nconst IframeView = View.extend({\n  className: 'flex-grow',\n  template: hbs`<iframe src=\"{{ embed_url }}\"></iframe>`,\n});\n\nconst LayoutView = View.extend({\n  className: 'dashboard__frame',\n  template: hbs`\n  <div class=\"dashboard__layout\">\n    <div data-context-trail-region></div>\n    <div class=\"dashboard__iframe flex\" data-dashboard-region></div>\n  </div>\n  `,\n  regions: {\n    contextTrail: {\n      el: '[data-context-trail-region]',\n      replaceElement: true,\n    },\n    dashboard: {\n      el: '[data-dashboard-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n});\n\nexport {\n  LayoutView,\n  ContextTrailView,\n  IframeView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\nimport { LayoutView, ContextTrailView, IframeView } from 'js/views/dashboards/dashboard_views';\n\nimport intl from 'js/i18n';\n\nexport default App.extend({\n  onBeforeStart() {\n    this.showView(new LayoutView());\n    this.getRegion('dashboard').startPreloader();\n  },\n  beforeStart({ dashboardId }) {\n    return Radio.request('entities', 'fetch:dashboards:model', dashboardId);\n  },\n  onStart(options, dashboard) {\n    this.showChildView('contextTrail', new ContextTrailView({\n      model: dashboard,\n    }));\n\n    this.showChildView('dashboard', new IframeView({\n      model: dashboard,\n    }));\n  },\n  onFail() {\n    Radio.request('alert', 'show:error', intl.dashboards.dashboardApp.notFound);\n    Radio.trigger('event-router', 'dashboards:all');\n    this.stop();\n  },\n});\n","import RouterApp from 'js/base/routerapp';\n\nimport DashboardsAllApp from 'js/apps/dashboards/dashboards-all_app';\nimport DashboardApp from 'js/apps/dashboards/dashboard_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'DashboardsApp',\n\n  childApps: {\n    dashboardsAll: DashboardsAllApp,\n    dashboard: DashboardApp,\n  },\n\n  eventRoutes: {\n    'dashboards:all': {\n      action: 'showDashboardsAll',\n      route: 'dashboards',\n      isList: true,\n    },\n    'dashboard': {\n      action: 'showDashboard',\n      route: 'dashboards/:id',\n    },\n  },\n\n  showDashboardsAll() {\n    this.startCurrent('dashboardsAll');\n  },\n  showDashboard(dashboardId) {\n    this.startCurrent('dashboard', { dashboardId });\n  },\n});\n"],"names":["ItemView","View","_Handlebars2","container","depth0","helpers","partials","data","helper","lookupProperty","parent","propertyName","Radio","EmptyView","stack1","ListView","CollectionView","LayoutView","alias1","alias2","PreloadRegion","DashboardsAllApp","App","options","collection","ContextTrailView","alias3","IframeView","DashboardApp","dashboardId","dashboard","intl","dashboardsMain_app","RouterApp"],"mappings":"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"}