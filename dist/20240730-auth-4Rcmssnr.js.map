{"version":3,"file":"20240730-auth-4Rcmssnr.js","sources":["../node_modules/@kinde-oss/kinde-auth-pkce-js/dist/kinde-auth-pkce-js.esm.js","../node_modules/@auth0/auth0-spa-js/dist/auth0-spa-js.production.esm.js","../src/js/auth0.js","../src/js/auth.js"],"sourcesContent":["// Generated by genversion.\nconst version = '3.1.0';\n\nconst SESSION_PREFIX = 'pkce-code-verifier';\nvar flagDataTypeMap;\n(function (flagDataTypeMap) {\n    flagDataTypeMap[\"s\"] = \"string\";\n    flagDataTypeMap[\"i\"] = \"integer\";\n    flagDataTypeMap[\"b\"] = \"boolean\";\n})(flagDataTypeMap || (flagDataTypeMap = {}));\nvar storageMap;\n(function (storageMap) {\n    storageMap[\"token_bundle\"] = \"kinde_token\";\n    storageMap[\"access_token\"] = \"kinde_access_token\";\n    storageMap[\"id_token\"] = \"kinde_id_token\";\n    storageMap[\"user\"] = \"user\";\n    storageMap[\"refresh_token\"] = \"kinde_refresh_token\";\n})(storageMap || (storageMap = {}));\n\nclass InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nfunction jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n\n// Base64-urlencodes the input string\nfunction base64UrlEncode(str) {\n    // Convert the ArrayBuffer to string using Uint8 array to conver to what btoa accepts.\n    // btoa accepts chars only within ascii 0-255 and base64 encodes them.\n    // Then convert the base64 encoded to base64url encoded\n    //   (replace + with -, replace / with _, trim trailing =)\n    const numberArray = Array.from(new Uint8Array(str));\n    return btoa(String.fromCharCode.apply(null, numberArray))\n        .replace(/\\+/g, '-')\n        .replace(/\\//g, '_')\n        .replace(/=+$/, '');\n}\n\n// Calculate the SHA256 hash of the input text.\n// Returns a promise that resolves to an ArrayBuffer\nfunction sha256(plain) {\n    const encoder = new TextEncoder();\n    const data = encoder.encode(plain);\n    return window.crypto.subtle.digest('SHA-256', data);\n}\n\n// Return the base64-urlencoded sha256 hash for the PKCE challenge\nasync function pkceChallengeFromVerifier(v) {\n    const hashed = await sha256(v);\n    return base64UrlEncode(hashed);\n}\n\nfunction randomString() {\n    const array = new Uint32Array(28);\n    window.crypto.getRandomValues(array);\n    return Array.from(array, (dec) => ('0' + dec.toString(16)).substr(-2)).join('');\n}\n\nconst LEEWAY = 60;\nconst isJWTActive = (jwtToken) => {\n    const unixTime = Math.floor(Date.now() / 1000);\n    return jwtToken.exp + LEEWAY > unixTime;\n};\n\nconst setupChallenge = async (authorizationEndpoint, appState) => {\n    const state = randomString();\n    const code_verifier = randomString(); // the secret\n    // Hash and base64-urlencode the secret to use as the challenge\n    const code_challenge = await pkceChallengeFromVerifier(code_verifier);\n    sessionStorage.setItem(`${SESSION_PREFIX}-${state}`, JSON.stringify({\n        codeVerifier: code_verifier,\n        appState\n    }));\n    // Build and encode the authorisation request url\n    const url = new URL(authorizationEndpoint);\n    return { state, code_challenge, url };\n};\n\nconst createStore = () => {\n    let items = {};\n    const getItem = (key) => {\n        return items[key];\n    };\n    const setItem = (key, value) => {\n        items[key] = value;\n    };\n    const removeItem = (key) => {\n        delete items[key];\n    };\n    const reset = () => {\n        items = {};\n    };\n    return {\n        reset,\n        getItem,\n        removeItem,\n        setItem\n    };\n};\nconst store = createStore();\n\nconst getClaim = (claim, tokenKey = 'access_token') => {\n    const token = store.getItem(`kinde_${tokenKey}`);\n    return token ? { name: claim, value: token[claim] } : null;\n};\n\nconst getClaimValue = (claim, tokenKey = 'access_token') => {\n    const obj = getClaim(claim, tokenKey);\n    return obj && obj.value;\n};\n\nconst getFlag = (code, defaultValue, flagType) => {\n    const flags = getClaimValue('feature_flags');\n    const flag = (flags && flags[code] ? flags[code] : {});\n    if (flag.v == null && defaultValue == null) {\n        throw Error(`Flag ${code} was not found, and no default value has been provided`);\n    }\n    if (flagType && flag.t && flagType !== flag.t) {\n        throw Error(`Flag ${code} is of type ${flagDataTypeMap[flag.t]} - requested type ${flagDataTypeMap[flagType]}`);\n    }\n    return {\n        code,\n        type: flagDataTypeMap[flag.t || flagType],\n        value: (flag.v == null ? defaultValue : flag.v),\n        is_default: flag.v == null\n    };\n};\n\nconst getBooleanFlag = (code, defaultValue) => {\n    try {\n        const flag = getFlag(code, defaultValue, 'b');\n        return flag.value;\n    }\n    catch (err) {\n        console.error(err);\n        return err;\n    }\n};\n\nconst getIntegerFlag = (code, defaultValue) => {\n    try {\n        const flag = getFlag(code, defaultValue, 'i');\n        return flag.value;\n    }\n    catch (err) {\n        console.error(err);\n        return err;\n    }\n};\n\nconst getStringFlag = (code, defaultValue) => {\n    try {\n        const flag = getFlag(code, defaultValue, 's');\n        return flag.value;\n    }\n    catch (err) {\n        console.error(err);\n        return err;\n    }\n};\n\nconst getUserOrganizations = () => {\n    const orgCodes = (getClaimValue('org_codes', 'id_token') ?? []);\n    return {\n        orgCodes\n    };\n};\n\nconst PAYLOAD_CLAIMS = ['iss', 'azp'];\nconst isTokenValid = (token, config) => {\n    if (!token) {\n        throw new Error('ID token is required');\n    }\n    PAYLOAD_CLAIMS.forEach((claim) => {\n        if (!token.payload[claim]) {\n            throw new Error(`(${claim}) claim is required.`);\n        }\n        if (token.payload[claim] !== config[claim]) {\n            throw new Error(`${claim} claim mismatch. Expected: \"${config[claim]}\", Received: \"${token.payload[claim]}\"`);\n        }\n    });\n    if (token.header.alg !== 'RS256') {\n        throw new Error(`Unsupported signature alg. Expected: \"RS256\", Received: \"${token.header.alg}\"`);\n    }\n    if (config.aud) {\n        if (!Array.isArray(token.payload.aud)) {\n            throw new Error('(aud) claim must be an array');\n        }\n        if (!token.payload.aud.includes(config.aud)) {\n            throw new Error(`(aud) claim mismatch. Expected: \"${config.aud}\", Received: \"${token.payload.aud.join(', ')}\"`);\n        }\n    }\n    const isJWTExpired = !isJWTActive(token.payload);\n    if (isJWTExpired) {\n        throw new Error(`Token expired`);\n    }\n    return true;\n};\n\nconst isCustomDomain = (url) => {\n    const domain = new URL(url);\n    const bareDomain = domain.hostname.split('.').slice(-2).join('.');\n    return bareDomain !== 'kinde.com';\n};\n\nconst createKindeClient = async (options) => {\n    if (!options) {\n        throw Error('Please provide your Kinde credentials');\n    }\n    if (options !== Object(options)) {\n        throw Error('The Kinde SDK must be initiated with an object');\n    }\n    const { audience, client_id: clientId, domain, is_dangerously_use_local_storage = false, redirect_uri, logout_uri = redirect_uri, on_redirect_callback, scope = 'openid profile email offline', proxy_redirect_uri, _framework, _frameworkVersion } = options;\n    if (audience && typeof audience !== 'string') {\n        throw Error('Please supply a valid audience for your api');\n    }\n    if (scope && typeof scope !== 'string') {\n        throw Error('Please supply a valid scope');\n    }\n    if (!redirect_uri || typeof options.redirect_uri !== 'string') {\n        throw Error('Please supply a valid redirect_uri for your users to be redirected after successful authentication');\n    }\n    if (!domain || typeof domain !== 'string') {\n        throw Error('Please supply a valid Kinde domain so we can connect to your account');\n    }\n    if (typeof is_dangerously_use_local_storage !== 'boolean') {\n        throw TypeError('Please supply a boolean value for is_dangerously_use_local_storage');\n    }\n    const client_id = clientId || 'spa@live';\n    // If code is running on localhost, it's a development environment\n    const isDevelopment = location.hostname === 'localhost' || location.hostname === '127.0.0.1';\n    // Indicates using a custom domain on a production environment\n    const isUseCookie = !isDevelopment &&\n        !is_dangerously_use_local_storage &&\n        isCustomDomain(domain);\n    const isUseLocalStorage = isDevelopment || is_dangerously_use_local_storage;\n    const config = {\n        audience,\n        client_id,\n        redirect_uri,\n        authorization_endpoint: `${domain}/oauth2/auth`,\n        token_endpoint: `${domain}/oauth2/token`,\n        requested_scopes: scope,\n        domain,\n        _framework,\n        _frameworkVersion\n    };\n    const setStore = (data) => {\n        if (!data || data.error)\n            return;\n        const idToken = jwtDecode(data.id_token);\n        const idTokenHeader = jwtDecode(data.id_token, { header: true });\n        const accessToken = jwtDecode(data.access_token);\n        const accessTokenHeader = jwtDecode(data.access_token, { header: true });\n        const validatorOptions = {\n            iss: domain,\n            azp: clientId,\n            aud: audience\n        };\n        isTokenValid({\n            payload: idToken,\n            header: idTokenHeader\n        }, { ...validatorOptions, aud: clientId });\n        isTokenValid({\n            payload: accessToken,\n            header: accessTokenHeader\n        }, validatorOptions);\n        {\n            store.setItem(storageMap.token_bundle, data);\n            store.setItem(storageMap.access_token, accessToken);\n            store.setItem(storageMap.id_token, idToken);\n            store.setItem(storageMap.user, {\n                id: idToken.sub,\n                given_name: idToken.given_name,\n                family_name: idToken.family_name,\n                email: idToken.email,\n                picture: idToken.picture\n            });\n            if (isUseLocalStorage) {\n                localStorage.setItem(storageMap.refresh_token, data.refresh_token);\n            }\n            else {\n                store.setItem(storageMap.refresh_token, data.refresh_token);\n            }\n        }\n    };\n    const useRefreshToken = async ({ tokenType } = { tokenType: storageMap.access_token }) => {\n        const refresh_token = isUseLocalStorage\n            ? localStorage.getItem(storageMap.refresh_token)\n            : store.getItem(storageMap.refresh_token);\n        if (refresh_token || isUseCookie) {\n            try {\n                const response = await fetch(config.token_endpoint, {\n                    method: 'POST',\n                    ...(isUseCookie && { credentials: 'include' }),\n                    headers: new Headers({\n                        'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8',\n                        'Kinde-SDK': `\n            ${config._framework || 'JavaScript'}/${config._frameworkVersion || version}`\n                    }),\n                    body: new URLSearchParams({\n                        client_id: config.client_id,\n                        grant_type: 'refresh_token',\n                        ...(!isUseCookie && refresh_token && { refresh_token })\n                    })\n                });\n                const data = await response.json();\n                setStore(data);\n                if (tokenType === storageMap.id_token) {\n                    return data.id_token;\n                }\n                return data.access_token;\n            }\n            catch (err) {\n                console.error(err);\n            }\n        }\n    };\n    const getTokenType = async (tokenType) => {\n        const token = store.getItem(storageMap.token_bundle);\n        if (!token) {\n            return await useRefreshToken({ tokenType });\n        }\n        const tokenToReturn = store.getItem(tokenType);\n        const isTokenActive = isJWTActive(tokenToReturn);\n        if (isTokenActive) {\n            return tokenType === storageMap.access_token\n                ? token.access_token\n                : token.id_token;\n        }\n        else {\n            return await useRefreshToken({ tokenType });\n        }\n    };\n    const getToken = async () => {\n        return await getTokenType(storageMap.access_token);\n    };\n    const getIdToken = async () => {\n        return await getTokenType(storageMap.id_token);\n    };\n    const isAuthenticated = async () => {\n        const accessToken = store.getItem(storageMap.access_token);\n        if (!accessToken) {\n            return false;\n        }\n        const isTokenActive = isJWTActive(accessToken);\n        if (isTokenActive) {\n            return true;\n        }\n        await useRefreshToken();\n        return true;\n    };\n    const getPermissions = () => {\n        const orgCode = getClaimValue('org_code');\n        const permissions = (getClaimValue('permissions') ?? []);\n        return {\n            permissions,\n            orgCode\n        };\n    };\n    const getPermission = (key) => {\n        const orgCode = getClaimValue('org_code');\n        const permissions = (getClaimValue('permissions') ?? []);\n        return {\n            isGranted: permissions.some((p) => p === key),\n            orgCode\n        };\n    };\n    const getOrganization = () => {\n        const orgCode = getClaimValue('org_code');\n        return {\n            orgCode\n        };\n    };\n    const handleRedirectToApp = async (q) => {\n        const code = q.get('code');\n        const state = q.get('state');\n        const error = q.get('error');\n        if (error) {\n            console.error(`Error returned from authorization server: ${error}`);\n        }\n        const stringState = sessionStorage.getItem(`${SESSION_PREFIX}-${state}`);\n        // Verify state\n        if (!stringState) {\n            console.error('Invalid state');\n        }\n        else {\n            const { appState, codeVerifier } = JSON.parse(stringState);\n            // Exchange authorisation code for an access token\n            try {\n                const response = await fetch(config.token_endpoint, {\n                    method: 'POST',\n                    ...(isUseCookie && { credentials: 'include' }),\n                    headers: new Headers({\n                        'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8',\n                        'Kinde-SDK': `${config._framework || 'JavaScript'}/${config._frameworkVersion || version}`\n                    }),\n                    body: new URLSearchParams({\n                        client_id: config.client_id,\n                        code,\n                        code_verifier: codeVerifier,\n                        grant_type: 'authorization_code',\n                        redirect_uri: config.redirect_uri\n                    })\n                });\n                const data = await response.json();\n                setStore(data);\n                // Remove auth code from address bar\n                const url = new URL(window.location.toString());\n                url.search = '';\n                sessionStorage.removeItem(`${SESSION_PREFIX}-${state}`);\n                const user = getUser();\n                window.history.pushState({}, '', url);\n                if (on_redirect_callback) {\n                    on_redirect_callback(user, appState);\n                }\n            }\n            catch (err) {\n                console.error(err);\n                sessionStorage.removeItem(`${SESSION_PREFIX}-${state}`);\n            }\n        }\n    };\n    const redirectToKinde = async (options) => {\n        const { app_state, prompt, is_create_org, org_name = '', org_code, authUrlParams = {} } = options;\n        const { state, code_challenge, url } = await setupChallenge(config.authorization_endpoint, app_state);\n        const searchParams = {\n            redirect_uri,\n            client_id,\n            response_type: 'code',\n            scope: config.requested_scopes,\n            code_challenge,\n            code_challenge_method: 'S256',\n            state\n        };\n        if (prompt) {\n            searchParams.prompt = prompt;\n        }\n        if (org_code) {\n            searchParams.org_code = org_code;\n        }\n        if (is_create_org) {\n            searchParams.is_create_org = String(is_create_org);\n            searchParams.org_name = org_name;\n        }\n        const urlSearchParams = new URLSearchParams(Object.assign(authUrlParams, searchParams));\n        if (audience) {\n            /* if multiple audiences requested it should appear multiple times in the query string */\n            audience\n                .trim()\n                .split(/\\s+/)\n                .forEach((aud) => {\n                urlSearchParams.append('audience', aud);\n            });\n        }\n        url.search = String(urlSearchParams);\n        window.location.href = url.toString();\n    };\n    const register = async (options) => {\n        await redirectToKinde({\n            ...options,\n            prompt: 'create'\n        });\n    };\n    const login = async (options) => {\n        await redirectToKinde({\n            ...options\n        });\n    };\n    const createOrg = async (options) => {\n        await redirectToKinde({\n            ...options,\n            prompt: 'create',\n            is_create_org: true\n        });\n    };\n    const getUser = () => {\n        return store.getItem(storageMap.user);\n    };\n    const getUserProfile = async () => {\n        const token = await getToken();\n        const headers = {\n            Accept: 'application/json',\n            Authorization: `Bearer ${token}`\n        };\n        try {\n            const res = await fetch(`${config.domain}/oauth2/v2/user_profile`, {\n                method: 'GET',\n                headers: headers\n            });\n            const json = await res.json();\n            store.setItem(storageMap.user, {\n                id: json.sub,\n                given_name: json.given_name,\n                family_name: json.family_name,\n                email: json.email,\n                picture: json.picture\n            });\n            return store.getItem(storageMap.user);\n        }\n        catch (err) {\n            console.error(err);\n        }\n    };\n    const logout = async () => {\n        const url = new URL(`${config.domain}/logout`);\n        try {\n            store.reset();\n            if (isUseLocalStorage) {\n                localStorage.removeItem(storageMap.refresh_token);\n            }\n            const searchParams = new URLSearchParams({\n                redirect: logout_uri\n            });\n            url.search = String(searchParams);\n            window.location.href = url.toString();\n        }\n        catch (err) {\n            console.error(err);\n        }\n    };\n    const init = async () => {\n        const q = new URLSearchParams(window.location.search);\n        // Is a redirect from Kinde Auth server\n        if (isKindeRedirect(q)) {\n            await handleRedirectToApp(q);\n        }\n        else {\n            // For onload / new tab / page refresh\n            if (isUseCookie || isUseLocalStorage) {\n                await useRefreshToken();\n            }\n        }\n    };\n    const isKindeRedirect = (searchParams) => {\n        // Check if the search params hve the code parameter\n        const hasOauthCode = searchParams.has('code');\n        if (!hasOauthCode)\n            return false;\n        // Also check if redirect_uri matches current url\n        const { protocol, host, pathname } = window.location;\n        const currentRedirectUri = proxy_redirect_uri || `${protocol}//${host}${pathname}`;\n        return (currentRedirectUri === redirect_uri ||\n            currentRedirectUri === `${redirect_uri}/`);\n    };\n    await init();\n    return {\n        getToken,\n        getIdToken,\n        getUser,\n        getUserProfile,\n        login,\n        logout,\n        register,\n        isAuthenticated,\n        createOrg,\n        getClaim,\n        getFlag,\n        getBooleanFlag,\n        getStringFlag,\n        getIntegerFlag,\n        getPermissions,\n        getPermission,\n        getOrganization,\n        getUserOrganizations\n    };\n};\n\nexport { createKindeClient as default };\n","function e(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i}\"function\"==typeof SuppressedError&&SuppressedError;var t=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}var n=o((function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,i){var o=e.locked.get(t);void 0===o?void 0===i?e.locked.set(t,[]):e.locked.set(t,[i]):void 0!==i&&(o.unshift(i),e.locked.set(t,o))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(i,o){e.isLocked(t)?e.addToLocked(t,i):(e.addToLocked(t),i())}))},this.unlock=function(t){var i=e.locked.get(t);if(void 0!==i&&0!==i.length){var o=i.pop();e.locked.set(t,i),void 0!==o&&setTimeout(o,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return i.getInstance()}}));i(n);var a=i(o((function(e,i){var o=t&&t.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(n,a){function r(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):new i((function(t){t(e.value)})).then(r,s)}c((o=o.apply(e,t||[])).next())}))},a=t&&t.__generator||function(e,t){var i,o,n,a,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(i)throw new TypeError(\"Generator is already executing.\");for(;r;)try{if(i=1,o&&(n=2&a[0]?o.return:a[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,a[1])).done)return n;switch(o=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(n=r.trys,(n=n.length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){r.label=a[1];break}if(6===a[0]&&r.label<n[1]){r.label=n[1],n=a;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(a);break}n[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e],o=0}finally{i=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},r=t;Object.defineProperty(i,\"__esModule\",{value:!0});var s=\"browser-tabs-lock-key\",c={key:function(e){return o(r,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},getItem:function(e){return o(r,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},clear:function(){return o(r,void 0,void 0,(function(){return a(this,(function(e){return[2,window.localStorage.clear()]}))}))},removeItem:function(e){return o(r,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},setItem:function(e,t){return o(r,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},keySync:function(e){return window.localStorage.key(e)},getItemSync:function(e){return window.localStorage.getItem(e)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(e){return window.localStorage.removeItem(e)},setItemSync:function(e,t){return window.localStorage.setItem(e,t)}};function d(e){return new Promise((function(t){return setTimeout(t,e)}))}function u(e){for(var t=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz\",i=\"\",o=0;o<e;o++){i+=t[Math.floor(Math.random()*t.length)]}return i}var l=function(){function e(t){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+u(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=t,void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,i){return void 0===i&&(i=5e3),o(this,void 0,void 0,(function(){var o,n,r,l,h,p,m;return a(this,(function(a){switch(a.label){case 0:o=Date.now()+u(4),n=Date.now()+i,r=s+\"-\"+t,l=void 0===this.storageHandler?c:this.storageHandler,a.label=1;case 1:return Date.now()<n?[4,d(30)]:[3,8];case 2:return a.sent(),null!==l.getItemSync(r)?[3,5]:(h=this.id+\"-\"+t+\"-\"+o,[4,d(Math.floor(25*Math.random()))]);case 3:return a.sent(),l.setItemSync(r,JSON.stringify({id:this.id,iat:o,timeoutKey:h,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,d(30)];case 4:return a.sent(),null!==(p=l.getItemSync(r))&&(m=JSON.parse(p)).id===this.id&&m.iat===o?(this.acquiredIatSet.add(o),this.refreshLockWhileAcquired(r,o),[2,!0]):[3,7];case 5:return e.lockCorrector(void 0===this.storageHandler?c:this.storageHandler),[4,this.waitForSomethingToChange(n)];case 6:a.sent(),a.label=7;case 7:return o=Date.now()+u(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return o(this,void 0,void 0,(function(){var i=this;return a(this,(function(r){return setTimeout((function(){return o(i,void 0,void 0,(function(){var i,o,r;return a(this,(function(a){switch(a.label){case 0:return[4,n.default().lock(t)];case 1:return a.sent(),this.acquiredIatSet.has(t)?(i=void 0===this.storageHandler?c:this.storageHandler,null===(o=i.getItemSync(e))?(n.default().unlock(t),[2]):((r=JSON.parse(o)).timeRefreshed=Date.now(),i.setItemSync(e,JSON.stringify(r)),n.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(n.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,new Promise((function(i){var o=!1,n=Date.now(),a=!1;function r(){if(a||(window.removeEventListener(\"storage\",r),e.removeFromWaiting(r),clearTimeout(s),a=!0),!o){o=!0;var t=50-(Date.now()-n);t>0?setTimeout(i,t):i(null)}}window.addEventListener(\"storage\",r),e.addToWaiting(r);var s=setTimeout(r,Math.max(0,t-Date.now()))}))];case 1:return i.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return o(this,void 0,void 0,(function(){var i,o,r,d;return a(this,(function(a){switch(a.label){case 0:return i=void 0===this.storageHandler?c:this.storageHandler,o=s+\"-\"+t,null===(r=i.getItemSync(o))?[2]:(d=JSON.parse(r)).id!==this.id?[3,2]:[4,n.default().lock(d.iat)];case 1:a.sent(),this.acquiredIatSet.delete(d.iat),i.removeItemSync(o),n.default().unlock(d.iat),e.notifyWaiters(),a.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(t){for(var i=Date.now()-5e3,o=t,n=[],a=0;;){var r=o.keySync(a);if(null===r)break;n.push(r),a++}for(var c=!1,d=0;d<n.length;d++){var u=n[d];if(u.includes(s)){var l=o.getItemSync(u);if(null!==l){var h=JSON.parse(l);(void 0===h.timeRefreshed&&h.timeAcquired<i||void 0!==h.timeRefreshed&&h.timeRefreshed<i)&&(o.removeItemSync(u),c=!0)}}}c&&e.notifyWaiters()},e.waiters=void 0,e}();i.default=l})));const r={timeoutInSeconds:60},s={name:\"auth0-spa-js\",version:\"2.1.3\"},c=()=>Date.now();class d extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,d.prototype)}static fromPayload({error:e,error_description:t}){return new d(e,t)}}class u extends d{constructor(e,t,i,o=null){super(e,t),this.state=i,this.appState=o,Object.setPrototypeOf(this,u.prototype)}}class l extends d{constructor(){super(\"timeout\",\"Timeout\"),Object.setPrototypeOf(this,l.prototype)}}class h extends l{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,h.prototype)}}class p extends d{constructor(e){super(\"cancelled\",\"Popup closed\"),this.popup=e,Object.setPrototypeOf(this,p.prototype)}}class m extends d{constructor(e,t,i){super(e,t),this.mfa_token=i,Object.setPrototypeOf(this,m.prototype)}}class f extends d{constructor(e,t){super(\"missing_refresh_token\",`Missing Refresh Token (audience: '${g(e,[\"default\"])}', scope: '${g(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,f.prototype)}}function g(e,t=[]){return e&&!t.includes(e)?e:\"\"}const w=()=>window.crypto,y=()=>{const e=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.\";let t=\"\";return Array.from(w().getRandomValues(new Uint8Array(43))).forEach((i=>t+=e[i%e.length])),t},k=e=>btoa(e),v=t=>{var{clientId:i}=t,o=e(t,[\"clientId\"]);return new URLSearchParams((e=>Object.keys(e).filter((t=>void 0!==e[t])).reduce(((t,i)=>Object.assign(Object.assign({},t),{[i]:e[i]})),{}))(Object.assign({client_id:i},o))).toString()},b=e=>(e=>decodeURIComponent(atob(e).split(\"\").map((e=>\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2))).join(\"\")))(e.replace(/_/g,\"/\").replace(/-/g,\"+\")),_=async(e,t)=>{const i=await fetch(e,t);return{ok:i.ok,json:await i.json()}},I=async(e,t,i)=>{const o=new AbortController;let n;return t.signal=o.signal,Promise.race([_(e,t),new Promise(((e,t)=>{n=setTimeout((()=>{o.abort(),t(new Error(\"Timeout when executing 'fetch'\"))}),i)}))]).finally((()=>{clearTimeout(n)}))},S=async(e,t,i,o,n,a,r)=>{return s={auth:{audience:t,scope:i},timeout:n,fetchUrl:e,fetchOptions:o,useFormData:r},c=a,new Promise((function(e,t){const i=new MessageChannel;i.port1.onmessage=function(o){o.data.error?t(new Error(o.data.error)):e(o.data),i.port1.close()},c.postMessage(s,[i.port2])}));var s,c},O=async(e,t,i,o,n,a,r=1e4)=>n?S(e,t,i,o,r,n,a):I(e,o,r);async function T(t,i){var{baseUrl:o,timeout:n,audience:a,scope:r,auth0Client:c,useFormData:u}=t,l=e(t,[\"baseUrl\",\"timeout\",\"audience\",\"scope\",\"auth0Client\",\"useFormData\"]);const h=u?v(l):JSON.stringify(l);return await async function(t,i,o,n,a,r,s){let c,u=null;for(let e=0;e<3;e++)try{c=await O(t,o,n,a,r,s,i),u=null;break}catch(e){u=e}if(u)throw u;const l=c.json,{error:h,error_description:p}=l,g=e(l,[\"error\",\"error_description\"]),{ok:w}=c;if(!w){const e=p||`HTTP error. Unable to fetch ${t}`;if(\"mfa_required\"===h)throw new m(h,e,g.mfa_token);if(\"missing_refresh_token\"===h)throw new f(o,n);throw new d(h||\"request_error\",e)}return g}(`${o}/oauth/token`,n,a||\"default\",r,{method:\"POST\",body:h,headers:{\"Content-Type\":u?\"application/x-www-form-urlencoded\":\"application/json\",\"Auth0-Client\":btoa(JSON.stringify(c||s))}},i,u)}const j=(...e)=>{return(t=e.filter(Boolean).join(\" \").trim().split(/\\s+/),Array.from(new Set(t))).join(\" \");var t};class C{constructor(e,t=\"@@auth0spajs@@\",i){this.prefix=t,this.suffix=i,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join(\"::\")}static fromKey(e){const[t,i,o,n]=e.split(\"::\");return new C({clientId:i,scope:n,audience:o},t)}static fromCacheEntry(e){const{scope:t,audience:i,client_id:o}=e;return new C({scope:t,audience:i,clientId:o})}}class z{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter((e=>e.startsWith(\"@@auth0spajs@@\")))}}class P{constructor(){this.enclosedCache=function(){let e={};return{set(t,i){e[t]=i},get(t){const i=e[t];if(i)return i},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}}class x{constructor(e,t,i){this.cache=e,this.keyManifest=t,this.nowProvider=i||c}async setIdToken(e,t,i){var o;const n=this.getIdTokenCacheKey(e);await this.cache.set(n,{id_token:t,decodedToken:i}),await(null===(o=this.keyManifest)||void 0===o?void 0:o.add(n))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const t=await this.get(e);if(!t)return;if(!t.id_token||!t.decodedToken)return;return{id_token:t.id_token,decodedToken:t.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0){var i;let o=await this.cache.get(e.toKey());if(!o){const t=await this.getCacheKeys();if(!t)return;const i=this.matchExistingCacheKey(e,t);i&&(o=await this.cache.get(i))}if(!o)return;const n=await this.nowProvider(),a=Math.floor(n/1e3);return o.expiresAt-t<a?o.body.refresh_token?(o.body={refresh_token:o.body.refresh_token},await this.cache.set(e.toKey(),o),o.body):(await this.cache.remove(e.toKey()),void await(null===(i=this.keyManifest)||void 0===i?void 0:i.remove(e.toKey()))):o.body}async set(e){var t;const i=new C({clientId:e.client_id,scope:e.scope,audience:e.audience}),o=await this.wrapCacheEntry(e);await this.cache.set(i.toKey(),o),await(null===(t=this.keyManifest)||void 0===t?void 0:t.add(i.toKey()))}async clear(e){var t;const i=await this.getCacheKeys();i&&(await i.filter((t=>!e||t.includes(e))).reduce((async(e,t)=>{await e,await this.cache.remove(t)}),Promise.resolve()),await(null===(t=this.keyManifest)||void 0===t?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?null===(e=await this.keyManifest.get())||void 0===e?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new C({clientId:e},\"@@auth0spajs@@\",\"@@user@@\").toKey()}matchExistingCacheKey(e,t){return t.filter((t=>{var i;const o=C.fromKey(t),n=new Set(o.scope&&o.scope.split(\" \")),a=(null===(i=e.scope)||void 0===i?void 0:i.split(\" \"))||[],r=o.scope&&a.reduce(((e,t)=>e&&n.has(t)),!0);return\"@@auth0spajs@@\"===o.prefix&&o.clientId===e.clientId&&o.audience===e.audience&&r}))[0]}}class Z{constructor(e,t,i){this.storage=e,this.clientId=t,this.cookieDomain=i,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const K=e=>\"number\"==typeof e,W=[\"iss\",\"aud\",\"exp\",\"nbf\",\"iat\",\"jti\",\"azp\",\"nonce\",\"auth_time\",\"at_hash\",\"c_hash\",\"acr\",\"amr\",\"sub_jwk\",\"cnf\",\"sip_from_tag\",\"sip_date\",\"sip_callid\",\"sip_cseq_num\",\"sip_via_branch\",\"orig\",\"dest\",\"mky\",\"events\",\"toe\",\"txn\",\"rph\",\"sid\",\"vot\",\"vtm\"],E=e=>{if(!e.id_token)throw new Error(\"ID token is required but missing\");const t=(e=>{const t=e.split(\".\"),[i,o,n]=t;if(3!==t.length||!i||!o||!n)throw new Error(\"ID token could not be decoded\");const a=JSON.parse(b(o)),r={__raw:e},s={};return Object.keys(a).forEach((e=>{r[e]=a[e],W.includes(e)||(s[e]=a[e])})),{encoded:{header:i,payload:o,signature:n},header:JSON.parse(b(i)),claims:r,user:s}})(e.id_token);if(!t.claims.iss)throw new Error(\"Issuer (iss) claim must be a string present in the ID token\");if(t.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected \"${e.iss}\", found \"${t.claims.iss}\"`);if(!t.user.sub)throw new Error(\"Subject (sub) claim must be a string present in the ID token\");if(\"RS256\"!==t.header.alg)throw new Error(`Signature algorithm of \"${t.header.alg}\" is not supported. Expected the ID token to be signed with \"RS256\".`);if(!t.claims.aud||\"string\"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error(\"Audience (aud) claim must be a string or array of strings present in the ID token\");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected \"${e.aud}\" but was not one of \"${t.claims.aud.join(\", \")}\"`);if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error(\"Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values\");if(t.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected \"${e.aud}\", found \"${t.claims.azp}\"`)}}else if(t.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected \"${e.aud}\" but found \"${t.claims.aud}\"`);if(e.nonce){if(!t.claims.nonce)throw new Error(\"Nonce (nonce) claim must be a string present in the ID token\");if(t.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected \"${e.nonce}\", found \"${t.claims.nonce}\"`)}if(e.max_age&&!K(t.claims.auth_time))throw new Error(\"Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified\");if(null==t.claims.exp||!K(t.claims.exp))throw new Error(\"Expiration Time (exp) claim must be a number present in the ID token\");if(!K(t.claims.iat))throw new Error(\"Issued At (iat) claim must be a number present in the ID token\");const i=e.leeway||60,o=new Date(e.now||Date.now()),n=new Date(0);if(n.setUTCSeconds(t.claims.exp+i),o>n)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${o}) is after expiration time (${n})`);if(null!=t.claims.nbf&&K(t.claims.nbf)){const e=new Date(0);if(e.setUTCSeconds(t.claims.nbf-i),o<e)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${o}) is before ${e}`)}if(null!=t.claims.auth_time&&K(t.claims.auth_time)){const n=new Date(0);if(n.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+i),o>n)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${o}) is after last auth at ${n}`)}if(e.organization){const i=e.organization.trim();if(i.startsWith(\"org_\")){const e=i;if(!t.claims.org_id)throw new Error(\"Organization ID (org_id) claim must be a string present in the ID token\");if(e!==t.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected \"${e}\", found \"${t.claims.org_id}\"`)}else{const e=i.toLowerCase();if(!t.claims.org_name)throw new Error(\"Organization Name (org_name) claim must be a string present in the ID token\");if(e!==t.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected \"${e}\", found \"${t.claims.org_name}\"`)}}return t};var R=o((function(e,i){var o=t&&t.__assign||function(){return o=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)};function n(e,t){if(!t)return\"\";var i=\"; \"+e;return!0===t?i:i+\"=\"+t}function a(e,t,i){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\")+\"=\"+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if(\"number\"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return n(\"Expires\",e.expires?e.expires.toUTCString():\"\")+n(\"Domain\",e.domain)+n(\"Path\",e.path)+n(\"Secure\",e.secure)+n(\"SameSite\",e.sameSite)}(i)}function r(e){for(var t={},i=e?e.split(\"; \"):[],o=/(%[\\dA-F]{2})+/gi,n=0;n<i.length;n++){var a=i[n].split(\"=\"),r=a.slice(1).join(\"=\");'\"'===r.charAt(0)&&(r=r.slice(1,-1));try{t[a[0].replace(o,decodeURIComponent)]=r.replace(o,decodeURIComponent)}catch(e){}}return t}function s(){return r(document.cookie)}function c(e,t,i){document.cookie=a(e,t,o({path:\"/\"},i))}i.__esModule=!0,i.encode=a,i.parse=r,i.getAll=s,i.get=function(e){return s()[e]},i.set=c,i.remove=function(e,t){c(e,\"\",o(o({},t),{expires:-1}))}}));i(R),R.encode,R.parse,R.getAll;var U=R.get,L=R.set,D=R.remove;const X={get(e){const t=U(e);if(void 0!==t)return JSON.parse(t)},save(e,t,i){let o={};\"https:\"===window.location.protocol&&(o={secure:!0,sameSite:\"none\"}),(null==i?void 0:i.daysUntilExpire)&&(o.expires=i.daysUntilExpire),(null==i?void 0:i.cookieDomain)&&(o.domain=i.cookieDomain),L(e,JSON.stringify(t),o)},remove(e,t){let i={};(null==t?void 0:t.cookieDomain)&&(i.domain=t.cookieDomain),D(e,i)}},N={get(e){const t=X.get(e);return t||X.get(`_legacy_${e}`)},save(e,t,i){let o={};\"https:\"===window.location.protocol&&(o={secure:!0}),(null==i?void 0:i.daysUntilExpire)&&(o.expires=i.daysUntilExpire),(null==i?void 0:i.cookieDomain)&&(o.domain=i.cookieDomain),L(`_legacy_${e}`,JSON.stringify(t),o),X.save(e,t,i)},remove(e,t){let i={};(null==t?void 0:t.cookieDomain)&&(i.domain=t.cookieDomain),D(e,i),X.remove(e,t),X.remove(`_legacy_${e}`,t)}},J={get(e){if(\"undefined\"==typeof sessionStorage)return;const t=sessionStorage.getItem(e);return null!=t?JSON.parse(t):void 0},save(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}};function F(e,t,i){var o=void 0===t?null:t,n=function(e,t){var i=atob(e);if(t){for(var o=new Uint8Array(i.length),n=0,a=i.length;n<a;++n)o[n]=i.charCodeAt(n);return String.fromCharCode.apply(null,new Uint16Array(o.buffer))}return i}(e,void 0!==i&&i),a=n.indexOf(\"\\n\",10)+1,r=n.substring(a)+(o?\"//# sourceMappingURL=\"+o:\"\"),s=new Blob([r],{type:\"application/javascript\"});return URL.createObjectURL(s)}var H,Y,G,V,M=(H=\"Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=\",Y=null,G=!1,function(e){return V=V||F(H,Y,G),new Worker(V,e)});const A={};class B{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const i=new Set((null===(t=await this.cache.get(this.manifestKey))||void 0===t?void 0:t.keys)||[]);i.add(e),await this.cache.set(this.manifestKey,{keys:[...i]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const i=new Set(t.keys);return i.delete(e),i.size>0?await this.cache.set(this.manifestKey,{keys:[...i]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const $={memory:()=>(new P).enclosedCache,localstorage:()=>new z},q=e=>$[e],Q=t=>{const{openUrl:i,onRedirect:o}=t,n=e(t,[\"openUrl\",\"onRedirect\"]);return Object.assign(Object.assign({},n),{openUrl:!1===i||i?i:o})},ee=new a;class te{constructor(e){let t,i;if(this.userCache=(new P).enclosedCache,this.defaultOptions={authorizationParams:{scope:\"openid profile email\"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await ee.releaseLock(\"auth0.lock.getTokenSilently\"),window.removeEventListener(\"pagehide\",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),\"undefined\"!=typeof window&&(()=>{if(!w())throw new Error(\"For security reasons, `window.crypto` is required to run `auth0-spa-js`.\");if(void 0===w().subtle)throw new Error(\"\\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\\n    \")})(),e.cache&&e.cacheLocation&&console.warn(\"Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`.\"),e.cache)i=e.cache;else{if(t=e.cacheLocation||\"memory\",!q(t))throw new Error(`Invalid cache location \"${t}\"`);i=q(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===e.legacySameSiteCookie?X:N,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(e=>`auth0.${e}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const o=e.useCookiesForTransactions?this.cookieStorage:J;var n;this.scope=j(\"openid\",this.options.authorizationParams.scope,this.options.useRefreshTokens?\"offline_access\":\"\"),this.transactionManager=new Z(o,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||c,this.cacheManager=new x(i,i.allKeys?void 0:new B(i,this.options.clientId),this.nowProvider),this.domainUrl=(n=this.options.domain,/^https?:\\/\\//.test(n)?n:`https://${n}`),this.tokenIssuer=((e,t)=>e?e.startsWith(\"https://\")?e:`https://${e}/`:`${t}/`)(this.options.issuer,this.domainUrl),\"undefined\"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&\"memory\"===t&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new M)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||s)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${v(e)}`)}async _verifyIdToken(e,t,i){const o=await this.nowProvider();return E({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:i,leeway:this.options.leeway,max_age:(n=this.options.authorizationParams.max_age,\"string\"!=typeof n?n:parseInt(n,10)||void 0),now:o});var n}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,i){const o=k(y()),n=k(y()),a=y(),r=(e=>{const t=new Uint8Array(e);return(e=>{const t={\"+\":\"-\",\"/\":\"_\",\"=\":\"\"};return e.replace(/[+/=]/g,(e=>t[e]))})(window.btoa(String.fromCharCode(...Array.from(t))))})(await(async e=>{const t=w().subtle.digest({name:\"SHA-256\"},(new TextEncoder).encode(e));return await t})(a)),s=((e,t,i,o,n,a,r,s)=>Object.assign(Object.assign(Object.assign({client_id:e.clientId},e.authorizationParams),i),{scope:j(t,i.scope),response_type:\"code\",response_mode:s||\"query\",state:o,nonce:n,redirect_uri:r||e.authorizationParams.redirect_uri,code_challenge:a,code_challenge_method:\"S256\"}))(this.options,this.scope,e,o,n,r,e.redirect_uri||this.options.authorizationParams.redirect_uri||i,null==t?void 0:t.response_mode),c=this._authorizeUrl(s);return{nonce:n,code_verifier:a,scope:s.scope,audience:s.audience||\"default\",redirect_uri:s.redirect_uri,state:o,url:c}}async loginWithPopup(e,t){var i;if(e=e||{},!(t=t||{}).popup&&(t.popup=(e=>{const t=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2;return window.open(e,\"auth0:authorize:popup\",`left=${t},top=${i},width=400,height=600,resizable,scrollbars=yes,status=1`)})(\"\"),!t.popup))throw new Error(\"Unable to open a popup for loginWithPopup - window.open returned `null`\");const o=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:\"web_message\"},window.location.origin);t.popup.location.href=o.url;const n=await(e=>new Promise(((t,i)=>{let o;const n=setInterval((()=>{e.popup&&e.popup.closed&&(clearInterval(n),clearTimeout(a),window.removeEventListener(\"message\",o,!1),i(new p(e.popup)))}),1e3),a=setTimeout((()=>{clearInterval(n),i(new h(e.popup)),window.removeEventListener(\"message\",o,!1)}),1e3*(e.timeoutInSeconds||60));o=function(r){if(r.data&&\"authorization_response\"===r.data.type){if(clearTimeout(a),clearInterval(n),window.removeEventListener(\"message\",o,!1),e.popup.close(),r.data.response.error)return i(d.fromPayload(r.data.response));t(r.data.response)}},window.addEventListener(\"message\",o)})))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(o.state!==n.state)throw new d(\"state_mismatch\",\"Invalid state\");const a=(null===(i=e.authorizationParams)||void 0===i?void 0:i.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:o.audience,scope:o.scope,code_verifier:o.code_verifier,grant_type:\"authorization_code\",code:n.code,redirect_uri:o.redirect_uri},{nonceIn:o.nonce,organization:a})}async getUser(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.claims}async loginWithRedirect(t={}){var i;const o=Q(t),{openUrl:n,fragment:a,appState:r}=o,s=e(o,[\"openUrl\",\"fragment\",\"appState\"]),c=(null===(i=s.authorizationParams)||void 0===i?void 0:i.organization)||this.options.authorizationParams.organization,d=await this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:u}=d,l=e(d,[\"url\"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},l),{appState:r}),c&&{organization:c}));const h=a?`${u}#${a}`:u;n?await n(h):window.location.assign(h)}async handleRedirectCallback(e=window.location.href){const t=e.split(\"?\").slice(1);if(0===t.length)throw new Error(\"There are no query params available for parsing.\");const{state:i,code:o,error:n,error_description:a}=(e=>{e.indexOf(\"#\")>-1&&(e=e.substring(0,e.indexOf(\"#\")));const t=new URLSearchParams(e);return{state:t.get(\"state\"),code:t.get(\"code\")||void 0,error:t.get(\"error\")||void 0,error_description:t.get(\"error_description\")||void 0}})(t.join(\"\")),r=this.transactionManager.get();if(!r)throw new d(\"missing_transaction\",\"Invalid state\");if(this.transactionManager.remove(),n)throw new u(n,a||n,i,r.appState);if(!r.code_verifier||r.state&&r.state!==i)throw new d(\"state_mismatch\",\"Invalid state\");const s=r.organization,c=r.nonce,l=r.redirect_uri;return await this._requestToken(Object.assign({audience:r.audience,scope:r.scope,code_verifier:r.code_verifier,grant_type:\"authorization_code\",code:o},l?{redirect_uri:l}:{}),{nonceIn:c,organization:s}),{appState:r.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get(\"auth0.is.authenticated\"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(\"auth0.is.authenticated\")}try{await this.getTokenSilently(e)}catch(e){}}async getTokenSilently(e={}){var t;const i=Object.assign(Object.assign({cacheMode:\"on\"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:j(this.scope,null===(t=e.authorizationParams)||void 0===t?void 0:t.scope)})}),o=await((e,t)=>{let i=A[t];return i||(i=e().finally((()=>{delete A[t],i=null})),A[t]=i),i})((()=>this._getTokenSilently(i)),`${this.options.clientId}::${i.authorizationParams.audience}::${i.authorizationParams.scope}`);return e.detailedResponse?o:null==o?void 0:o.access_token}async _getTokenSilently(t){const{cacheMode:i}=t,o=e(t,[\"cacheMode\"]);if(\"off\"!==i){const e=await this._getEntryFromCache({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId});if(e)return e}if(\"cache-only\"!==i){if(!await(async(e,t=3)=>{for(let i=0;i<t;i++)if(await e())return!0;return!1})((()=>ee.acquireLock(\"auth0.lock.getTokenSilently\",5e3)),10))throw new l;try{if(window.addEventListener(\"pagehide\",this._releaseLockOnPageHide),\"off\"!==i){const e=await this._getEntryFromCache({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId});if(e)return e}const e=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(o):await this._getTokenFromIFrame(o),{id_token:t,access_token:n,oauthTokenScope:a,expires_in:r}=e;return Object.assign(Object.assign({id_token:t,access_token:n},a?{scope:a}:null),{expires_in:r})}finally{await ee.releaseLock(\"auth0.lock.getTokenSilently\"),window.removeEventListener(\"pagehide\",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},t={}){var i;const o=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:j(this.scope,null===(i=e.authorizationParams)||void 0===i?void 0:i.scope)})});t=Object.assign(Object.assign({},r),t),await this.loginWithPopup(o,t);return(await this.cacheManager.get(new C({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(t){null!==t.clientId?t.clientId=t.clientId||this.options.clientId:delete t.clientId;const i=t.logoutParams||{},{federated:o}=i,n=e(i,[\"federated\"]),a=o?\"&federated\":\"\";return this._url(`/v2/logout?${v(Object.assign({clientId:t.clientId},n))}`)+a}async logout(t={}){const i=Q(t),{openUrl:o}=i,n=e(i,[\"openUrl\"]);null===t.clientId?await this.cacheManager.clear():await this.cacheManager.clear(t.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove(\"@@user@@\");const a=this._buildLogoutUrl(n);o?await o(a):!1!==o&&window.location.assign(a)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:\"none\"}),i=this.cookieStorage.get(this.orgHintCookieName);i&&!t.organization&&(t.organization=i);const{url:o,state:n,nonce:a,code_verifier:r,redirect_uri:s,scope:c,audience:u}=await this._prepareAuthorizeUrl(t,{response_mode:\"web_message\"},window.location.origin);try{if(window.crossOriginIsolated)throw new d(\"login_required\",\"The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.\");const i=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,h=await((e,t,i=60)=>new Promise(((o,n)=>{const a=window.document.createElement(\"iframe\");a.setAttribute(\"width\",\"0\"),a.setAttribute(\"height\",\"0\"),a.style.display=\"none\";const r=()=>{window.document.body.contains(a)&&(window.document.body.removeChild(a),window.removeEventListener(\"message\",s,!1))};let s;const c=setTimeout((()=>{n(new l),r()}),1e3*i);s=function(e){if(e.origin!=t)return;if(!e.data||\"authorization_response\"!==e.data.type)return;const i=e.source;i&&i.close(),e.data.response.error?n(d.fromPayload(e.data.response)):o(e.data.response),clearTimeout(c),window.removeEventListener(\"message\",s,!1),setTimeout(r,2e3)},window.addEventListener(\"message\",s,!1),window.document.body.appendChild(a),a.setAttribute(\"src\",e)})))(o,this.domainUrl,i);if(n!==h.state)throw new d(\"state_mismatch\",\"Invalid state\");const p=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:r,code:h.code,grant_type:\"authorization_code\",redirect_uri:s,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:t.organization});return Object.assign(Object.assign({},p),{scope:c,oauthTokenScope:p.scope,audience:u})}catch(e){throw\"login_required\"===e.error&&this.logout({openUrl:!1}),e}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new C({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||\"default\",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new f(e.authorizationParams.audience||\"default\",e.authorizationParams.scope)}const i=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,o=\"number\"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null;try{const n=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:\"refresh_token\",refresh_token:t&&t.refresh_token,redirect_uri:i}),o&&{timeout:o}));return Object.assign(Object.assign({},n),{scope:e.authorizationParams.scope,oauthTokenScope:n.scope,audience:e.authorizationParams.audience||\"default\"})}catch(t){if((t.message.indexOf(\"Missing Refresh Token\")>-1||t.message&&t.message.indexOf(\"invalid refresh token\")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw t}}async _saveEntryInCache(t){const{id_token:i,decodedToken:o}=t,n=e(t,[\"id_token\",\"decodedToken\"]);this.userCache.set(\"@@user@@\",{id_token:i,decodedToken:o}),await this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),await this.cacheManager.set(n)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||\"default\",t=await this.cacheManager.getIdToken(new C({clientId:this.options.clientId,audience:e,scope:this.scope})),i=this.userCache.get(\"@@user@@\");return t&&t.id_token===(null==i?void 0:i.id_token)?i:(this.userCache.set(\"@@user@@\",t),t)}async _getEntryFromCache({scope:e,audience:t,clientId:i}){const o=await this.cacheManager.get(new C({scope:e,audience:t,clientId:i}),60);if(o&&o.access_token){const{access_token:e,oauthTokenScope:t,expires_in:i}=o,n=await this._getIdTokenFromCache();return n&&Object.assign(Object.assign({id_token:n.id_token,access_token:e},t?{scope:t}:null),{expires_in:i})}}async _requestToken(e,t){const{nonceIn:i,organization:o}=t||{},n=await T(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),a=await this._verifyIdToken(n.id_token,i,o);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},n),{decodedToken:a,scope:e.scope,audience:e.audience||\"default\"}),n.scope?{oauthTokenScope:n.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(o||a.claims.org_id),Object.assign(Object.assign({},n),{decodedToken:a})}}class ie{}async function oe(e){const t=new te(e);return await t.checkSession(),t}export{te as Auth0Client,u as AuthenticationError,C as CacheKey,d as GenericError,P as InMemoryCache,z as LocalStorageCache,m as MfaRequiredError,f as MissingRefreshTokenError,p as PopupCancelledError,h as PopupTimeoutError,l as TimeoutError,ie as User,oe as createAuth0Client};\n//# sourceMappingURL=auth0-spa-js.production.esm.js.map\n","import { extend } from 'underscore';\nimport Radio from 'backbone.radio';\nimport { createAuth0Client } from '@auth0/auth0-spa-js';\n\nimport { auth0Config as config, appConfig } from './config';\n\nimport 'scss/app-root.scss';\n\nimport { LoginPromptView } from 'js/views/globals/prelogin/prelogin_views';\n\nconst RWELL_KEY = 'rw';\nconst RWELL_CONNECTION = 'google-oauth2';\nconst AUTHD_PATH = '/authenticated';\n\nlet auth0;\n\nfunction setAuth0(auth0Client) {\n  auth0 = auth0Client;\n  return auth0.isAuthenticated();\n}\n\nlet token;\n\n// Sets a token when not using auth0;\nfunction setToken(tokenString) {\n  token = tokenString;\n}\n\nfunction getToken() {\n  if (token) return token;\n  if (!auth0 || !navigator.onLine) return;\n\n  return auth0\n    .getTokenSilently()\n    .catch(() => {\n      logout();\n    });\n}\n\n/*\n * Modifies the current history state\n */\nfunction replaceState(state) {\n  window.history.replaceState({}, document.title, state);\n}\n\n/*\n * authenticate parses the implicit flow hash to determine the token\n * if there is an error it forces a new authorization with a new login\n * If successful, redirects to the initial path and sends the app\n * the token and config org name\n */\nfunction authenticate(success) {\n  return auth0.handleRedirectCallback()\n    .then(({ appState }) => {\n      if (appState === '/login') appState = '/';\n\n      if (appState === RWELL_KEY) {\n        appState = '/';\n        localStorage.setItem(RWELL_KEY, 1);\n      }\n\n      replaceState(appState);\n      success();\n    })\n    .catch(() => {\n      forceLogin();\n    });\n}\n\n/*\n *  Take appconfig.auth0 and extend it with the default config\n */\nfunction getConfig() {\n  config.authorizationParams = extend({\n    redirect_uri: location.origin + AUTHD_PATH,\n    audience: 'care-ops-backend',\n  }, config.authorizationParams);\n\n  if (localStorage.getItem(RWELL_KEY)) {\n    config.authorizationParams.connection = RWELL_CONNECTION;\n  }\n\n  return config;\n}\n\n/*\n * login will occur for any pre-auth flow\n * initially requesting auth0 authorization\n * And authenticating authorization if auth0 redirected to AUTHD_PATH\n */\nfunction auth(success) {\n  if (appConfig.cypress) {\n    setToken(appConfig.cypress);\n    success();\n    return;\n  }\n\n  if (!navigator.onLine) {\n    success();\n    return;\n  }\n\n  createAuth0Client(getConfig())\n    .then(setAuth0)\n    .then(isAuthenticated => {\n      if (location.pathname === '/logout') {\n        const federated = Radio.request('settings', 'get', 'federated_logout');\n        auth0.logout({ logoutParams: { returnTo: location.origin, federated } });\n        return;\n      }\n\n      // RWell specific login\n      if (location.pathname === `/${ RWELL_KEY }`) {\n        loginWithRedirect({\n          appState: RWELL_KEY,\n          authorizationParams: {\n            connection: RWELL_CONNECTION,\n          },\n        });\n        return;\n      }\n\n      if (location.pathname === AUTHD_PATH) {\n        authenticate(success);\n        return;\n      }\n\n      if (!isAuthenticated) {\n        forceLogin(location.pathname);\n        return;\n      }\n\n      if (location.pathname === '/login') {\n        replaceState('/');\n      }\n\n      success();\n    });\n}\n\nfunction logout() {\n  token = null;\n  window.location = '/logout';\n}\n\nfunction loginWithRedirect(opts) {\n  auth0.loginWithRedirect(extend({ prompt: 'login' }, opts));\n}\n\nfunction forceLogin(appState = '/') {\n  // iframe buster\n  if (top !== self) {\n    top.location = '/login';\n    return;\n  }\n\n  if (appConfig.disableLoginPrompt) {\n    return loginWithRedirect({ appState });\n  }\n\n  replaceState('/login');\n\n  const loginPromptView = new LoginPromptView();\n\n  loginPromptView.on('click:login', ()=> {\n    loginWithRedirect({ appState });\n  });\n\n  loginPromptView.render();\n}\n\nexport {\n  auth,\n  logout,\n  setToken,\n  getToken,\n};\n","import { extend } from 'underscore';\nimport Radio from 'backbone.radio';\nimport createKindeClient from '@kinde-oss/kinde-auth-pkce-js';\n\nimport { kindeConfig as config, appConfig } from './config';\n\nimport { auth as auth0, logout as auth0Logout, setToken as auth0SetToken, getToken as auth0GetToken } from './auth0';\n\nimport 'scss/app-root.scss';\n\nimport { LoginPromptView } from 'js/views/globals/prelogin/prelogin_views';\n\nconst PATH_ROOT = '/';\nconst PATH_RWELL = '/rw';\nconst PATH_AUTHD = '/authenticated';\nconst PATH_LOGIN = '/login';\nconst PATH_LOGOUT = '/logout';\n\nfunction shouldAuth0() {\n  return !config.createParams;\n}\n\nlet kinde;\nlet token;\n\n// Sets a token when not using auth0;\nfunction setToken(tokenString) {\n  if (shouldAuth0()) return auth0SetToken(tokenString);\n\n  token = tokenString;\n}\n\nfunction getToken() {\n  if (shouldAuth0()) return auth0GetToken();\n\n  if (token) return token;\n  if (!kinde || !navigator.onLine) return;\n\n  return kinde\n    .getToken()\n    .catch(() => {\n      logout();\n    });\n}\n\nfunction logout() {\n  if (shouldAuth0()) return auth0Logout();\n\n  token = null;\n  window.location = '/logout';\n}\n\nRadio.reply('auth', {\n  logout,\n  setToken,\n  getToken,\n});\n\n/*\n * Modifies the current history state\n */\nfunction replaceState(state) {\n  window.history.replaceState({}, document.title, state);\n}\n\nfunction registerKinde(path, connection) {\n  kinde.register({\n    app_state: { path },\n    authUrlParams: { connection_id: connection },\n  });\n}\n\nfunction login(path = PATH_ROOT, connection = config.connections.default) {\n  // iframe buster\n  if (top !== self) {\n    top.location = PATH_LOGIN;\n    return;\n  }\n\n  replaceState(PATH_LOGIN);\n\n  if (appConfig.disableLoginPrompt) {\n    registerKinde(path, connection);\n    return;\n  }\n\n  const loginPromptView = new LoginPromptView();\n\n  loginPromptView.on('click:login', ()=> {\n    registerKinde(path, connection);\n  });\n\n  loginPromptView.render();\n}\n\nfunction shouldAuth() {\n  if (appConfig.cypress) {\n    setToken(appConfig.cypress);\n    return false;\n  }\n\n  if (!navigator.onLine) {\n    return false;\n  }\n\n  return true;\n}\n\nasync function createKinde(success) {\n  const kindeCreateParams = {\n    redirect_uri: location.origin + PATH_AUTHD,\n    logout_uri: location.origin,\n    on_redirect_callback: (user, { path } = {}) => {\n      if (!user) {\n        login(path);\n        return;\n      }\n\n      if (path === PATH_LOGIN) path = PATH_ROOT;\n\n      if (path === PATH_RWELL) {\n        path = PATH_ROOT;\n        localStorage.setItem(PATH_RWELL, 1);\n      }\n\n      replaceState(path);\n\n      success();\n    },\n  };\n\n  return createKindeClient(extend(kindeCreateParams, config.createParams));\n}\n\n/*\n * Requests kinde authorization\n * And authenticates authorization if kinde redirected to PATH_AUTHD\n */\nasync function auth(success) {\n  if (!shouldAuth()) return success();\n\n  if (shouldAuth0()) return auth0(success);\n\n  // NOTE: Set path before await create to avoid redirect replaceState changing the value\n  const pathName = location.pathname;\n\n  kinde = await createKinde(success);\n\n  if (pathName === PATH_AUTHD) return;\n\n  if (pathName === PATH_LOGOUT) {\n    kinde.logout();\n    return;\n  }\n\n  // RWell specific login\n  if (pathName === PATH_RWELL || localStorage.getItem(PATH_RWELL)) {\n    login(PATH_RWELL, config.connections.roundingwell);\n    return;\n  }\n\n  if (!await kinde.getUser()) {\n    login(pathName);\n    return;\n  }\n\n  success();\n}\n\nexport {\n  auth,\n};\n"],"names":["version","SESSION_PREFIX","flagDataTypeMap","storageMap","InvalidTokenError","b64DecodeUnicode","str","m","p","code","base64UrlDecode","output","jwtDecode","token","options","pos","part","decoded","e","base64UrlEncode","numberArray","sha256","plain","data","pkceChallengeFromVerifier","v","hashed","randomString","array","dec","LEEWAY","isJWTActive","jwtToken","unixTime","setupChallenge","authorizationEndpoint","appState","state","code_verifier","code_challenge","url","createStore","items","key","value","store","getClaim","claim","tokenKey","getClaimValue","obj","getFlag","defaultValue","flagType","flags","flag","getBooleanFlag","err","getIntegerFlag","getStringFlag","getUserOrganizations","PAYLOAD_CLAIMS","isTokenValid","config","isCustomDomain","createKindeClient","audience","clientId","domain","is_dangerously_use_local_storage","redirect_uri","logout_uri","on_redirect_callback","scope","proxy_redirect_uri","_framework","_frameworkVersion","client_id","isDevelopment","isUseCookie","isUseLocalStorage","setStore","idToken","idTokenHeader","accessToken","accessTokenHeader","validatorOptions","useRefreshToken","tokenType","refresh_token","getTokenType","tokenToReturn","getToken","getIdToken","isAuthenticated","getPermissions","orgCode","getPermission","getOrganization","handleRedirectToApp","q","error","stringState","codeVerifier","user","getUser","redirectToKinde","app_state","prompt","is_create_org","org_name","org_code","authUrlParams","searchParams","urlSearchParams","aud","register","login","createOrg","getUserProfile","headers","json","logout","init","isKindeRedirect","protocol","host","pathname","currentRedirectUri","t","i","o","n","a","r","c","s","d","u","l","h","f","g","w","y","k","b","_","I","S","O","T","j","C","z","P","x","Z","K","W","E","R","U","L","D","X","N","J","F","H","Y","G","V","M","A","B","$","Q","ee","te","oe","RWELL_KEY","RWELL_CONNECTION","AUTHD_PATH","auth0","setAuth0","auth0Client","setToken","tokenString","replaceState","authenticate","success","forceLogin","getConfig","extend","auth","appConfig","createAuth0Client","federated","Radio","loginWithRedirect","opts","loginPromptView","LoginPromptView","PATH_ROOT","PATH_RWELL","PATH_AUTHD","PATH_LOGIN","PATH_LOGOUT","shouldAuth0","kinde","auth0SetToken","auth0GetToken","auth0Logout","registerKinde","path","connection","shouldAuth","createKinde","kindeCreateParams","pathName"],"mappings":"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","x_google_ignoreList":[0,1]}