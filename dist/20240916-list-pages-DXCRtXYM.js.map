{"version":3,"file":"20240916-list-pages-DXCRtXYM.js","sources":["../src/js/base/subrouterapp.js"],"sourcesContent":["import { extend, result } from 'underscore';\nimport { normalizeMethods } from 'marionette';\n\nimport App from './app';\n\nexport default App.extend({\n  constructor: function() {\n    this._current = null;\n\n    this.initRouter();\n\n    this.on('before:stop', this.stopCurrent);\n\n    App.apply(this, arguments);\n  },\n\n  initRouter() {\n    const eventRoutes = result(this, 'eventRoutes', {});\n    this._eventRoutes = normalizeMethods(this, eventRoutes);\n  },\n\n  // Start a route from a currentRoute passed from a routerapp\n  startRoute({ event, eventArgs }) {\n    const action = this._eventRoutes[event];\n\n    if (!action) return;\n\n    action.apply(this, eventArgs);\n  },\n\n  mixinOptions(options) {\n    const appOptions = result(this, 'currentAppOptions');\n\n    return extend({}, appOptions, options);\n  },\n\n  // handler that ensures one running app per type\n  startCurrent(appName, options) {\n    this.stopCurrent();\n\n    const app = this.startChildApp(appName, this.mixinOptions(options));\n\n    this._current = app;\n\n    return app;\n  },\n\n  getCurrent() {\n    return this._current;\n  },\n\n  stopCurrent() {\n    if (!this._current) return;\n\n    this._current.stop();\n    this._current = null;\n  },\n});\n"],"names":["SubRouterApp","App","eventRoutes","result","normalizeMethods","event","eventArgs","action","options","appOptions","extend","appName","app"],"mappings":"0JAGA,MAAeA,EAAAC,EAAI,OAAO,CACxB,YAAa,UAAY,CACvB,KAAK,SAAW,KAChB,KAAK,WAAU,EACf,KAAK,GAAG,cAAe,KAAK,WAAW,EACvCA,EAAI,MAAM,KAAM,SAAS,CAC1B,EACD,YAAa,CACX,MAAMC,EAAcC,EAAO,KAAM,cAAe,CAAE,CAAA,EAClD,KAAK,aAAeC,EAAiB,KAAMF,CAAW,CACvD,EAED,WAAW,CACT,MAAAG,EACA,UAAAC,CACJ,EAAK,CACD,MAAMC,EAAS,KAAK,aAAaF,CAAK,EACjCE,GACLA,EAAO,MAAM,KAAMD,CAAS,CAC7B,EACD,aAAaE,EAAS,CACpB,MAAMC,EAAaN,EAAO,KAAM,mBAAmB,EACnD,OAAOO,EAAO,CAAA,EAAID,EAAYD,CAAO,CACtC,EAED,aAAaG,EAASH,EAAS,CAC7B,KAAK,YAAW,EAChB,MAAMI,EAAM,KAAK,cAAcD,EAAS,KAAK,aAAaH,CAAO,CAAC,EAClE,YAAK,SAAWI,EACTA,CACR,EACD,YAAa,CACX,OAAO,KAAK,QACb,EACD,aAAc,CACP,KAAK,WACV,KAAK,SAAS,OACd,KAAK,SAAW,KACjB,CACH,CAAC"}