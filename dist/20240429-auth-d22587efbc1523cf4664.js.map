{"version":3,"file":"20240429-auth-d22587efbc1523cf4664.js","mappings":"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","sources":["webpack://care-ops-frontend/./src/js/auth0.js","webpack://care-ops-frontend/./src/js/auth.js","webpack://care-ops-frontend/./src/js/regions/preload_region.js","webpack://care-ops-frontend/./src/js/views/globals/prelogin/prelogin_views.js","webpack://care-ops-frontend/./src/js/views/globals/prelogin/login-prompt.hbs","webpack://care-ops-frontend/./src/js/views/globals/prelogin/not-setup.hbs","webpack://care-ops-frontend/./src/js/views/globals/prelogin/prelogin.hbs"],"sourcesContent":["import { extend } from 'underscore';\nimport Radio from 'backbone.radio';\nimport { createAuth0Client } from '@auth0/auth0-spa-js';\n\nimport { auth0Config as config, appConfig } from './config';\n\nimport 'scss/app-root.scss';\n\nimport { LoginPromptView } from 'js/views/globals/prelogin/prelogin_views';\n\nconst RWELL_KEY = 'rw';\nconst RWELL_CONNECTION = 'google-oauth2';\nconst AUTHD_PATH = '/authenticated';\n\nlet auth0;\n\nfunction setAuth0(auth0Client) {\n  auth0 = auth0Client;\n  return auth0.isAuthenticated();\n}\n\nlet token;\n\n// Sets a token when not using auth0;\nfunction setToken(tokenString) {\n  token = tokenString;\n}\n\nfunction getToken() {\n  if (token) return token;\n  if (!auth0 || !navigator.onLine) return;\n\n  return auth0\n    .getTokenSilently()\n    .catch(() => {\n      logout();\n    });\n}\n\n/*\n * Modifies the current history state\n */\nfunction replaceState(state) {\n  window.history.replaceState({}, document.title, state);\n}\n\n/*\n * authenticate parses the implicit flow hash to determine the token\n * if there is an error it forces a new authorization with a new login\n * If successful, redirects to the initial path and sends the app\n * the token and config org name\n */\nfunction authenticate(success) {\n  return auth0.handleRedirectCallback()\n    .then(({ appState }) => {\n      if (appState === '/login') appState = '/';\n\n      if (appState === RWELL_KEY) {\n        appState = '/';\n        localStorage.setItem(RWELL_KEY, 1);\n      }\n\n      replaceState(appState);\n      success();\n    })\n    .catch(() => {\n      forceLogin();\n    });\n}\n\n/*\n *  Take appconfig.auth0 and extend it with the default config\n */\nfunction getConfig() {\n  config.authorizationParams = extend({\n    redirect_uri: location.origin + AUTHD_PATH,\n    audience: 'care-ops-backend',\n  }, config.authorizationParams);\n\n  if (localStorage.getItem(RWELL_KEY)) {\n    config.authorizationParams.connection = RWELL_CONNECTION;\n  }\n\n  return config;\n}\n\n/*\n * login will occur for any pre-auth flow\n * initially requesting auth0 authorization\n * And authenticating authorization if auth0 redirected to AUTHD_PATH\n */\nfunction auth(success) {\n  if (appConfig.cypress) {\n    setToken(appConfig.cypress);\n    success();\n    return;\n  }\n\n  if (!navigator.onLine) {\n    success();\n    return;\n  }\n\n  createAuth0Client(getConfig())\n    .then(setAuth0)\n    .then(isAuthenticated => {\n      if (location.pathname === '/logout') {\n        const federated = Radio.request('bootstrap', 'setting', 'federated_logout');\n        auth0.logout({ logoutParams: { returnTo: location.origin, federated } });\n        return;\n      }\n\n      // RWell specific login\n      if (location.pathname === `/${ RWELL_KEY }`) {\n        loginWithRedirect({\n          appState: RWELL_KEY,\n          authorizationParams: {\n            connection: RWELL_CONNECTION,\n          },\n        });\n        return;\n      }\n\n      if (location.pathname === AUTHD_PATH) {\n        authenticate(success);\n        return;\n      }\n\n      if (!isAuthenticated) {\n        forceLogin(location.pathname);\n        return;\n      }\n\n      if (location.pathname === '/login') {\n        replaceState('/');\n      }\n\n      success();\n    });\n}\n\nfunction logout() {\n  token = null;\n  window.location = '/logout';\n}\n\nfunction loginWithRedirect(opts) {\n  auth0.loginWithRedirect(extend({ prompt: 'login' }, opts));\n}\n\nfunction forceLogin(appState = '/') {\n  // iframe buster\n  if (top !== self) {\n    top.location = '/login';\n    return;\n  }\n\n  const connection = String(config.authorizationParams.connection);\n\n  if (connection === 'Username-Password-Authentication' || connection.includes('-userpass')) {\n    return loginWithRedirect({ appState });\n  }\n\n  replaceState('/login');\n\n  const loginPromptView = new LoginPromptView();\n\n  loginPromptView.on('click:login', ()=> {\n    loginWithRedirect({ appState });\n  });\n\n  loginPromptView.render();\n}\n\nexport {\n  auth,\n  logout,\n  setToken,\n  getToken,\n};\n","import { extend } from 'underscore';\nimport Radio from 'backbone.radio';\nimport createKindeClient from '@kinde-oss/kinde-auth-pkce-js';\n\nimport { kindeConfig as config, appConfig } from './config';\n\nimport { auth as auth0, logout as auth0Logout, setToken as auth0SetToken, getToken as auth0GetToken } from './auth0';\n\nimport 'scss/app-root.scss';\n\nimport { LoginPromptView } from 'js/views/globals/prelogin/prelogin_views';\n\nconst PATH_ROOT = '/';\nconst PATH_RWELL = '/rw';\nconst PATH_AUTHD = '/authenticated';\nconst PATH_LOGIN = '/login';\nconst PATH_LOGOUT = '/logout';\n\nfunction shouldAuth0() {\n  return !config.kindeConfig;\n}\n\nlet kinde;\nlet token;\n\n// Sets a token when not using auth0;\nfunction setToken(tokenString) {\n  if (shouldAuth0()) return auth0SetToken(tokenString);\n\n  token = tokenString;\n}\n\nfunction getToken() {\n  if (shouldAuth0()) return auth0GetToken();\n\n  if (token) return token;\n  if (!kinde || !navigator.onLine) return;\n\n  return kinde\n    .getToken()\n    .catch(() => {\n      logout();\n    });\n}\n\nfunction logout() {\n  if (shouldAuth0()) return auth0Logout();\n\n  token = null;\n  window.location = '/logout';\n}\n\nRadio.reply('auth', {\n  logout,\n  setToken,\n  getToken,\n});\n\n/*\n * Modifies the current history state\n */\nfunction replaceState(state) {\n  window.history.replaceState({}, document.title, state);\n}\n\nfunction login(path = PATH_ROOT, connection = config.connections.default) {\n  // iframe buster\n  if (top !== self) {\n    top.location = PATH_LOGIN;\n    return;\n  }\n\n  replaceState(PATH_LOGIN);\n\n  const loginPromptView = new LoginPromptView();\n\n  loginPromptView.on('click:login', ()=> {\n    kinde.register({\n      app_state: { path },\n      authUrlParams: { connection_id: connection },\n    });\n  });\n\n  loginPromptView.render();\n}\n\nfunction shouldAuth() {\n  if (appConfig.cypress) {\n    setToken(appConfig.cypress);\n    return false;\n  }\n\n  if (!navigator.onLine) {\n    return false;\n  }\n\n  return true;\n}\n\nasync function createKinde(success) {\n  const kindeCreateParams = {\n    redirect_uri: location.origin + PATH_AUTHD,\n    logout_uri: location.origin,\n    on_redirect_callback: (user, { path } = {}) => {\n      if (!user) {\n        login(path);\n        return;\n      }\n\n      if (path === PATH_LOGIN) path = PATH_ROOT;\n\n      if (path === PATH_RWELL) {\n        path = PATH_ROOT;\n        localStorage.setItem(PATH_RWELL, 1);\n      }\n\n      replaceState(path);\n\n      success();\n    },\n  };\n\n  return createKindeClient(extend(kindeCreateParams, config.createParams));\n}\n\n/*\n * Requests kinde authorization\n * And authenticates authorization if kinde redirected to PATH_AUTHD\n */\nasync function auth(success) {\n  if (!shouldAuth()) return success();\n\n  if (shouldAuth0()) return auth0(success);\n\n  // NOTE: Set path before await create to avoid redirect replaceState changing the value\n  const pathName = location.pathname;\n\n  kinde = await createKinde(success);\n\n  if (pathName === PATH_AUTHD) return;\n\n  if (pathName === PATH_LOGOUT) {\n    kinde.logout();\n    return;\n  }\n\n  // RWell specific login\n  if (pathName === PATH_RWELL || localStorage.getItem(PATH_RWELL)) {\n    login(PATH_RWELL, config.connections.roundingwell);\n    return;\n  }\n\n  if (!await kinde.getUser()) {\n    login(pathName);\n    return;\n  }\n\n  success();\n}\n\nexport {\n  auth,\n};\n","import anime from 'animejs';\n\nimport hbs from 'handlebars-inline-precompile';\n\nimport { Region, View } from 'marionette';\n\nimport 'scss/modules/loader.scss';\n\nconst LoadingTemplate = hbs`\n  <div class=\"loader__bar js-progress-bar\">\n    <div class=\"loader__bar-progress--loop\"></div>\n  </div>\n  <div class=\"loader__text js-loading\">{{ @intl.regions.preload.loading }}</div>\n`;\n\nconst LoadingView = View.extend({\n  className: 'loader',\n  template: LoadingTemplate,\n  ui: {\n    progressBar: '.js-progress-bar',\n    loading: '.js-loading',\n  },\n  onRender() {\n    const timeout = this.getOption('timeout');\n\n    if (!timeout) {\n      this.showLoader(0, 300);\n      return;\n    }\n\n    this.showLoader(timeout / 2, timeout / 2 + 200);\n  },\n  showLoader(delay, duration) {\n    const anim = anime.timeline({\n      easing: 'easeInQuad',\n      delay,\n    });\n\n    anim\n      .add({\n        opacity: [0, 1],\n        targets: this.ui.progressBar[0],\n        duration,\n      })\n      .add({\n        opacity: [0, 1],\n        targets: this.ui.loading[0],\n        duration: duration - 100,\n      }, 100);\n  },\n});\n\nexport default Region.extend({\n  timeout: 500,\n  startPreloader() {\n    this.show(new LoadingView({ timeout: this.getOption('timeout') }));\n  },\n});\n","import { View } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport 'scss/modules/fill-window.scss';\n\nimport PreloginTemplate from './prelogin.hbs';\nimport LoginPromptTemplate from './login-prompt.hbs';\nimport NotSetupTemplate from './not-setup.hbs';\n\nimport './prelogin.scss';\n\nconst LoginView = View.extend({\n  triggers: {\n    'click .js-login': 'click:login',\n  },\n  template: LoginPromptTemplate,\n  templateContext: {\n    url: location.host,\n  },\n});\n\nconst LoginPromptView = View.extend({\n  el: '#root',\n  /* istanbul ignore next: unable to test auth views in cypress */\n  onRender() {\n    this.showChildView('content', new LoginView());\n  },\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n  template: PreloginTemplate,\n  childViewTriggers: {\n    'click:login': 'click:login',\n  },\n});\n\nconst NotSetupView = View.extend({\n  className: 'prelogin__message',\n  template: NotSetupTemplate,\n});\n\nconst PreloaderView = View.extend({\n  className: 'fill-window',\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n  template: PreloginTemplate,\n  onRender() {\n    if (this.getOption('notSetup')) {\n      this.showChildView('content', new NotSetupView());\n      return;\n    }\n\n    this.getRegion('content').startPreloader();\n  },\n});\n\nexport {\n  PreloaderView,\n  LoginPromptView,\n};\n","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h1 class=\\\"prelogin__header\\\">Sign in to your organization</h1>\\n\\n<h2 class=\\\"prelogin__host\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"url\") || (depth0 != null ? lookupProperty(depth0,\"url\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"url\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":27},\"end\":{\"line\":3,\"column\":36}}}) : helper)))\n    + \"</h2>\\n\\n<button class=\\\"prelogin__continue-button button--green js-login\\\">\\n  Continue to sign in\\n  <svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" data-prefix=\\\"fas\\\" data-icon=\\\"right-to-bracket\\\" role=\\\"img\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 512 512\\\" class=\\\"svg-inline--fa fa-right-to-bracket\\\">\\n    <path fill=\\\"currentColor\\\" d=\\\"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z\\\"></path>\\n  </svg>\\n</button>\\n\\n<p class=\\\"prelogin__contact-info\\\">Having trouble signing in? <a href=\\\"https://roundingwell.com/contact/\\\">Contact Us</a></p>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"prelogin__message-header\\\">\\n  \"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"circle-exclamation\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":2,\"column\":30}}}))\n    + \"\\n</div>\\n<div>\\nHold up, your account is not\\nset up yet. Please notify your manager\\nor administrator to correct this issue.\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"prelogin\\\">\\n  <div class=\\\"prelogin__roundingwell-logo\\\">\\n    <svg class=\\\"svg roundingwell-logo\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"174\\\" height=\\\"30\\\" viewBox=\\\"0 0 185 32\\\">\\n      <g></g>\\n      <path d=\\\"M40.975 11.456c-1.339 0.082-2.624 0.683-3.499 1.995v8.501c0 0.547-0.465 1.011-1.039 1.011h-0.027c-0.547-0.027-0.984-0.465-0.984-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v1.312c0.793-1.039 2.105-2.351 3.635-2.351 0.492 0 0.929 0.41 0.929 0.957 0 0.602-0.465 1.093-1.066 1.121z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M49.53 23.128c-4.018 0-6.533-3.116-6.533-6.943 0-3.827 2.515-6.916 6.533-6.916s6.533 3.089 6.533 6.916c0 3.826-2.514 6.943-6.533 6.943zM49.53 11.101c-2.815 0-4.401 2.406-4.401 5.084 0 2.706 1.585 5.111 4.401 5.111 2.815 0 4.373-2.406 4.373-5.111 0-2.679-1.558-5.084-4.373-5.084z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M68.636 22.964c-0.547 0-1.011-0.465-1.011-1.011v-1.011c-1.011 1.148-2.733 2.187-4.701 2.187-2.761 0-4.209-1.34-4.209-4.21v-8.501c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v7.872c0 2.323 1.175 3.007 2.952 3.007 1.613 0 3.143-0.929 3.909-1.995v-8.883c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v11.535c0 0.546-0.465 1.011-1.039 1.011z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M83.013 22.964c-0.547 0-1.011-0.465-1.011-1.011v-7.79c0-2.323-1.175-3.062-2.952-3.062-1.613 0-3.143 0.984-3.909 2.050v8.801c0 0.547-0.465 1.011-1.039 1.011-0.547 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v1.093c0.929-1.093 2.733-2.242 4.701-2.242 2.761 0 4.21 1.394 4.21 4.264v8.419c-0 0.547-0.465 1.012-1.039 1.012z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M98.046 22.964c-0.547 0-1.011-0.465-1.011-1.011v-1.121c-0.984 1.34-2.597 2.296-4.455 2.296-3.444 0-5.877-2.624-5.877-6.915 0-4.21 2.405-6.943 5.877-6.943 1.777 0 3.389 0.875 4.455 2.324v-6.205c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v16.564c0 0.547-0.464 1.012-1.038 1.012zM97.035 13.233c-0.738-1.148-2.324-2.132-3.964-2.132-2.651 0-4.237 2.187-4.237 5.112 0 2.924 1.585 5.084 4.237 5.084 1.64 0 3.226-0.929 3.964-2.077v-5.986z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M103.512 22.964c-0.546 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v11.535c0 0.547-0.465 1.012-1.039 1.012z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M117.89 22.964c-0.547 0-1.012-0.465-1.012-1.011v-7.79c0-2.323-1.175-3.062-2.952-3.062-1.613 0-3.143 0.984-3.909 2.050v8.801c0 0.547-0.464 1.011-1.038 1.011-0.547 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.464-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v1.093c0.93-1.093 2.734-2.242 4.702-2.242 2.76 0 4.209 1.394 4.209 4.264v8.419c0 0.547-0.464 1.012-1.038 1.012z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M127.647 28.157c-1.941 0-3.499-0.355-4.947-1.585-0.191-0.164-0.301-0.41-0.301-0.684 0-0.465 0.41-0.875 0.902-0.875 0.218 0 0.41 0.055 0.574 0.191 1.039 0.929 2.214 1.257 3.772 1.257 2.187 0 4.237-1.066 4.237-3.964v-1.886c-0.957 1.34-2.57 2.351-4.428 2.351-3.444 0-5.876-2.569-5.876-6.833 0-4.237 2.405-6.861 5.876-6.861 1.777 0 3.362 0.875 4.428 2.324v-1.175c0-0.519 0.464-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v11.999c0 4.373-3.061 5.74-6.286 5.74zM131.884 13.233c-0.711-1.148-2.296-2.132-3.936-2.132-2.652 0-4.237 2.105-4.237 5.030 0 2.897 1.585 5.029 4.237 5.029 1.64 0 3.225-1.011 3.936-2.16v-5.767z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M155.309 11.237l-3.198 10.332c-0.246 0.82-1.039 1.394-1.886 1.394h-0.055c-0.875 0-1.64-0.574-1.886-1.394l-2.652-8.391-2.651 8.391c-0.246 0.82-1.039 1.394-1.913 1.394h-0.055c-0.848 0-1.613-0.574-1.859-1.394l-3.225-10.332c-0.027-0.137-0.055-0.273-0.055-0.41 0-0.684 0.574-1.394 1.449-1.394 0.629 0 1.23 0.41 1.394 1.011l2.515 8.665 2.788-8.528c0.219-0.683 0.848-1.148 1.64-1.148 0.711 0 1.34 0.465 1.585 1.148l2.788 8.528 2.514-8.665c0.164-0.601 0.766-1.011 1.395-1.011 0.847 0 1.449 0.656 1.449 1.394-0.001 0.137-0.028 0.273-0.083 0.41z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M168.073 17.141h-8.692c0.191 1.968 1.695 3.635 4.155 3.635 0.956 0 2.049-0.3 2.952-0.875 0.191-0.109 0.41-0.164 0.601-0.164 0.602 0 1.23 0.492 1.23 1.202 0 1.503-3.389 2.187-5.084 2.187-3.964 0-6.915-2.761-6.915-6.943 0-3.827 2.788-6.916 6.697-6.916 3.089 0 5.33 1.859 6.15 4.701 0.164 0.547 0.328 1.175 0.328 1.749 0 0.765-0.629 1.421-1.421 1.421zM163.017 11.62c-2.406 0-3.526 1.913-3.663 3.499h7.326c-0.055-1.53-1.094-3.499-3.663-3.499z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M173.129 22.964c-0.82 0-1.449-0.656-1.449-1.449v-15.689c0-0.765 0.629-1.421 1.503-1.421 0.766 0 1.422 0.656 1.422 1.421v15.689c-0 0.793-0.656 1.449-1.477 1.449z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M179.060 22.964c-0.82 0-1.449-0.656-1.449-1.449v-15.689c0-0.765 0.629-1.421 1.503-1.421 0.766 0 1.422 0.656 1.422 1.421v15.689c-0 0.793-0.656 1.449-1.477 1.449z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M28.781 14.834c-0.117-1.519-0.498-3.012-1.117-4.385-0.618-1.374-1.471-2.627-2.501-3.694-1.030-1.068-2.235-1.949-3.546-2.598-1.311-0.651-2.727-1.067-4.16-1.23-1.432-0.164-2.878-0.081-4.264 0.24-1.385 0.321-2.702 0.883-3.877 1.644-1.175 0.761-2.208 1.719-3.046 2.814-0.838 1.094-1.481 2.325-1.893 3.618-0.414 1.293-0.596 2.648-0.55 3.983l0.263 0.003c0.076-1.305 0.375-2.585 0.879-3.768 0.503-1.183 1.208-2.268 2.067-3.196 0.858-0.929 1.87-1.701 2.971-2.277 1.102-0.576 2.294-0.955 3.505-1.118 1.209-0.164 2.442-0.116 3.617 0.132 1.176 0.247 2.296 0.697 3.299 1.318 1.004 0.62 1.89 1.411 2.614 2.318 0.724 0.907 1.283 1.93 1.649 3.006 0.367 1.076 0.54 2.204 0.521 3.323-0.020 1.122-0.23 2.224-0.617 3.247-0.386 1.024-0.949 1.969-1.648 2.787-0.699 0.818-1.534 1.507-2.449 2.031-0.915 0.525-1.91 0.883-2.925 1.061-1.014 0.178-2.057 0.177-3.060 0.007-1.001-0.169-1.954-0.509-2.815-0.996-0.295-0.167-0.578-0.352-0.85-0.551l4.686-7.132-0.102-0.083-10.27 10.316 0.106 0.099c0.083 0.076 0.156 0.142 0.236 0.211 0.157 0.137 0.318 0.271 0.48 0.401 0.326 0.261 0.662 0.506 1.008 0.737 0.201 0.134 0.405 0.263 0.613 0.386 0.506 0.302 1.029 0.573 1.566 0.81 1.513 0.669 3.135 1.066 4.76 1.18 0.813 0.057 1.622 0.045 2.428-0.035 0.805-0.080 1.603-0.229 2.379-0.445 1.554-0.431 3.020-1.132 4.315-2.052 1.296-0.918 2.423-2.054 3.321-3.338 0.9-1.283 1.572-2.715 1.978-4.21 0.408-1.495 0.548-3.048 0.429-4.565z\\\" fill=\\\"#ffffff\\\" />\\n    </svg>\\n  </div>\\n  <div class=\\\"prelogin__content\\\" data-content-region></div>\\n</div>\\n\";\n},\"useData\":true});"],"names":["RWELL_KEY","RWELL_CONNECTION","AUTHD_PATH","auth0","token","setAuth0","auth0Client","isAuthenticated","setToken","tokenString","replaceState","state","window","history","document","title","logout","location","loginWithRedirect","opts","extend","prompt","forceLogin","appState","top","self","connection","String","config","authorizationParams","includes","loginPromptView","LoginPromptView","on","render","PATH_ROOT","PATH_RWELL","PATH_AUTHD","PATH_LOGIN","PATH_LOGOUT","shouldAuth0","kindeConfig","kinde","auth0SetToken","auth0Logout","login","path","connections","default","register","app_state","authUrlParams","connection_id","async","auth","success","appConfig","cypress","navigator","onLine","createAuth0Client","redirect_uri","origin","audience","localStorage","getItem","then","pathname","handleRedirectCallback","setItem","catch","authenticate","federated","Radio","logoutParams","returnTo","pathName","kindeCreateParams","logout_uri","on_redirect_callback","user","createKindeClient","createParams","createKinde","roundingwell","getUser","getToken","getTokenSilently","LoadingTemplate","_Handlebars2","container","depth0","helpers","partials","data","stack1","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","LoadingView","View","className","template","ui","progressBar","loading","onRender","timeout","this","getOption","showLoader","delay","duration","anime","timeline","easing","add","opacity","targets","Region","startPreloader","show","LoginView","triggers","LoginPromptTemplate","templateContext","url","host","el","showChildView","regions","content","regionClass","PreloadRegion","PreloginTemplate","childViewTriggers","NotSetupView","NotSetupTemplate","PreloaderView","getRegion","Handlebars","module","exports","helper","hooks","helperMissing","nullContext"],"sourceRoot":""}