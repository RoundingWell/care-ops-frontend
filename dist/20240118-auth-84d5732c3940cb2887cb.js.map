{"version":3,"file":"20240118-auth-84d5732c3940cb2887cb.js","mappings":"6LAAO,MAAMA,UAA0BC,OAiChC,SAASC,EAAUC,EAAOC,GAC7B,GAAqB,iBAAVD,EACP,MAAM,IAAIH,EAAkB,6CAEhCI,IAAYA,EAAU,CAAC,GACvB,MAAMC,GAAyB,IAAnBD,EAAQE,OAAkB,EAAI,EACpCC,EAAOJ,EAAMK,MAAM,KAAKH,GAC9B,GAAoB,iBAATE,EACP,MAAM,IAAIP,EAAkB,0CAA0CK,EAAM,KAEhF,IAAII,EACJ,IACIA,EAjCR,SAAyBC,GACrB,IAAIC,EAASD,EAAIE,QAAQ,KAAM,KAAKA,QAAQ,KAAM,KAClD,OAAQD,EAAOE,OAAS,GACpB,KAAK,EACD,MACJ,KAAK,EACDF,GAAU,KACV,MACJ,KAAK,EACDA,GAAU,IACV,MACJ,QACI,MAAM,IAAIV,MAAM,8CAExB,IACI,OAxBR,SAA0BS,GACtB,OAAOI,mBAAmBC,KAAKL,GAAKE,QAAQ,QAAQ,CAACI,EAAGC,KACpD,IAAIC,EAAOD,EAAEE,WAAW,GAAGC,SAAS,IAAIC,cAIxC,OAHIH,EAAKL,OAAS,IACdK,EAAO,IAAMA,GAEV,IAAMA,CAAI,IAEzB,CAgBeI,CAAiBX,EAC5B,CACA,MAAOY,GACH,OAAOR,KAAKJ,EAChB,CACJ,CAakBa,CAAgBjB,EAC9B,CACA,MAAOkB,GACH,MAAM,IAAIzB,EAAkB,qDAAqDK,EAAM,MAAMoB,EAAEC,WACnG,CACA,IACI,OAAOC,KAAKC,MAAMnB,EACtB,CACA,MAAOgB,GACH,MAAM,IAAIzB,EAAkB,mDAAmDK,EAAM,MAAMoB,EAAEC,WACjG,CACJ,CAtDA1B,EAAkB6B,UAAUC,KAAO,oBCCnC,MAAMC,EAAU,SAEVC,EAAiB,qBACvB,IAAIC,EAkCJ,SAASC,IACL,MAAMC,EAAQ,IAAIC,YAAY,IAE9B,OADAC,OAAOC,OAAOC,gBAAgBJ,GACvBK,MAAMC,KAAKN,GAAQO,IAAS,IAAMA,EAAItB,SAAS,KAAKuB,QAAQ,KAAIC,KAAK,GAChF,EArCA,SAAWX,GACPA,EAAmB,EAAI,SACvBA,EAAmB,EAAI,UACvBA,EAAmB,EAAI,SAC1B,CAJD,CAIGA,IAAoBA,EAAkB,CAAC,IAmC1C,MAAMY,EAAcC,IAChB,MAAMC,EAAWC,KAAKC,MAAMC,KAAKC,MAAQ,KACzC,OAAOL,EAASM,IAAML,CAAQ,EAsC5BM,EArBc,MAChB,IAAIC,EAAQ,CAAC,EAab,MAAO,CACHC,MAJU,KACVD,EAAQ,CAAC,CAAC,EAIVE,QAdaC,GACNH,EAAMG,GAcbC,WATgBD,WACTH,EAAMG,EAAI,EASjBE,QAbY,CAACF,EAAKG,KAClBN,EAAMG,GAAOG,CAAK,EAarB,EAESC,GAERC,EAAW,CAACC,EAAOC,EAAW,kBAChC,MAAM7D,EAAQkD,EAAMG,QAAQ,SAASQ,KACrC,OAAO7D,EAAQ,CAAE2B,KAAMiC,EAAOH,MAAOzD,EAAM4D,IAAW,IAAI,EAGxDE,EAAgB,CAACF,EAAOC,EAAW,kBACrC,MAAME,EAAMJ,EAASC,EAAOC,GAC5B,OAAOE,GAAOA,EAAIN,KAAK,EAGrBO,EAAU,CAACjD,EAAMkD,EAAcC,KACjC,MAAMC,EAAQL,EAAc,iBACtBM,EAAQD,GAASA,EAAMpD,GAAQoD,EAAMpD,GAAQ,CAAC,EACpD,GAAc,MAAVqD,EAAKC,GAA6B,MAAhBJ,EAClB,MAAMnE,MAAM,QAAQiB,2DAExB,GAAImD,GAAYE,EAAKE,GAAKJ,IAAaE,EAAKE,EACxC,MAAMxE,MAAM,QAAQiB,gBAAmBe,EAAgBsC,EAAKE,uBAAuBxC,EAAgBoC,MAEvG,MAAO,CACHnD,OACAwD,KAAMzC,EAAgBsC,EAAKE,GAAKJ,GAChCT,MAAkB,MAAVW,EAAKC,EAAYJ,EAAeG,EAAKC,EAC7CG,WAAsB,MAAVJ,EAAKC,EACpB,EAGCI,EAAiB,CAAC1D,EAAMkD,KAC1B,IAEI,OADaD,EAAQjD,EAAMkD,EAAc,KAC7BR,KAChB,CACA,MAAOrC,GAEH,OADAsD,QAAQC,MAAMvD,GACPA,CACX,GAGEwD,EAAiB,CAAC7D,EAAMkD,KAC1B,IAEI,OADaD,EAAQjD,EAAMkD,EAAc,KAC7BR,KAChB,CACA,MAAOrC,GAEH,OADAsD,QAAQC,MAAMvD,GACPA,CACX,GAGEyD,EAAgB,CAAC9D,EAAMkD,KACzB,IAEI,OADaD,EAAQjD,EAAMkD,EAAc,KAC7BR,KAChB,CACA,MAAOrC,GAEH,OADAsD,QAAQC,MAAMvD,GACPA,CACX,GAGE0D,EAAuB,KAElB,CACHC,SAFcjB,EAAc,YAAa,aAAe,KAM1DkB,EAAoBC,MAAOhF,IAC7B,IAAKA,EACD,MAAMH,MAAM,yCAEhB,GAAIG,IAAYiF,OAAOjF,GACnB,MAAMH,MAAM,kDAEhB,MAAM,SAAEqF,EAAUC,UAAWC,EAAQ,OAAEC,EAAM,iCAAEC,GAAmC,EAAK,aAAEC,EAAY,WAAEC,EAAaD,EAAY,qBAAEE,EAAoB,MAAEC,EAAQ,+BAA8B,mBAAEC,EAAkB,WAAEC,EAAU,kBAAEC,GAAsB7F,EACtP,GAAIkF,GAAgC,iBAAbA,EACnB,MAAMrF,MAAM,+CAEhB,GAAI6F,GAA0B,iBAAVA,EAChB,MAAM7F,MAAM,+BAEhB,IAAK0F,GAAgD,iBAAzBvF,EAAQuF,aAChC,MAAM1F,MAAM,sGAEhB,IAAKwF,GAA4B,iBAAXA,EAClB,MAAMxF,MAAM,wEAEhB,GAAgD,kBAArCyF,EACP,MAAMQ,UAAU,sEAEpB,MAAMX,EAAYC,GAAY,WAExBW,GAAiBT,IAAqCD,EAAOW,SAAS,cACtEC,EAAS,CACXf,WACAC,YACAI,eACAW,uBAAwB,GAAGb,gBAC3Bc,eAAgB,GAAGd,iBACnBe,iBAAkBV,EAClBL,SACAO,aACAC,qBAEEQ,EAAYC,IACd,IAAKA,GAAQA,EAAK5B,MACd,OACJ,MAAM6B,EAAczG,EAAUwG,EAAKE,cAC7BC,EAAU3G,EAAUwG,EAAKI,UAC/BzD,EAAMM,QAAQ,cAAe+C,GAC7BrD,EAAMM,QAAQ,qBAAsBgD,GACpCtD,EAAMM,QAAQ,iBAAkBkD,GAChCxD,EAAMM,QAAQ,OAAQ,CAClBoD,GAAIF,EAAQG,IACZC,WAAYJ,EAAQI,WACpBC,YAAaL,EAAQK,YACrBC,MAAON,EAAQM,MACfC,QAASP,EAAQO,UAEjB1B,EACA2B,aAAa1D,QAAQ,sBAAuB+C,EAAKY,eAGjDjE,EAAMM,QAAQ,sBAAuB+C,EAAKY,cAC9C,EAEEC,EAAkBnC,UACpB,MAAMkC,EAAgB5B,EAChB2B,aAAa7D,QAAQ,uBACrBH,EAAMG,QAAQ,uBACpB,GAAI8D,GAAiBnB,EACjB,IACI,MAAMqB,QAAiBC,MAAMpB,EAAOE,eAAgB,CAChDmB,OAAQ,UACJvB,GAAiB,CAAEwB,YAAa,WACpCC,QAAS,IAAIC,QAAQ,CACjB,eAAgB,mDAChB,YAAa,iBACvBxB,EAAOL,YAAc,gBAAgBK,EAAOJ,mBAAqBlE,MAE3D+F,KAAM,IAAIC,gBAAgB,CACtBxC,UAAWc,EAAOd,UAClByC,WAAY,oBACP7B,GAAiBmB,GAAiB,CAAEA,qBAG3CZ,QAAac,EAASS,OAE5B,OADAxB,EAASC,GACFA,EAAKE,YAChB,CACA,MAAOrF,GACHsD,QAAQC,MAAMvD,EAClB,CACJ,EAEE2G,EAAW9C,UACb,MAAMjF,EAAQkD,EAAMG,QAAQ,eAC5B,IAAKrD,EACD,aAAaoH,IAEjB,MAAMZ,EAActD,EAAMG,QAAQ,sBAElC,OADqBX,EAAW8D,GAErBxG,EAAMyG,mBAGAW,GACjB,EAqFEY,EAAkB/C,MAAOhF,IAC3B,MAAM,UAAEgI,EAAS,WAAEC,EAAU,cAAEC,EAAa,SAAEC,EAAW,GAAE,SAAEC,EAAQ,cAAEC,EAAgB,CAAC,GAAMrI,GACxF,MAAEsI,EAAK,eAAEC,EAAc,IAAEC,QAnShBxD,OAAOyD,EAAuBC,KACjD,MAAMJ,EAAQxG,IACR6G,EAAgB7G,IAEhByG,QApBVvD,eAAyCZ,GAErC,OAvBJ,SAAyB9D,GAKrB,MAAMsI,EAAcxG,MAAMC,KAAK,IAAIwG,WAAWvI,IAC9C,OAAOwI,KAAKC,OAAOC,aAAaC,MAAM,KAAML,IACvCpI,QAAQ,MAAO,KACfA,QAAQ,MAAO,KACfA,QAAQ,MAAO,GACxB,CAaW0I,OATX,SAAgBC,GACZ,MACM7C,GADU,IAAI8C,aACCC,OAAOF,GAC5B,OAAOlH,OAAOC,OAAOoH,OAAOC,OAAO,UAAWjD,EAClD,CAIyBkD,CAAOpF,GAEhC,CAiBiCqF,CAA0Bd,GAOvD,OANAe,eAAenG,QAAQ,GAAG3B,KAAkB0G,IAAS/G,KAAKoI,UAAU,CAChEC,aAAcjB,EACdD,cAIG,CAAEJ,QAAOC,iBAAgBC,IADpB,IAAIqB,IAAIpB,GACiB,EAwRYqB,CAAe7D,EAAOC,uBAAwB8B,GACrF+B,EAAe,CACjBxE,eACAJ,YACA6E,cAAe,OACftE,MAAOO,EAAOG,iBACdmC,iBACA0B,sBAAuB,OACvB3B,SAEAL,IACA8B,EAAa9B,WAAaA,GAE1B/C,IACA6E,EAAa7E,SAAWA,GAExBkD,IACA2B,EAAa3B,SAAWA,GAExBF,IACA6B,EAAa7B,cAAgBa,OAAOb,GACpC6B,EAAa5B,SAAWA,GAE5BK,EAAI0B,OAASnB,OAAO,IAAIpB,gBAAgB1C,OAAOkF,OAAO9B,EAAe0B,KACrE9H,OAAOmI,SAASC,KAAO7B,EAAIxH,UAAU,EAoBnCsJ,EAAU,IACLrH,EAAMG,QAAQ,QAqEzB,YAzBa4B,WACT,MAAMuF,EAAI,IAAI5C,gBAAgB1F,OAAOmI,SAASF,QAY1B,CAACH,IAGrB,IADqBA,EAAaS,IAAI,QAElC,OAAO,EAEX,MAAM,SAAEC,EAAQ,KAAEC,EAAI,SAAEC,GAAa1I,OAAOmI,SACtCQ,EAAqBjF,GAAsB,GAAG8E,MAAaC,IAAOC,IACxE,OAAQC,IAAuBrF,GAC3BqF,IAAuB,GAAGrF,IAAgB,EAnB1CsF,CAAgBN,QA/IIvF,OAAOuF,IAC/B,MAAMzJ,EAAOyJ,EAAEO,IAAI,QACbxC,EAAQiC,EAAEO,IAAI,SACdpG,EAAQ6F,EAAEO,IAAI,SAChBpG,GACAD,QAAQC,MAAM,6CAA6CA,KAE/D,MAAMqG,EAAcrB,eAAetG,QAAQ,GAAGxB,KAAkB0G,KAEhE,GAAKyC,EAGA,CACD,MAAM,SAAErC,EAAQ,aAAEkB,GAAiBrI,KAAKC,MAAMuJ,GAE9C,IACI,MAAM3D,QAAiBC,MAAMpB,EAAOE,eAAgB,CAChDmB,OAAQ,UACJvB,GAAiB,CAAEwB,YAAa,WACpCC,QAAS,IAAIC,QAAQ,CACjB,eAAgB,mDAChB,YAAa,GAAGxB,EAAOL,YAAc,gBAAgBK,EAAOJ,mBAAqBlE,MAErF+F,KAAM,IAAIC,gBAAgB,CACtBxC,UAAWc,EAAOd,UAClBrE,OACA6H,cAAeiB,EACfhC,WAAY,qBACZrC,aAAcU,EAAOV,iBAGvBe,QAAac,EAASS,OAC5BxB,EAASC,GAET,MAAMkC,EAAM,IAAIqB,IAAI5H,OAAOmI,SAASpJ,YACpCwH,EAAI0B,OAAS,GACbR,eAAepG,WAAW,GAAG1B,KAAkB0G,KAC/C,MAAM0C,EAAOV,IACbrI,OAAOgJ,QAAQC,UAAU,CAAC,EAAG,GAAI1C,GAC7B/C,GACAA,EAAqBuF,EAAMtC,EAEnC,CACA,MAAOvH,GACHsD,QAAQC,MAAMvD,GACduI,eAAepG,WAAW,GAAG1B,KAAkB0G,IACnD,CACJ,MArCI7D,QAAQC,MAAM,gBAqClB,EAiGUyG,CAAoBZ,IAItBxE,GAAiBT,UACX6B,GAEd,EAaEiE,GACC,CACHtD,WACAwC,UACAe,eAtEmBrG,UACnB,MACMwC,EAAU,CACZ8D,OAAQ,mBACRC,cAAe,gBAHCzD,OAKpB,IACI,MAAM0D,QAAYnE,MAAM,GAAGpB,EAAOZ,gCAAiC,CAC/DiC,OAAQ,MACRE,QAASA,IAEPK,QAAa2D,EAAI3D,OAQvB,OAPA5E,EAAMM,QAAQ,OAAQ,CAClBoD,GAAIkB,EAAKjB,IACTC,WAAYgB,EAAKhB,WACjBC,YAAae,EAAKf,YAClBC,MAAOc,EAAKd,MACZC,QAASa,EAAKb,UAEX/D,EAAMG,QAAQ,OACzB,CACA,MAAOjC,GACHsD,QAAQC,MAAMvD,EAClB,GAgDAsK,MAtFUzG,MAAOhF,UACX+H,EAAgB,IACf/H,GACL,EAoFF0L,OA/CW1G,UACX,MAAMwD,EAAM,IAAIqB,IAAI,GAAG5D,EAAOZ,iBAC9B,IACIpC,EAAME,QACFmC,GACA2B,aAAa3D,WAAW,uBAE5B,MAAMyG,EAAe,IAAIpC,gBAAgB,CACrCgE,SAAUnG,IAEdgD,EAAI0B,OAASnB,OAAOgB,GACpB9H,OAAOmI,SAASC,KAAO7B,EAAIxH,UAC/B,CACA,MAAOG,GACHsD,QAAQC,MAAMvD,EAClB,GAiCAyK,SA9Fa5G,MAAOhF,UACd+H,EAAgB,IACf/H,EACHiI,WAAY,gBACd,EA2FF4D,gBA9MoB7G,UACpB,MAAMuB,EAActD,EAAMG,QAAQ,sBAClC,QAAKmD,IAGgB9D,EAAW8D,UAI1BY,KAFK,EAGA,EAqMX2E,UArFc9G,MAAOhF,UACf+H,EAAgB,IACf/H,EACHiI,WAAY,eACZC,eAAe,GACjB,EAiFFxE,WACAK,UACAS,iBACAI,gBACAD,iBACAoH,eAzMmB,KACnB,MAAMC,EAAUnI,EAAc,YAE9B,MAAO,CACHoI,YAFiBpI,EAAc,gBAAkB,GAGjDmI,UACH,EAoMDE,cAlMmB7I,IACnB,MAAM2I,EAAUnI,EAAc,YAE9B,MAAO,CACHsI,WAFiBtI,EAAc,gBAAkB,IAE1BuI,MAAMvL,GAAMA,IAAMwC,IACzC2I,UACH,EA6LDK,gBA3LoB,KAEb,CACHL,QAFYnI,EAAc,cA2L9BgB,uBACH,E,wBChdL,MAAMyH,EAAY,IACZC,EAAa,MACbC,EAAa,iBACbC,EAAa,SACbC,EAAc,UAEpB,IAAIC,EACA5M,EAGJ,SAAS6M,EAASC,GAChB9M,EAAQ8M,CACV,CAaA,SAASnB,IACP3L,EAAQ,KACRkC,OAAOmI,SAAW,SACpB,CAWA,SAAS0C,EAAaxE,GACpBrG,OAAOgJ,QAAQ6B,aAAa,CAAC,EAAGC,SAASC,MAAO1E,EAClD,CAEA,SAASmD,EAAMwB,EAAOX,EAAWY,EAAajH,EAAAA,GAAOkH,YAAYC,SAE/D,GAAIC,MAAQC,KAEV,YADAD,IAAIjD,SAAWqC,GAIjBK,EAAaL,GAEb,MAAMc,EAAkB,IAAIC,EAAAA,EAE5BD,EAAgBE,GAAG,eAAe,KAChCd,EAAMf,SAAS,CACb5D,UAAW,CAAEiF,QACb5E,cAAe,CAAEqF,cAAeR,IAChC,IAGJK,EAAgBI,QAClB,CAMA3I,eAAe4I,EAAKC,GAClB,GAAIC,EAAAA,GAAUC,QAGZ,OAFAnB,EAASkB,EAAAA,GAAUC,cACnBF,IAIF,IAAKG,UAAUC,OAEb,YADAJ,IAKF,MAAMK,EAAW9D,SAASO,SAEpBwD,EAAoB,CACxB5I,aAAc6E,SAASgE,OAAS5B,EAChChH,WAAY4E,SAASgE,OACrB3I,qBAAsBA,CAACuF,GAAQiC,QAAS,CAAC,KAClCjC,GAKDiC,IAASR,IAAYQ,EAAOX,GAE5BW,IAASV,IACXU,EAAOX,EACPrF,aAAa1D,QAAQgJ,EAAY,IAGnCO,EAAaG,GAEbY,KAbEpC,EAAMwB,EAaC,GAIbN,QAAc5H,GAAkBsJ,EAAAA,EAAAA,QAAOF,EAAmBlI,EAAAA,GAAOqI,eAE7DJ,IAAa1B,IAEb0B,IAAaxB,EAMbwB,IAAa3B,GAActF,aAAa7D,QAAQmJ,GAClDd,EAAMc,EAAYtG,EAAAA,GAAOkH,YAAYoB,oBAI5B5B,EAAMrC,UAKjBuD,IAJEpC,EAAMyC,GAXNvB,EAAMjB,SAgBV,CAhGA8C,IAAAA,MAAY,OAAQ,CAClB9C,SACAkB,WACA9E,SAnBF,WACE,OAAI/H,IACC4M,GAAUqB,UAAUC,OAElBtB,EACJ7E,WACA2G,OAAM,KACL/C,GAAQ,SALZ,EAOF,G,yFCzBA,MAAMgD,EAAeC,IAAAA,SAAA,uCAAAC,EAAAC,EAAAC,EAAAC,EAAAzI,GAAA,IAAA0I,EAAAC,EAAAL,EAAAK,gBAAA,SAAAC,EAAAC,GAAA,GAAAlK,OAAAxD,UAAA2N,eAAAC,KAAAH,EAAAC,GAAA,OAAAD,EAAAC,EAAA,+JAAAP,EAAAU,iBAAAV,EAAAW,QAAAP,GAAAA,GAAAA,EAAA1I,GAAA2I,EAAA3I,EAAA,UAAA2I,EAAAD,EAAA,aAAAC,EAAAD,EAAA,aAAAC,EAAAD,EAAA,WAAAH,IAAA,yBAOfW,EAAcC,EAAAA,KAAKpB,OAAO,CAC9BqB,UAAW,SACXC,SAAUjB,EACVkB,GAAI,CACFC,YAAa,mBACbC,QAAS,eAEXC,QAAAA,GACE,MAAMC,EAAUC,KAAKC,UAAU,WAE1BF,EAKLC,KAAKE,WAAWH,EAAU,EAAGA,EAAU,EAAI,KAJzCC,KAAKE,WAAW,EAAG,IAKvB,EACAA,UAAAA,CAAWC,EAAOC,GACHC,EAAAA,EAAMC,SAAS,CAC1BC,OAAQ,aACRJ,UAICK,IAAI,CACHC,QAAS,CAAC,EAAG,GACbC,QAASV,KAAKL,GAAGC,YAAY,GAC7BQ,aAEDI,IAAI,CACHC,QAAS,CAAC,EAAG,GACbC,QAASV,KAAKL,GAAGE,QAAQ,GACzBO,SAAUA,EAAW,KACpB,IACP,IAGF,EAAeO,EAAAA,OAAOvC,OAAO,CAC3B2B,QAAS,IACTa,cAAAA,GACEZ,KAAKa,KAAK,IAAItB,EAAY,CAAEQ,QAASC,KAAKC,UAAU,aACtD,G,wIC5CF,MAAMa,EAAYtB,EAAAA,KAAKpB,OAAO,CAC5B2C,SAAU,CACR,kBAAmB,eAErBrB,SAAUsB,IACVC,gBAAiB,CACf1I,IAAK4B,SAASM,QAIZ8C,EAAkBiC,EAAAA,KAAKpB,OAAO,CAClC8C,GAAI,QAEJpB,QAAAA,GACEE,KAAKmB,cAAc,UAAW,IAAIL,EACpC,EACAM,QAAS,CACPC,QAAS,CACPH,GAAI,wBACJI,YAAaC,EAAAA,IAGjB7B,SAAU8B,IACVC,kBAAmB,CACjB,cAAe,iBAIbC,EAAelC,EAAAA,KAAKpB,OAAO,CAC/BqB,UAAW,oBACXC,SAAUiC,MAGNC,EAAgBpC,EAAAA,KAAKpB,OAAO,CAChCqB,UAAW,cACX2B,QAAS,CACPC,QAAS,CACPH,GAAI,wBACJI,YAAaC,EAAAA,IAGjB7B,SAAU8B,IACV1B,QAAAA,GACME,KAAKC,UAAU,YACjBD,KAAKmB,cAAc,UAAW,IAAIO,GAIpC1B,KAAK6B,UAAU,WAAWjB,gBAC5B,G,iBC7DF,IAAIkB,EAAa,EAAQ,KAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYpC,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAASf,EAAUC,EAAOC,EAAQC,EAASzI,GACzI,IAAI4L,EAAQjD,EAAiBL,EAAUK,gBAAkB,SAASC,EAAQC,GACtE,GAAIlK,OAAOxD,UAAU2N,eAAeC,KAAKH,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,gGACHP,EAAUU,iBAAsM,mBAAnL4C,EAAiH,OAAvGA,EAASjD,EAAeH,EAAQ,SAAqB,MAAVD,EAAiBI,EAAeJ,EAAO,OAASA,IAAmBqD,EAAStD,EAAUuD,MAAMC,eAA+CF,EAAO7C,KAAe,MAAVR,EAAiBA,EAAUD,EAAUyD,aAAe,CAAC,EAAG,CAAC,KAAO,MAAM,KAAO,CAAC,EAAE,KAAO/L,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAAS4L,GAC7Y,w1BACN,EAAE,SAAU,G,iBCbZ,IAAIH,EAAa,EAAQ,KAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYpC,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAASf,EAAUC,EAAOC,EAAQC,EAASzI,GACzI,IAAI2I,EAAiBL,EAAUK,gBAAkB,SAASC,EAAQC,GAC9D,GAAIlK,OAAOxD,UAAU2N,eAAeC,KAAKH,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,6CACHP,EAAUU,kBAAkBL,EAAeH,EAAQ,QAASD,GAAUI,EAAeJ,EAAO,QAASD,EAAUuD,MAAMC,eAAe/C,KAAe,MAAVR,EAAiBA,EAAUD,EAAUyD,aAAe,CAAC,EAAG,qBAAqB,CAAC,KAAO,MAAM,KAAO,CAAC,EAAE,KAAO/L,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,EAAE,OAAS,QACxT,0IACN,EAAE,SAAU,G,iBCbZ,IAAIyL,EAAa,EAAQ,KAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYpC,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAASf,EAAUC,EAAOC,EAAQC,EAASzI,GACzI,MAAO,8xMACX,EAAE,SAAU,G","sources":["webpack://care-ops-frontend/./node_modules/@kinde-oss/kinde-auth-pkce-js/node_modules/jwt-decode/build/esm/index.js","webpack://care-ops-frontend/./node_modules/@kinde-oss/kinde-auth-pkce-js/dist/kinde-auth-pkce-js.esm.js","webpack://care-ops-frontend/./src/js/auth.js","webpack://care-ops-frontend/./src/js/regions/preload_region.js","webpack://care-ops-frontend/./src/js/views/globals/prelogin/prelogin_views.js","webpack://care-ops-frontend/./src/js/views/globals/prelogin/login-prompt.hbs","webpack://care-ops-frontend/./src/js/views/globals/prelogin/not-setup.hbs","webpack://care-ops-frontend/./src/js/views/globals/prelogin/prelogin.hbs"],"sourcesContent":["export class InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nexport function jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n","import { jwtDecode } from 'jwt-decode';\n\n// Generated by genversion.\nconst version = '3.0.27';\n\nconst SESSION_PREFIX = 'pkce-code-verifier';\nvar flagDataTypeMap;\n(function (flagDataTypeMap) {\n    flagDataTypeMap[\"s\"] = \"string\";\n    flagDataTypeMap[\"i\"] = \"integer\";\n    flagDataTypeMap[\"b\"] = \"boolean\";\n})(flagDataTypeMap || (flagDataTypeMap = {}));\n\n// Base64-urlencodes the input string\nfunction base64UrlEncode(str) {\n    // Convert the ArrayBuffer to string using Uint8 array to conver to what btoa accepts.\n    // btoa accepts chars only within ascii 0-255 and base64 encodes them.\n    // Then convert the base64 encoded to base64url encoded\n    //   (replace + with -, replace / with _, trim trailing =)\n    const numberArray = Array.from(new Uint8Array(str));\n    return btoa(String.fromCharCode.apply(null, numberArray))\n        .replace(/\\+/g, '-')\n        .replace(/\\//g, '_')\n        .replace(/=+$/, '');\n}\n\n// Calculate the SHA256 hash of the input text.\n// Returns a promise that resolves to an ArrayBuffer\nfunction sha256(plain) {\n    const encoder = new TextEncoder();\n    const data = encoder.encode(plain);\n    return window.crypto.subtle.digest('SHA-256', data);\n}\n\n// Return the base64-urlencoded sha256 hash for the PKCE challenge\nasync function pkceChallengeFromVerifier(v) {\n    const hashed = await sha256(v);\n    return base64UrlEncode(hashed);\n}\n\nfunction randomString() {\n    const array = new Uint32Array(28);\n    window.crypto.getRandomValues(array);\n    return Array.from(array, (dec) => ('0' + dec.toString(16)).substr(-2)).join('');\n}\n\nconst isValidJwt = (jwtToken) => {\n    const unixTime = Math.floor(Date.now() / 1000);\n    return jwtToken.exp > unixTime;\n};\n\nconst setupChallenge = async (authorizationEndpoint, appState) => {\n    const state = randomString();\n    const code_verifier = randomString(); // the secret\n    // Hash and base64-urlencode the secret to use as the challenge\n    const code_challenge = await pkceChallengeFromVerifier(code_verifier);\n    sessionStorage.setItem(`${SESSION_PREFIX}-${state}`, JSON.stringify({\n        codeVerifier: code_verifier,\n        appState\n    }));\n    // Build and encode the authorisation request url\n    const url = new URL(authorizationEndpoint);\n    return { state, code_challenge, url };\n};\n\nconst createStore = () => {\n    let items = {};\n    const getItem = (key) => {\n        return items[key];\n    };\n    const setItem = (key, value) => {\n        items[key] = value;\n    };\n    const removeItem = (key) => {\n        delete items[key];\n    };\n    const reset = () => {\n        items = {};\n    };\n    return {\n        reset,\n        getItem,\n        removeItem,\n        setItem\n    };\n};\nconst store = createStore();\n\nconst getClaim = (claim, tokenKey = 'access_token') => {\n    const token = store.getItem(`kinde_${tokenKey}`);\n    return token ? { name: claim, value: token[claim] } : null;\n};\n\nconst getClaimValue = (claim, tokenKey = 'access_token') => {\n    const obj = getClaim(claim, tokenKey);\n    return obj && obj.value;\n};\n\nconst getFlag = (code, defaultValue, flagType) => {\n    const flags = getClaimValue('feature_flags');\n    const flag = (flags && flags[code] ? flags[code] : {});\n    if (flag.v == null && defaultValue == null) {\n        throw Error(`Flag ${code} was not found, and no default value has been provided`);\n    }\n    if (flagType && flag.t && flagType !== flag.t) {\n        throw Error(`Flag ${code} is of type ${flagDataTypeMap[flag.t]} - requested type ${flagDataTypeMap[flagType]}`);\n    }\n    return {\n        code,\n        type: flagDataTypeMap[flag.t || flagType],\n        value: (flag.v == null ? defaultValue : flag.v),\n        is_default: flag.v == null\n    };\n};\n\nconst getBooleanFlag = (code, defaultValue) => {\n    try {\n        const flag = getFlag(code, defaultValue, 'b');\n        return flag.value;\n    }\n    catch (err) {\n        console.error(err);\n        return err;\n    }\n};\n\nconst getIntegerFlag = (code, defaultValue) => {\n    try {\n        const flag = getFlag(code, defaultValue, 'i');\n        return flag.value;\n    }\n    catch (err) {\n        console.error(err);\n        return err;\n    }\n};\n\nconst getStringFlag = (code, defaultValue) => {\n    try {\n        const flag = getFlag(code, defaultValue, 's');\n        return flag.value;\n    }\n    catch (err) {\n        console.error(err);\n        return err;\n    }\n};\n\nconst getUserOrganizations = () => {\n    const orgCodes = (getClaimValue('org_codes', 'id_token') ?? []);\n    return {\n        orgCodes\n    };\n};\n\nconst createKindeClient = async (options) => {\n    if (!options) {\n        throw Error('Please provide your Kinde credentials');\n    }\n    if (options !== Object(options)) {\n        throw Error('The Kinde SDK must be initiated with an object');\n    }\n    const { audience, client_id: clientId, domain, is_dangerously_use_local_storage = false, redirect_uri, logout_uri = redirect_uri, on_redirect_callback, scope = 'openid profile email offline', proxy_redirect_uri, _framework, _frameworkVersion } = options;\n    if (audience && typeof audience !== 'string') {\n        throw Error('Please supply a valid audience for your api');\n    }\n    if (scope && typeof scope !== 'string') {\n        throw Error('Please supply a valid scope');\n    }\n    if (!redirect_uri || typeof options.redirect_uri !== 'string') {\n        throw Error('Please supply a valid redirect_uri for your users to be redirected after successful authentication');\n    }\n    if (!domain || typeof domain !== 'string') {\n        throw Error('Please supply a valid Kinde domain so we can connect to your account');\n    }\n    if (typeof is_dangerously_use_local_storage !== 'boolean') {\n        throw TypeError('Please supply a boolean value for is_dangerously_use_local_storage');\n    }\n    const client_id = clientId || 'spa@live';\n    //   Indicates using a custom domain on a production environment\n    const is_use_cookie = !is_dangerously_use_local_storage && !domain.includes('.kinde.com');\n    const config = {\n        audience,\n        client_id,\n        redirect_uri,\n        authorization_endpoint: `${domain}/oauth2/auth`,\n        token_endpoint: `${domain}/oauth2/token`,\n        requested_scopes: scope,\n        domain,\n        _framework,\n        _frameworkVersion\n    };\n    const setStore = (data) => {\n        if (!data || data.error)\n            return;\n        const accessToken = jwtDecode(data.access_token);\n        const idToken = jwtDecode(data.id_token);\n        store.setItem('kinde_token', data);\n        store.setItem('kinde_access_token', accessToken);\n        store.setItem('kinde_id_token', idToken);\n        store.setItem('user', {\n            id: idToken.sub,\n            given_name: idToken.given_name,\n            family_name: idToken.family_name,\n            email: idToken.email,\n            picture: idToken.picture\n        });\n        if (is_dangerously_use_local_storage) {\n            localStorage.setItem('kinde_refresh_token', data.refresh_token);\n        }\n        else {\n            store.setItem('kinde_refresh_token', data.refresh_token);\n        }\n    };\n    const useRefreshToken = async () => {\n        const refresh_token = is_dangerously_use_local_storage\n            ? localStorage.getItem('kinde_refresh_token')\n            : store.getItem('kinde_refresh_token');\n        if (refresh_token || is_use_cookie) {\n            try {\n                const response = await fetch(config.token_endpoint, {\n                    method: 'POST',\n                    ...(is_use_cookie && { credentials: 'include' }),\n                    headers: new Headers({\n                        'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8',\n                        'Kinde-SDK': `\n            ${config._framework || 'JavaScript'}/${config._frameworkVersion || version}`\n                    }),\n                    body: new URLSearchParams({\n                        client_id: config.client_id,\n                        grant_type: 'refresh_token',\n                        ...(!is_use_cookie && refresh_token && { refresh_token })\n                    })\n                });\n                const data = await response.json();\n                setStore(data);\n                return data.access_token;\n            }\n            catch (err) {\n                console.error(err);\n            }\n        }\n    };\n    const getToken = async () => {\n        const token = store.getItem('kinde_token');\n        if (!token) {\n            return await useRefreshToken();\n        }\n        const accessToken = store.getItem('kinde_access_token');\n        const isTokenValid = isValidJwt(accessToken);\n        if (isTokenValid) {\n            return token.access_token;\n        }\n        else {\n            return await useRefreshToken();\n        }\n    };\n    const isAuthenticated = async () => {\n        const accessToken = store.getItem('kinde_access_token');\n        if (!accessToken) {\n            return false;\n        }\n        const isTokenValid = isValidJwt(accessToken);\n        if (isTokenValid) {\n            return true;\n        }\n        await useRefreshToken();\n        return true;\n    };\n    const getPermissions = () => {\n        const orgCode = getClaimValue('org_code');\n        const permissions = (getClaimValue('permissions') ?? []);\n        return {\n            permissions,\n            orgCode\n        };\n    };\n    const getPermission = (key) => {\n        const orgCode = getClaimValue('org_code');\n        const permissions = (getClaimValue('permissions') ?? []);\n        return {\n            isGranted: permissions.some((p) => p === key),\n            orgCode\n        };\n    };\n    const getOrganization = () => {\n        const orgCode = getClaimValue('org_code');\n        return {\n            orgCode\n        };\n    };\n    const handleRedirectToApp = async (q) => {\n        const code = q.get('code');\n        const state = q.get('state');\n        const error = q.get('error');\n        if (error) {\n            console.error(`Error returned from authorization server: ${error}`);\n        }\n        const stringState = sessionStorage.getItem(`${SESSION_PREFIX}-${state}`);\n        // Verify state\n        if (!stringState) {\n            console.error('Invalid state');\n        }\n        else {\n            const { appState, codeVerifier } = JSON.parse(stringState);\n            // Exchange authorisation code for an access token\n            try {\n                const response = await fetch(config.token_endpoint, {\n                    method: 'POST',\n                    ...(is_use_cookie && { credentials: 'include' }),\n                    headers: new Headers({\n                        'Content-type': 'application/x-www-form-urlencoded; charset=UTF-8',\n                        'Kinde-SDK': `${config._framework || 'JavaScript'}/${config._frameworkVersion || version}`\n                    }),\n                    body: new URLSearchParams({\n                        client_id: config.client_id,\n                        code,\n                        code_verifier: codeVerifier,\n                        grant_type: 'authorization_code',\n                        redirect_uri: config.redirect_uri\n                    })\n                });\n                const data = await response.json();\n                setStore(data);\n                // Remove auth code from address bar\n                const url = new URL(window.location.toString());\n                url.search = '';\n                sessionStorage.removeItem(`${SESSION_PREFIX}-${state}`);\n                const user = getUser();\n                window.history.pushState({}, '', url);\n                if (on_redirect_callback) {\n                    on_redirect_callback(user, appState);\n                }\n            }\n            catch (err) {\n                console.error(err);\n                sessionStorage.removeItem(`${SESSION_PREFIX}-${state}`);\n            }\n        }\n    };\n    const redirectToKinde = async (options) => {\n        const { app_state, start_page, is_create_org, org_name = '', org_code, authUrlParams = {} } = options;\n        const { state, code_challenge, url } = await setupChallenge(config.authorization_endpoint, app_state);\n        const searchParams = {\n            redirect_uri,\n            client_id,\n            response_type: 'code',\n            scope: config.requested_scopes,\n            code_challenge,\n            code_challenge_method: 'S256',\n            state\n        };\n        if (start_page) {\n            searchParams.start_page = start_page;\n        }\n        if (audience) {\n            searchParams.audience = audience;\n        }\n        if (org_code) {\n            searchParams.org_code = org_code;\n        }\n        if (is_create_org) {\n            searchParams.is_create_org = String(is_create_org);\n            searchParams.org_name = org_name;\n        }\n        url.search = String(new URLSearchParams(Object.assign(authUrlParams, searchParams)));\n        window.location.href = url.toString();\n    };\n    const register = async (options) => {\n        await redirectToKinde({\n            ...options,\n            start_page: 'registration'\n        });\n    };\n    const login = async (options) => {\n        await redirectToKinde({\n            ...options\n        });\n    };\n    const createOrg = async (options) => {\n        await redirectToKinde({\n            ...options,\n            start_page: 'registration',\n            is_create_org: true\n        });\n    };\n    const getUser = () => {\n        return store.getItem('user');\n    };\n    const getUserProfile = async () => {\n        const token = await getToken();\n        const headers = {\n            Accept: 'application/json',\n            Authorization: `Bearer ${token}`\n        };\n        try {\n            const res = await fetch(`${config.domain}/oauth2/v2/user_profile`, {\n                method: 'GET',\n                headers: headers\n            });\n            const json = await res.json();\n            store.setItem('user', {\n                id: json.sub,\n                given_name: json.given_name,\n                family_name: json.family_name,\n                email: json.email,\n                picture: json.picture\n            });\n            return store.getItem('user');\n        }\n        catch (err) {\n            console.error(err);\n        }\n    };\n    const logout = async () => {\n        const url = new URL(`${config.domain}/logout`);\n        try {\n            store.reset();\n            if (is_dangerously_use_local_storage) {\n                localStorage.removeItem('kinde_refresh_token');\n            }\n            const searchParams = new URLSearchParams({\n                redirect: logout_uri\n            });\n            url.search = String(searchParams);\n            window.location.href = url.toString();\n        }\n        catch (err) {\n            console.error(err);\n        }\n    };\n    const init = async () => {\n        const q = new URLSearchParams(window.location.search);\n        // Is a redirect from Kinde Auth server\n        if (isKindeRedirect(q)) {\n            await handleRedirectToApp(q);\n        }\n        else {\n            // For onload / new tab / page refresh\n            if (is_use_cookie || is_dangerously_use_local_storage) {\n                await useRefreshToken();\n            }\n        }\n    };\n    const isKindeRedirect = (searchParams) => {\n        // Check if the search params hve the code parameter\n        const hasOauthCode = searchParams.has('code');\n        if (!hasOauthCode)\n            return false;\n        // Also check if redirect_uri matches current url\n        const { protocol, host, pathname } = window.location;\n        const currentRedirectUri = proxy_redirect_uri || `${protocol}//${host}${pathname}`;\n        return (currentRedirectUri === redirect_uri ||\n            currentRedirectUri === `${redirect_uri}/`);\n    };\n    await init();\n    return {\n        getToken,\n        getUser,\n        getUserProfile,\n        login,\n        logout,\n        register,\n        isAuthenticated,\n        createOrg,\n        getClaim,\n        getFlag,\n        getBooleanFlag,\n        getStringFlag,\n        getIntegerFlag,\n        getPermissions,\n        getPermission,\n        getOrganization,\n        getUserOrganizations\n    };\n};\n\nexport { createKindeClient as default };\n","import { extend } from 'underscore';\nimport Radio from 'backbone.radio';\nimport createKindeClient from '@kinde-oss/kinde-auth-pkce-js';\n\nimport { kindeConfig as config, appConfig } from './config';\n\nimport 'scss/app-root.scss';\n\nimport { LoginPromptView } from 'js/views/globals/prelogin/prelogin_views';\n\nconst PATH_ROOT = '/';\nconst PATH_RWELL = '/rw';\nconst PATH_AUTHD = '/authenticated';\nconst PATH_LOGIN = '/login';\nconst PATH_LOGOUT = '/logout';\n\nlet kinde;\nlet token;\n\n// Sets a token when not using auth0;\nfunction setToken(tokenString) {\n  token = tokenString;\n}\n\nfunction getToken() {\n  if (token) return token;\n  if (!kinde || !navigator.onLine) return;\n\n  return kinde\n    .getToken()\n    .catch(() => {\n      logout();\n    });\n}\n\nfunction logout() {\n  token = null;\n  window.location = '/logout';\n}\n\nRadio.reply('auth', {\n  logout,\n  setToken,\n  getToken,\n});\n\n/*\n * Modifies the current history state\n */\nfunction replaceState(state) {\n  window.history.replaceState({}, document.title, state);\n}\n\nfunction login(path = PATH_ROOT, connection = config.connections.default) {\n  // iframe buster\n  if (top !== self) {\n    top.location = PATH_LOGIN;\n    return;\n  }\n\n  replaceState(PATH_LOGIN);\n\n  const loginPromptView = new LoginPromptView();\n\n  loginPromptView.on('click:login', ()=> {\n    kinde.register({\n      app_state: { path },\n      authUrlParams: { connection_id: connection },\n    });\n  });\n\n  loginPromptView.render();\n}\n\n/*\n * Requests kinde authorization\n * And authenticates authorization if kinde redirected to PATH_AUTHD\n */\nasync function auth(success) {\n  if (appConfig.cypress) {\n    setToken(appConfig.cypress);\n    success();\n    return;\n  }\n\n  if (!navigator.onLine) {\n    success();\n    return;\n  }\n\n  // NOTE: Set path before await create to avoid redirect replaceState changing the value\n  const pathName = location.pathname;\n\n  const kindeCreateParams = {\n    redirect_uri: location.origin + PATH_AUTHD,\n    logout_uri: location.origin,\n    on_redirect_callback: (user, { path } = {}) => {\n      if (!user) {\n        login(path);\n        return;\n      }\n\n      if (path === PATH_LOGIN) path = PATH_ROOT;\n\n      if (path === PATH_RWELL) {\n        path = PATH_ROOT;\n        localStorage.setItem(PATH_RWELL, 1);\n      }\n\n      replaceState(path);\n\n      success();\n    },\n  };\n\n  kinde = await createKindeClient(extend(kindeCreateParams, config.createParams));\n\n  if (pathName === PATH_AUTHD) return;\n\n  if (pathName === PATH_LOGOUT) {\n    kinde.logout();\n    return;\n  }\n\n  // RWell specific login\n  if (pathName === PATH_RWELL || localStorage.getItem(PATH_RWELL)) {\n    login(PATH_RWELL, config.connections.roundingwell);\n    return;\n  }\n\n  if (!await kinde.getUser()) {\n    login(pathName);\n    return;\n  }\n\n  success();\n}\n\nexport {\n  auth,\n};\n","import anime from 'animejs';\n\nimport hbs from 'handlebars-inline-precompile';\n\nimport { Region, View } from 'marionette';\n\nimport 'scss/modules/loader.scss';\n\nconst LoadingTemplate = hbs`\n  <div class=\"loader__bar js-progress-bar\">\n    <div class=\"loader__bar-progress--loop\"></div>\n  </div>\n  <div class=\"loader__text js-loading\">{{ @intl.regions.preload.loading }}</div>\n`;\n\nconst LoadingView = View.extend({\n  className: 'loader',\n  template: LoadingTemplate,\n  ui: {\n    progressBar: '.js-progress-bar',\n    loading: '.js-loading',\n  },\n  onRender() {\n    const timeout = this.getOption('timeout');\n\n    if (!timeout) {\n      this.showLoader(0, 300);\n      return;\n    }\n\n    this.showLoader(timeout / 2, timeout / 2 + 200);\n  },\n  showLoader(delay, duration) {\n    const anim = anime.timeline({\n      easing: 'easeInQuad',\n      delay,\n    });\n\n    anim\n      .add({\n        opacity: [0, 1],\n        targets: this.ui.progressBar[0],\n        duration,\n      })\n      .add({\n        opacity: [0, 1],\n        targets: this.ui.loading[0],\n        duration: duration - 100,\n      }, 100);\n  },\n});\n\nexport default Region.extend({\n  timeout: 500,\n  startPreloader() {\n    this.show(new LoadingView({ timeout: this.getOption('timeout') }));\n  },\n});\n","import { View } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport 'scss/modules/fill-window.scss';\n\nimport PreloginTemplate from './prelogin.hbs';\nimport LoginPromptTemplate from './login-prompt.hbs';\nimport NotSetupTemplate from './not-setup.hbs';\n\nimport './prelogin.scss';\n\nconst LoginView = View.extend({\n  triggers: {\n    'click .js-login': 'click:login',\n  },\n  template: LoginPromptTemplate,\n  templateContext: {\n    url: location.host,\n  },\n});\n\nconst LoginPromptView = View.extend({\n  el: '#root',\n  /* istanbul ignore next: unable to test auth views in cypress */\n  onRender() {\n    this.showChildView('content', new LoginView());\n  },\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n  template: PreloginTemplate,\n  childViewTriggers: {\n    'click:login': 'click:login',\n  },\n});\n\nconst NotSetupView = View.extend({\n  className: 'prelogin__message',\n  template: NotSetupTemplate,\n});\n\nconst PreloaderView = View.extend({\n  className: 'fill-window',\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n  template: PreloginTemplate,\n  onRender() {\n    if (this.getOption('notSetup')) {\n      this.showChildView('content', new NotSetupView());\n      return;\n    }\n\n    this.getRegion('content').startPreloader();\n  },\n});\n\nexport {\n  PreloaderView,\n  LoginPromptView,\n};\n","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h1 class=\\\"prelogin__header\\\">Sign in to your organization</h1>\\n\\n<h2 class=\\\"prelogin__host\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"url\") || (depth0 != null ? lookupProperty(depth0,\"url\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"url\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":27},\"end\":{\"line\":3,\"column\":36}}}) : helper)))\n    + \"</h2>\\n\\n<button class=\\\"prelogin__continue-button button--green js-login\\\">\\n  Continue to sign in\\n  <svg aria-hidden=\\\"true\\\" focusable=\\\"false\\\" data-prefix=\\\"fas\\\" data-icon=\\\"right-to-bracket\\\" role=\\\"img\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 512 512\\\" class=\\\"svg-inline--fa fa-right-to-bracket\\\">\\n    <path fill=\\\"currentColor\\\" d=\\\"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z\\\"></path>\\n  </svg>\\n</button>\\n\\n<p class=\\\"prelogin__contact-info\\\">Having trouble signing in? <a href=\\\"https://roundingwell.com/contact/\\\">Contact Us</a></p>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"prelogin__message-header\\\">\\n  \"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"circle-exclamation\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":2},\"end\":{\"line\":2,\"column\":30}}}))\n    + \"\\n</div>\\n<div>\\nHold up, your account is not\\nset up yet. Please notify your manager\\nor administrator to correct this issue.\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../../../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"prelogin\\\">\\n  <div class=\\\"prelogin__roundingwell-logo\\\">\\n    <svg class=\\\"svg roundingwell-logo\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"174\\\" height=\\\"30\\\" viewBox=\\\"0 0 185 32\\\">\\n      <g></g>\\n      <path d=\\\"M40.975 11.456c-1.339 0.082-2.624 0.683-3.499 1.995v8.501c0 0.547-0.465 1.011-1.039 1.011h-0.027c-0.547-0.027-0.984-0.465-0.984-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v1.312c0.793-1.039 2.105-2.351 3.635-2.351 0.492 0 0.929 0.41 0.929 0.957 0 0.602-0.465 1.093-1.066 1.121z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M49.53 23.128c-4.018 0-6.533-3.116-6.533-6.943 0-3.827 2.515-6.916 6.533-6.916s6.533 3.089 6.533 6.916c0 3.826-2.514 6.943-6.533 6.943zM49.53 11.101c-2.815 0-4.401 2.406-4.401 5.084 0 2.706 1.585 5.111 4.401 5.111 2.815 0 4.373-2.406 4.373-5.111 0-2.679-1.558-5.084-4.373-5.084z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M68.636 22.964c-0.547 0-1.011-0.465-1.011-1.011v-1.011c-1.011 1.148-2.733 2.187-4.701 2.187-2.761 0-4.209-1.34-4.209-4.21v-8.501c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v7.872c0 2.323 1.175 3.007 2.952 3.007 1.613 0 3.143-0.929 3.909-1.995v-8.883c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v11.535c0 0.546-0.465 1.011-1.039 1.011z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M83.013 22.964c-0.547 0-1.011-0.465-1.011-1.011v-7.79c0-2.323-1.175-3.062-2.952-3.062-1.613 0-3.143 0.984-3.909 2.050v8.801c0 0.547-0.465 1.011-1.039 1.011-0.547 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v1.093c0.929-1.093 2.733-2.242 4.701-2.242 2.761 0 4.21 1.394 4.21 4.264v8.419c-0 0.547-0.465 1.012-1.039 1.012z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M98.046 22.964c-0.547 0-1.011-0.465-1.011-1.011v-1.121c-0.984 1.34-2.597 2.296-4.455 2.296-3.444 0-5.877-2.624-5.877-6.915 0-4.21 2.405-6.943 5.877-6.943 1.777 0 3.389 0.875 4.455 2.324v-6.205c0-0.519 0.465-0.984 1.066-0.984 0.519 0 0.984 0.465 0.984 0.984v16.564c0 0.547-0.464 1.012-1.038 1.012zM97.035 13.233c-0.738-1.148-2.324-2.132-3.964-2.132-2.651 0-4.237 2.187-4.237 5.112 0 2.924 1.585 5.084 4.237 5.084 1.64 0 3.226-0.929 3.964-2.077v-5.986z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M103.512 22.964c-0.546 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.465-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v11.535c0 0.547-0.465 1.012-1.039 1.012z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M117.89 22.964c-0.547 0-1.012-0.465-1.012-1.011v-7.79c0-2.323-1.175-3.062-2.952-3.062-1.613 0-3.143 0.984-3.909 2.050v8.801c0 0.547-0.464 1.011-1.038 1.011-0.547 0-1.011-0.465-1.011-1.011v-11.535c0-0.519 0.464-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v1.093c0.93-1.093 2.734-2.242 4.702-2.242 2.76 0 4.209 1.394 4.209 4.264v8.419c0 0.547-0.464 1.012-1.038 1.012z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M127.647 28.157c-1.941 0-3.499-0.355-4.947-1.585-0.191-0.164-0.301-0.41-0.301-0.684 0-0.465 0.41-0.875 0.902-0.875 0.218 0 0.41 0.055 0.574 0.191 1.039 0.929 2.214 1.257 3.772 1.257 2.187 0 4.237-1.066 4.237-3.964v-1.886c-0.957 1.34-2.57 2.351-4.428 2.351-3.444 0-5.876-2.569-5.876-6.833 0-4.237 2.405-6.861 5.876-6.861 1.777 0 3.362 0.875 4.428 2.324v-1.175c0-0.519 0.464-0.984 1.066-0.984 0.52 0 0.984 0.465 0.984 0.984v11.999c0 4.373-3.061 5.74-6.286 5.74zM131.884 13.233c-0.711-1.148-2.296-2.132-3.936-2.132-2.652 0-4.237 2.105-4.237 5.030 0 2.897 1.585 5.029 4.237 5.029 1.64 0 3.225-1.011 3.936-2.16v-5.767z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M155.309 11.237l-3.198 10.332c-0.246 0.82-1.039 1.394-1.886 1.394h-0.055c-0.875 0-1.64-0.574-1.886-1.394l-2.652-8.391-2.651 8.391c-0.246 0.82-1.039 1.394-1.913 1.394h-0.055c-0.848 0-1.613-0.574-1.859-1.394l-3.225-10.332c-0.027-0.137-0.055-0.273-0.055-0.41 0-0.684 0.574-1.394 1.449-1.394 0.629 0 1.23 0.41 1.394 1.011l2.515 8.665 2.788-8.528c0.219-0.683 0.848-1.148 1.64-1.148 0.711 0 1.34 0.465 1.585 1.148l2.788 8.528 2.514-8.665c0.164-0.601 0.766-1.011 1.395-1.011 0.847 0 1.449 0.656 1.449 1.394-0.001 0.137-0.028 0.273-0.083 0.41z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M168.073 17.141h-8.692c0.191 1.968 1.695 3.635 4.155 3.635 0.956 0 2.049-0.3 2.952-0.875 0.191-0.109 0.41-0.164 0.601-0.164 0.602 0 1.23 0.492 1.23 1.202 0 1.503-3.389 2.187-5.084 2.187-3.964 0-6.915-2.761-6.915-6.943 0-3.827 2.788-6.916 6.697-6.916 3.089 0 5.33 1.859 6.15 4.701 0.164 0.547 0.328 1.175 0.328 1.749 0 0.765-0.629 1.421-1.421 1.421zM163.017 11.62c-2.406 0-3.526 1.913-3.663 3.499h7.326c-0.055-1.53-1.094-3.499-3.663-3.499z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M173.129 22.964c-0.82 0-1.449-0.656-1.449-1.449v-15.689c0-0.765 0.629-1.421 1.503-1.421 0.766 0 1.422 0.656 1.422 1.421v15.689c-0 0.793-0.656 1.449-1.477 1.449z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M179.060 22.964c-0.82 0-1.449-0.656-1.449-1.449v-15.689c0-0.765 0.629-1.421 1.503-1.421 0.766 0 1.422 0.656 1.422 1.421v15.689c-0 0.793-0.656 1.449-1.477 1.449z\\\" fill=\\\"#ffffff\\\" />\\n      <path d=\\\"M28.781 14.834c-0.117-1.519-0.498-3.012-1.117-4.385-0.618-1.374-1.471-2.627-2.501-3.694-1.030-1.068-2.235-1.949-3.546-2.598-1.311-0.651-2.727-1.067-4.16-1.23-1.432-0.164-2.878-0.081-4.264 0.24-1.385 0.321-2.702 0.883-3.877 1.644-1.175 0.761-2.208 1.719-3.046 2.814-0.838 1.094-1.481 2.325-1.893 3.618-0.414 1.293-0.596 2.648-0.55 3.983l0.263 0.003c0.076-1.305 0.375-2.585 0.879-3.768 0.503-1.183 1.208-2.268 2.067-3.196 0.858-0.929 1.87-1.701 2.971-2.277 1.102-0.576 2.294-0.955 3.505-1.118 1.209-0.164 2.442-0.116 3.617 0.132 1.176 0.247 2.296 0.697 3.299 1.318 1.004 0.62 1.89 1.411 2.614 2.318 0.724 0.907 1.283 1.93 1.649 3.006 0.367 1.076 0.54 2.204 0.521 3.323-0.020 1.122-0.23 2.224-0.617 3.247-0.386 1.024-0.949 1.969-1.648 2.787-0.699 0.818-1.534 1.507-2.449 2.031-0.915 0.525-1.91 0.883-2.925 1.061-1.014 0.178-2.057 0.177-3.060 0.007-1.001-0.169-1.954-0.509-2.815-0.996-0.295-0.167-0.578-0.352-0.85-0.551l4.686-7.132-0.102-0.083-10.27 10.316 0.106 0.099c0.083 0.076 0.156 0.142 0.236 0.211 0.157 0.137 0.318 0.271 0.48 0.401 0.326 0.261 0.662 0.506 1.008 0.737 0.201 0.134 0.405 0.263 0.613 0.386 0.506 0.302 1.029 0.573 1.566 0.81 1.513 0.669 3.135 1.066 4.76 1.18 0.813 0.057 1.622 0.045 2.428-0.035 0.805-0.080 1.603-0.229 2.379-0.445 1.554-0.431 3.020-1.132 4.315-2.052 1.296-0.918 2.423-2.054 3.321-3.338 0.9-1.283 1.572-2.715 1.978-4.21 0.408-1.495 0.548-3.048 0.429-4.565z\\\" fill=\\\"#ffffff\\\" />\\n    </svg>\\n  </div>\\n  <div class=\\\"prelogin__content\\\" data-content-region></div>\\n</div>\\n\";\n},\"useData\":true});"],"names":["InvalidTokenError","Error","jwtDecode","token","options","pos","header","part","split","decoded","str","output","replace","length","decodeURIComponent","atob","m","p","code","charCodeAt","toString","toUpperCase","b64DecodeUnicode","err","base64UrlDecode","e","message","JSON","parse","prototype","name","version","SESSION_PREFIX","flagDataTypeMap","randomString","array","Uint32Array","window","crypto","getRandomValues","Array","from","dec","substr","join","isValidJwt","jwtToken","unixTime","Math","floor","Date","now","exp","store","items","reset","getItem","key","removeItem","setItem","value","createStore","getClaim","claim","tokenKey","getClaimValue","obj","getFlag","defaultValue","flagType","flags","flag","v","t","type","is_default","getBooleanFlag","console","error","getIntegerFlag","getStringFlag","getUserOrganizations","orgCodes","createKindeClient","async","Object","audience","client_id","clientId","domain","is_dangerously_use_local_storage","redirect_uri","logout_uri","on_redirect_callback","scope","proxy_redirect_uri","_framework","_frameworkVersion","TypeError","is_use_cookie","includes","config","authorization_endpoint","token_endpoint","requested_scopes","setStore","data","accessToken","access_token","idToken","id_token","id","sub","given_name","family_name","email","picture","localStorage","refresh_token","useRefreshToken","response","fetch","method","credentials","headers","Headers","body","URLSearchParams","grant_type","json","getToken","redirectToKinde","app_state","start_page","is_create_org","org_name","org_code","authUrlParams","state","code_challenge","url","authorizationEndpoint","appState","code_verifier","numberArray","Uint8Array","btoa","String","fromCharCode","apply","base64UrlEncode","plain","TextEncoder","encode","subtle","digest","sha256","pkceChallengeFromVerifier","sessionStorage","stringify","codeVerifier","URL","setupChallenge","searchParams","response_type","code_challenge_method","search","assign","location","href","getUser","q","has","protocol","host","pathname","currentRedirectUri","isKindeRedirect","get","stringState","user","history","pushState","handleRedirectToApp","init","getUserProfile","Accept","Authorization","res","login","logout","redirect","register","isAuthenticated","createOrg","getPermissions","orgCode","permissions","getPermission","isGranted","some","getOrganization","PATH_ROOT","PATH_RWELL","PATH_AUTHD","PATH_LOGIN","PATH_LOGOUT","kinde","setToken","tokenString","replaceState","document","title","path","connection","connections","default","top","self","loginPromptView","LoginPromptView","on","connection_id","render","auth","success","appConfig","cypress","navigator","onLine","pathName","kindeCreateParams","origin","extend","createParams","roundingwell","Radio","catch","LoadingTemplate","_Handlebars2","container","depth0","helpers","partials","stack1","lookupProperty","parent","propertyName","hasOwnProperty","call","escapeExpression","lambda","LoadingView","View","className","template","ui","progressBar","loading","onRender","timeout","this","getOption","showLoader","delay","duration","anime","timeline","easing","add","opacity","targets","Region","startPreloader","show","LoginView","triggers","LoginPromptTemplate","templateContext","el","showChildView","regions","content","regionClass","PreloadRegion","PreloginTemplate","childViewTriggers","NotSetupView","NotSetupTemplate","PreloaderView","getRegion","Handlebars","module","exports","helper","hooks","helperMissing","nullContext"],"sourceRoot":""}