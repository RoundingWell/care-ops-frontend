{"version":3,"file":"20240627-clinicians-main_app-CygJmz1n.js","sources":["../src/js/views/clinicians/clinicians-all_views.js","../src/js/views/clinicians/clinician-modal/clinician-modal.hbs","../src/js/views/clinicians/clinician-modal/clinician-modal_views.js","../src/js/apps/clinicians/clinicians-all_app.js","../src/js/apps/clinicians/clinicians-main_app.js"],"sourcesContent":["import { every, map, sortBy } from 'underscore';\nimport hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport { View, CollectionView, Behavior } from 'marionette';\n\nimport buildMatchersArray from 'js/utils/formatting/build-matchers-array';\n\nimport PreloadRegion from 'js/regions/preload_region';\nimport { RoleComponent, TeamComponent, StateComponent } from 'js/views/clinicians/shared/clinicians_views';\n\nimport 'scss/modules/list-pages.scss';\nimport 'scss/modules/table-list.scss';\n\nimport './clinicians.scss';\n\nconst RowBehavior = Behavior.extend({\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'onChange',\n  },\n  onChange() {\n    this.view.render();\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.clinicians.cliniciansAllViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst EmptyFindInListView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.clinicians.cliniciansAllViews.emptyFindInListView.noResults }}</h2>\n    </td>\n  `,\n});\n\nconst ItemView = View.extend({\n  modelEvents: {\n    'change:enabled': 'render',\n  },\n  className: 'table-list__item',\n  behaviors: [RowBehavior],\n  tagName: 'tr',\n  regions: {\n    team: '[data-team-region]',\n    role: '[data-role-region]',\n    state: '[data-state-region]',\n  },\n  triggers: {\n    'click': 'click',\n  },\n  template: hbs`\n    <td class=\"table-list__cell w-20\">{{#unless name}}{{ @intl.clinicians.cliniciansAllViews.itemView.newClinician }}{{/unless}}{{ name }}&#8203;</td>\n    <td class=\"table-list__cell w-30 {{#unless workspaces}}table-list__cell--empty{{/unless}}\">{{#each workspaces}}{{#unless @first}}, {{/unless}}{{ this.name }}{{/each}}{{#unless workspaces}}{{ @intl.clinicians.cliniciansAllViews.itemView.noWorkspaces }}{{/unless}}&#8203;</td>\n    <td class=\"table-list__cell w-30\">\n      <span class=\"u-margin--r-8\" data-state-region></span>&#8203;{{~ remove_whitespace ~}}\n      <span class=\"u-margin--r-8\" data-role-region></span>&#8203;{{~ remove_whitespace ~}}\n      <span data-team-region></span>&#8203;{{~ remove_whitespace ~}}\n    </td>\n    <td class=\"table-list__cell w-20 {{#unless last_active_at}}table-list__cell--empty{{/unless}}\">{{formatDateTime last_active_at \"TIME_OR_DAY\" defaultHtml=(intlGet \"clinicians.cliniciansAllViews.itemView.noLastActive\")}}&#8203;</td>\n  `,\n  templateContext() {\n    return {\n      workspaces: sortBy(map(this.model.getWorkspaces().models, 'attributes'), 'name'),\n    };\n  },\n  onRender() {\n    this.showTeam();\n    this.showRole();\n    this.showState();\n  },\n  onClick() {\n    Radio.trigger('event-router', 'clinician', this.model.id);\n  },\n  showState() {\n    const isActive = this.model.isActive();\n    const selectedId = this.model.get('enabled') ? 'enabled' : 'disabled';\n\n    const stateComponent = new StateComponent({ isActive, selectedId, isCompact: true });\n\n    this.listenTo(stateComponent, 'change:selected', selected => {\n      this.model.save({ enabled: selected.id !== 'disabled' });\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showRole() {\n    const roleComponent = new RoleComponent({\n      role: this.model.getRole(),\n      isCompact: true,\n      state: { isDisabled: !this.model.get('enabled') },\n    });\n\n    this.listenTo(roleComponent, 'change:role', role => {\n      this.model.saveRole(role);\n    });\n\n    this.showChildView('role', roleComponent);\n  },\n  showTeam() {\n    const teamComponent = new TeamComponent({\n      team: this.model.getTeam(),\n      isCompact: true,\n      state: { isDisabled: !this.model.get('enabled') },\n    });\n\n    this.listenTo(teamComponent, 'change:team', team => {\n      this.model.saveTeam(team);\n    });\n\n    this.showChildView('team', teamComponent);\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region',\n  template: hbs`\n    <div class=\"list-page__header\">\n      <div class=\"flex list-page__title\">\n        <div class=\"flex list-page__title-filter\">\n          <span class=\"list-page__title-icon\">{{far \"users-gear\"}}</span>{{ @intl.clinicians.cliniciansAllViews.layoutView.title }}\n        </div>\n        <div class=\"clinicians__list-search\" data-search-region></div>\n      </div>\n      <button class=\"u-margin--b-16 button-primary js-add-clinician\">{{far \"circle-plus\"}}<span>{{ @intl.clinicians.cliniciansAllViews.layoutView.addClinicianButton }}</span></button>\n    </div>\n    <div class=\"flex-region list-page__list\">\n      <table class=\"w-100\"><tr>\n        <td class=\"table-list__header w-20\">{{ @intl.clinicians.cliniciansAllViews.layoutView.clinicianHeader }}</td>\n        <td class=\"table-list__header w-30\">{{ @intl.clinicians.cliniciansAllViews.layoutView.workspacesHeader }}</td>\n        <td class=\"table-list__header w-30\">{{ @intl.clinicians.cliniciansAllViews.layoutView.attributesHeader }}</td>\n        <td class=\"table-list__header w-20\">{{ @intl.clinicians.cliniciansAllViews.layoutView.lastActiveHeader }}</td>\n      </tr></table>\n      <div class=\"flex-region\" data-list-region></div>\n    </div>\n  `,\n  regions: {\n    list: {\n      el: '[data-list-region]',\n      regionClass: PreloadRegion,\n    },\n    sidebar: '[data-sidebar-region]',\n    addClinician: {\n      el: '[data-add-region]',\n      replaceElement: true,\n    },\n    search: '[data-search-region]',\n  },\n  triggers: {\n    'click .js-add-clinician': 'click:addClinician',\n  },\n});\n\nconst ListView = CollectionView.extend({\n  className: 'table-list',\n  tagName: 'table',\n  childView: ItemView,\n  emptyView() {\n    if (this.collection.length && this.state.get('searchQuery')) {\n      return EmptyFindInListView;\n    }\n\n    return EmptyView;\n  },\n  collectionEvents: {\n    'change:name': 'sort',\n  },\n  childViewTriggers: {\n    'render': 'listItem:render',\n  },\n  viewComparator({ model }) {\n    return String(model.get('name')).toLowerCase();\n  },\n  initialize({ state }) {\n    this.state = state;\n\n    this.listenTo(state, 'change:searchQuery', this.searchList);\n  },\n  onAttach() {\n    this.searchList(null, this.state.get('searchQuery'));\n  },\n  onListItemRender(view) {\n    view.searchString = view.$el.text();\n  },\n  onRenderChildren() {\n    this.triggerMethod('filtered', this.children.pluck('model'));\n  },\n  searchList(state, searchQuery) {\n    if (!searchQuery) {\n      this.removeFilter();\n      return;\n    }\n\n    const matchers = buildMatchersArray(searchQuery);\n\n    this.setFilter(function({ searchString }) {\n      return every(matchers, function(matcher) {\n        return matcher.test(searchString);\n      });\n    });\n  },\n});\n\nexport {\n  LayoutView,\n  ListView,\n};\n","\n            import HandlebarsRuntime from 'handlebars/runtime';\n            export default HandlebarsRuntime.template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"name\")), depth0))\n    + \"</div><div class=\\\"flex-grow\\\" data-name-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"email\")), depth0))\n    + \"</div><div class=\\\"flex-grow\\\" data-email-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"role\")), depth0))\n    + \"</div><div class=\\\"modal__form-component\\\" data-role-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"team\")), depth0))\n    + \"</div><div class=\\\"modal__form-component\\\" data-team-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"workspaces\")), depth0))\n    + \"</div><div class=\\\"modal__form-component list-manager__wrapper\\\" data-workspaces-region></div></div>\\n\";\n},\"useData\":true});\n          ","import { extend } from 'underscore';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\nimport { mixinState } from 'marionette.toolkit';\n\nimport 'scss/modules/modals.scss';\n\nimport intl from 'js/i18n';\nimport trim from 'js/utils/formatting/trim';\n\nimport { WorkspacesComponent, TeamComponent, RoleComponent } from 'js/views/clinicians/shared/clinicians_views';\n\nimport InputFocusBehavior from 'js/behaviors/input-focus';\nimport ClinicianModalTemplate from './clinician-modal.hbs';\n\nconst i18n = intl.clinicians.clinicianModal.clinicianModalViews;\n\nconst InputView = View.extend({\n  behaviors() {\n    if (!this.getOption('shouldFocus')) return;\n\n    return [\n      {\n        behaviorClass: InputFocusBehavior,\n        selector: '.js-input',\n      },\n    ];\n  },\n  className: 'pos--relative',\n  template: hbs`\n    <input class=\"input-primary w-100 js-input {{#if hasError}}has-error{{/if}}\" placeholder=\"{{ placeholder }}\" value=\"{{ value }}\" />\n  `,\n  templateContext() {\n    const errors = this.getOption('state').get('errors');\n\n    return {\n      hasError: errors && errors[this.getOption('attr')],\n      placeholder: this.getOption('placeholder'),\n      value: this.model.get(this.getOption('attr')),\n    };\n  },\n  ui: {\n    input: '.js-input',\n  },\n  events: {\n    'input @ui.input': 'onChange',\n  },\n  initialize({ state }) {\n    this.listenTo(state, 'change:errors', this.render);\n  },\n  onChange() {\n    const text = this.ui.input.val();\n    this.model.set(this.getOption('attr'), trim(text));\n  },\n  onDomRefresh() {\n    if (this.getOption('shouldFocus')) {\n      this.ui.input.focus();\n    }\n  },\n});\n\nconst ClinicianModal = View.extend({\n  className: 'modal__content',\n  regions: {\n    name: '[data-name-region]',\n    email: '[data-email-region]',\n    role: '[data-role-region]',\n    team: '[data-team-region]',\n    workspaces: '[data-workspaces-region]',\n  },\n  modelEvents: {\n    'change': 'onChange',\n  },\n  template: ClinicianModalTemplate,\n  initialize({ state }) {\n    this.initState({ state });\n  },\n  onRender() {\n    this.showNameView();\n    this.showEmailView();\n    this.showRole();\n    this.showTeam();\n    this.showWorkspacesComponent();\n  },\n  showNameView() {\n    this.showChildView('name', new InputView({\n      model: this.model,\n      state: this.getState(),\n      attr: 'name',\n      placeholder: i18n.clinicianModal.name,\n      shouldFocus: true,\n    }));\n  },\n  showEmailView() {\n    this.showChildView('email', new InputView({\n      model: this.model,\n      state: this.getState(),\n      attr: 'email',\n      placeholder: i18n.clinicianModal.email,\n    }));\n  },\n  showRole() {\n    const roleComponent = new RoleComponent({\n      role: this.model.getRole(),\n      className: 'modal__form-component',\n    });\n\n    this.listenTo(roleComponent, 'change:role', role => {\n      this.model.set('_role', role.id);\n    });\n\n    this.showChildView('role', roleComponent);\n  },\n  showTeam() {\n    const teamComponent = new TeamComponent({\n      team: this.model.get('_team'),\n      className: 'modal__form-component',\n    });\n\n    this.listenTo(teamComponent, 'change:team', team => {\n      this.model.set('_team', team.id);\n    });\n\n    this.showChildView('team', teamComponent);\n  },\n  showWorkspacesComponent() {\n    const workspacesManager = this.showChildView('workspaces', new WorkspacesComponent({\n      className: 'modal__form-component',\n      workspaces: Radio.request('bootstrap', 'workspaces'),\n      member: this.model,\n    }));\n\n    this.listenTo(workspacesManager, {\n      'add:member'(clinician, workspace) {\n        this.model.addWorkspace(workspace);\n      },\n      'remove:member'(clinician, workspace) {\n        this.model.removeWorkspace(workspace);\n      },\n    });\n  },\n});\n\nmixinState(ClinicianModal);\n\nfunction getClinicianModal(opts) {\n  const clinician = opts.clinician;\n  const bodyView = new ClinicianModal({\n    model: clinician,\n  });\n\n  return extend({\n    bodyView,\n    headerIcon: 'users-gear',\n  }, i18n.clinicianModal, opts);\n}\n\nexport {\n  getClinicianModal,\n};\n","import { values } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport SubRouterApp from 'js/base/subrouterapp';\n\nimport intl from 'js/i18n';\n\nimport SearchComponent from 'js/views/shared/components/list-search';\n\nimport { ListView, LayoutView } from 'js/views/clinicians/clinicians-all_views';\nimport { getClinicianModal } from 'js/views/clinicians/clinician-modal/clinician-modal_views';\n\nexport default SubRouterApp.extend({\n  routerAppName: 'CliniciansApp',\n  eventRoutes: {\n    'clinician': 'showClinicianSidebar',\n  },\n  viewEvents: {\n    'click:addClinician': 'onClickAddClinician',\n  },\n  stateEvents: {\n    'change:searchQuery': 'onChangSearchQuery',\n  },\n  onChangSearchQuery(state) {\n    this.currentSearchQuery = state.get('searchQuery');\n  },\n  onBeforeStart() {\n    this.showView(new LayoutView());\n    this.getRegion('list').startPreloader();\n\n    this.setState({ searchQuery: this.currentSearchQuery });\n\n    this.showSearchView();\n  },\n  beforeStart() {\n    return Radio.request('entities', 'fetch:clinicians:collection');\n  },\n  onStart({ currentRoute }, clinicians) {\n    this.clinicians = clinicians;\n\n    this.showChildView('list', new ListView({\n      collection: this.clinicians,\n      state: this.getState(),\n    }));\n\n    this.startRoute(currentRoute);\n  },\n  _getClinician(clinicianId) {\n    if (!clinicianId) {\n      return Radio.request('entities', 'clinicians:model', {\n        enabled: true,\n        disabled_at: null,\n      });\n    }\n\n    return this.clinicians.get(clinicianId);\n  },\n  showSearchView() {\n    const searchComponent = this.showChildView('search', new SearchComponent({\n      state: {\n        query: this.getState('searchQuery'),\n      },\n    }));\n\n    this.listenTo(searchComponent.getState(), 'change:query', this.setSearchState);\n  },\n  setSearchState(state, searchQuery) {\n    this.setState({\n      searchQuery: searchQuery.length > 2 ? searchQuery : '',\n    });\n  },\n  showClinicianSidebar(clinicianId) {\n    const clinician = this._getClinician(clinicianId);\n\n    if (!clinician) {\n      Radio.request('alert', 'show:error', intl.clinicians.cliniciansAllApp.notFound);\n      Radio.trigger('event-router', 'clinicians:all');\n      return;\n    }\n\n    Radio.request('sidebar', 'start', 'clinician', { clinician });\n\n    clinician.trigger('editing', true);\n  },\n  onClickAddClinician() {\n    this.showAddModal();\n  },\n  showAddModal() {\n    const clinician = this._getClinician();\n    const clinicianClone = clinician.clone();\n    const clinicianModal = Radio.request('modal', 'show', getClinicianModal({\n      clinician: clinicianClone,\n      onSubmit: () => {\n        clinicianModal.disableSubmit();\n        clinician.saveAll(clinicianClone.attributes)\n          .then(() => {\n            this.clinicians.add(clinician);\n            Radio.trigger('event-router', 'clinician', clinician.id);\n            clinicianModal.destroy();\n          })\n          .catch(error => {\n            clinicianModal.disableSubmit();\n            const errors = clinician.parseErrors(error.responseData);\n\n            clinicianModal.getChildView('body').setState({ errors });\n            Radio.request('alert', 'show:error', values(errors).join(', '));\n          });\n      },\n    }));\n\n    clinicianModal.disableSubmit();\n    clinicianModal.listenTo(clinicianClone, {\n      'change'() {\n        clinicianModal.disableSubmit(!clinicianClone.isValid());\n      },\n    });\n  },\n});\n","import RouterApp from 'js/base/routerapp';\n\nimport CliniciansAllApp from 'js/apps/clinicians/clinicians-all_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'CliniciansApp',\n\n  childApps: {\n    cliniciansAll: CliniciansAllApp,\n  },\n\n  eventRoutes: {\n    'clinicians:all': {\n      action: 'showCliniciansAll',\n      route: 'clinicians',\n      isList: true,\n    },\n    'clinician': {\n      action: 'showCliniciansAll',\n      route: 'clinicians/:id',\n    },\n    'clinician:new': {\n      action: 'showCliniciansAll',\n      route: 'clinicians/new',\n    },\n  },\n\n  showCliniciansAll() {\n    this.startRoute('cliniciansAll');\n  },\n});\n"],"names":["RowBehavior","Behavior","isEditing","EmptyView","View","_Handlebars2","container","depth0","helpers","partials","data","stack1","lookupProperty","parent","propertyName","EmptyFindInListView","ItemView","helper","alias1","alias2","alias3","alias4","sortBy","map","Radio","isActive","selectedId","stateComponent","StateComponent","selected","roleComponent","RoleComponent","role","teamComponent","TeamComponent","team","LayoutView","PreloadRegion","ListView","CollectionView","model","state","view","searchQuery","matchers","buildMatchersArray","searchString","every","matcher","HandlebarsRuntime","i18n","intl","InputView","InputFocusBehavior","errors","text","trim","ClinicianModal","ClinicianModalTemplate","workspacesManager","WorkspacesComponent","clinician","workspace","mixinState","getClinicianModal","opts","bodyView","extend","CliniciansAllApp","SubRouterApp","currentRoute","clinicians","clinicianId","searchComponent","SearchComponent","clinicianClone","clinicianModal","error","values","cliniciansMain_app","RouterApp"],"mappings":"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"}