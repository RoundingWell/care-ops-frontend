{"version":3,"file":"20230623-outreach-88c91510a5be72b1b71d.js","mappings":"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","sources":["webpack://care-ops-frontend/./src/js/base/routerapp.js","webpack://care-ops-frontend/./src/js/behaviors/iframe-form.js","webpack://care-ops-frontend/./src/js/outreach/entities/index.js","webpack://care-ops-frontend/./src/js/outreach/views/login_views.js","webpack://care-ops-frontend/./src/js/outreach/views/dialog_views.js","webpack://care-ops-frontend/./src/js/outreach/apps/login_app.js","webpack://care-ops-frontend/./src/js/outreach/views/form_views.js","webpack://care-ops-frontend/./src/js/outreach/apps/form_app.js","webpack://care-ops-frontend/./src/js/outreach/views/opt-in_views.js","webpack://care-ops-frontend/./src/js/outreach/apps/opt-in_app.js","webpack://care-ops-frontend/./src/js/outreach/index.js","webpack://care-ops-frontend/./node_modules/backbone.eventrouter/dist/backbone.eventrouter.js"],"sourcesContent":["import { extend, isEqual, isFunction, partial, reduce, rest, result, reject, uniqueId, union } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport EventRouter from 'backbone.eventrouter';\nimport App from './app';\n\n\n// TODO: Move these modifications to backbone.eventrouter\nconst AppEventRouter = EventRouter.extend({\n  initialize() {\n    this.cid = uniqueId('bber');\n  },\n  route() {\n    const route = EventRouter.prototype.route.apply(this, arguments);\n    Backbone.history.handlers[0].cid = this.cid;\n    return route;\n  },\n  destroy() {\n    Backbone.history.handlers = reject(Backbone.history.handlers, { cid: this.cid });\n    this.stopListening();\n    this.trigger('destroy', this);\n    return this;\n  },\n  _isTriggeredFromRoute() {\n    const currentRoute = this._getCurrentRouteTrigger();\n\n    if (arguments.length !== currentRoute.length) {\n      return false;\n    }\n    // NOTE: fixes `this.currentRoute` error in `Backbone.EventRouter`\n    return (arguments.length === union(arguments, currentRoute).length);\n  },\n});\n\nexport default App.extend({\n  // Set in router apps for nav selection\n  routerAppName: '',\n\n  constructor: function() {\n    this.initRouter();\n\n    // if the app does not handle a given route, stop\n    this.listenTo(this.router, 'noMatch', this.onNoMatch);\n\n    this.on('before:stop', this.stopCurrent);\n\n    App.apply(this, arguments);\n  },\n\n  initRouter() {\n    this._routes = result(this, 'eventRoutes');\n\n    const routeTriggers = this.getRouteTriggers();\n\n    this.router = new AppEventRouter({ routeTriggers });\n\n    this.on('before:destroy', () => this.router.destroy());\n\n    this.bindRouteEvents();\n  },\n\n  onNoMatch() {\n    this.stop();\n    this._currentRoute = null;\n  },\n\n  // For each route in the hash creates a routeTriggers hash\n  getRouteTriggers() {\n    const currentWorkspace = Radio.request('bootstrap', 'currentWorkspace');\n    return reduce(this._routes, function(routeTriggers, { route, root }, eventName) {\n      if (root) {\n        routeTriggers[eventName] = route;\n        return routeTriggers;\n      }\n\n      const workspace = currentWorkspace.get('slug');\n      routeTriggers[eventName] = route ? `${ workspace }/${ route }` : workspace;\n\n      return routeTriggers;\n    }, {});\n  },\n\n  getEventActions(eventRoutes, routeAction) {\n    return reduce(eventRoutes, function(eventActions, { action }, eventName) {\n      eventActions[eventName] = partial(routeAction, eventName, action);\n\n      return eventActions;\n    }, {});\n  },\n\n  // handle route events\n  // accepts a hash of 'some:event' : 'actionFunction'\n  // listens to the router channel and calls the appropriate\n  // action via the routeAction handler\n  bindRouteEvents() {\n    const eventActions = this.getEventActions(this._routes, this.routeAction);\n\n    this.listenTo(this.router.getChannel(), eventActions);\n  },\n\n  // applies the route's action\n  // starts this routerapp if necessary\n  // triggers before and after events\n  routeAction(event, action, ...args) {\n    if (!this.isRunning()) {\n      this.start();\n    }\n\n    this.triggerMethod('before:appRoute', event, ...args);\n\n    Radio.request('nav', 'select', this.routerAppName, event, args);\n    Radio.request('sidebar', 'close');\n\n    this.setLatestList(event, args);\n\n    this._currentRoute = {\n      event,\n      eventArgs: args,\n    };\n\n    if (!isFunction(action)) {\n      action = this[action];\n    }\n\n    action.apply(this, args);\n\n    this.triggerMethod('appRoute', event, ...args);\n  },\n\n  setLatestList(event, eventArgs) {\n    if (this._routes[event].isList) {\n      Radio.request('history', 'set:latestList', event, eventArgs);\n      return;\n    }\n\n    if (!this._routes[event].clearLatestList) return;\n\n    Radio.request('history', 'set:latestList', false);\n  },\n\n  // handler that ensures one running app\n  startCurrent(appName, options) {\n    this.stopCurrent();\n\n    this._currentAppName = appName;\n    this._currentAppOptions = options;\n\n    options = extend({\n      currentRoute: this._currentRoute,\n    }, options);\n\n    const app = this.startChildApp(appName, options);\n\n    this._current = app;\n\n    return app;\n  },\n\n  startRoute(appName, options) {\n    if (this.isCurrent(appName, options)) {\n      return this.getCurrent().startRoute(this.getCurrentRoute());\n    }\n    return this.startCurrent(appName, options);\n  },\n\n  getCurrent() {\n    return this._current;\n  },\n\n  isCurrent(appName, options) {\n    return (appName === this._currentAppName)\n      && (isEqual(options, this._currentAppOptions));\n  },\n\n  getCurrentRoute() {\n    return this._currentRoute;\n  },\n\n  stopCurrent() {\n    if (!this._current) return;\n\n    this._current.stop();\n    this._current = null;\n    this._currentAppName = null;\n    this._currentAppOptions = null;\n  },\n\n  // takes an event and translates data into the applicable url fragment\n  translateEvent(event) {\n    const route = this.router.getDefaultRoute(event);\n\n    return this.router.translateRoute(route, rest(arguments));\n  },\n\n  // takes an event and changes the URL without triggering or adding to the history\n  replaceRoute() {\n    const url = this.translateEvent.apply(this, arguments);\n\n    this.replaceUrl(url);\n  },\n\n  navigateRoute() {\n    const url = this.translateEvent.apply(this, arguments);\n\n    Backbone.history.navigate(url, { trigger: false });\n  },\n\n  replaceUrl(url) {\n    Backbone.history.navigate(url, { trigger: false, replace: true });\n  },\n});\n","import $ from 'jquery';\nimport { keys } from 'underscore';\nimport Radio from 'backbone.radio';\nimport { Behavior } from 'marionette';\n\nexport default Behavior.extend({\n  ui: {\n    iframe: 'iframe',\n  },\n  onInitialize() {\n    this.channel = Radio.channel(`form${ this.view.model.id }`);\n  },\n  replies: {\n    send(message, args = {}) {\n      const iframeWindow = this.ui.iframe[0].contentWindow;\n      iframeWindow.postMessage({ message, args }, window.origin);\n    },\n    focus() {\n      Radio.trigger('user-activity', 'iframe:focus', this.ui.iframe[0]);\n    },\n  },\n  onAttach() {\n    this.channel.reply(this.replies, this);\n\n    $(window).on('message', ({ originalEvent }) => {\n      const { data, origin } = originalEvent;\n      /* istanbul ignore next: security check */\n      if (origin !== window.origin || !data || !data.message) return;\n\n      this.channel.request(data.message, data.args);\n    });\n  },\n  onBeforeDetach() {\n    $(window).off('message');\n    this.channel.stopReplying(keys(this.replies).join(' '));\n  },\n});\n","import Radio from 'backbone.radio';\nimport fetcher, { handleJSON } from 'js/base/fetch';\nimport { v4 as uuid } from 'uuid';\n\nfunction getRelationship(id, type) {\n  return { data: { type, id } };\n}\n\nlet token;\n\nRadio.reply('auth', {\n  setToken(tokenString) {\n    token = tokenString;\n  },\n  getToken() {\n    return token;\n  },\n});\n\nfunction getToken({ dob, actionId }) {\n  const data = {\n    type: 'patient-tokens',\n    id: uuid(),\n    attributes: {\n      reason: 'outreach',\n      birth_date: dob,\n    },\n    relationships: {\n      action: getRelationship(actionId, 'patient-actions'),\n    },\n  };\n\n  return fetcher('/api/patient-tokens', {\n    method: 'POST',\n    data: JSON.stringify({ data }),\n  })\n    .then(handleJSON)\n    .then(({ data: { attributes } }) => {\n      Radio.request('auth', 'setToken', attributes.token);\n      return Promise.resolve(attributes.token);\n    });\n}\n\nfunction optInPostRequest({ inputData }) {\n  const data = {\n    first_name: inputData.get('firstName'),\n    last_name: inputData.get('lastName'),\n    birth_date: inputData.get('dob'),\n    phone: inputData.get('phone'),\n    email: inputData.get('email'),\n  };\n\n  return fetcher('/api/outreach/opt-in', {\n    method: 'POST',\n    data: JSON.stringify({ data }),\n  })\n    .then(handleJSON);\n}\n\nfunction postResponse({ formId, actionId, response }) {\n  const data = {\n    type: 'form-responses',\n    id: uuid(),\n    attributes: { response },\n    relationships: {\n      action: getRelationship(actionId, 'patient-actions'),\n      form: getRelationship(formId, 'forms'),\n    },\n  };\n\n  return fetcher(`/api/actions/${ actionId }/relationships/form-responses`, {\n    method: 'POST',\n    data: JSON.stringify({ data }),\n  })\n    .then(handleJSON);\n}\n\nexport {\n  getToken,\n  postResponse,\n  optInPostRequest,\n};\n","import hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\n\nconst LoginView = View.extend({\n  ui: {\n    date: '.js-date',\n    submit: '.js-submit',\n  },\n  triggers: {\n    'change @ui.date': 'change:date',\n    'blur @ui.date': 'blur:date',\n    'click @ui.submit': 'click:submit',\n  },\n  modelEvents: {\n    'change:hasError': 'render',\n  },\n  template: hbs`\n    <div class=\"dialog__icon\">{{far \"lock-keyhole\"}}</div>\n    <div>Enter your date of birth to access this form.</div>\n    <div><input type=\"date\" class=\"js-date dialog__input{{#if hasError}} has-error{{/if}}\" required pattern=\"\\d{4}-\\d{2}-\\d{2}\" placeholder=\"Your Date of Birth\" value=\"{{ dob }}\"></div>\n    {{#if hasError}}<div class=\"dialog__error\">That date of birth does not match our records. Please try again.</div>{{/if}}\n    <div><button class=\"button--green dialog__button js-submit\" {{#unless dob}}disabled{{/unless}}>Continue to Form {{fas \"right-to-bracket\"}}</button></div>\n  `,\n  onChangeDate() {\n    const dob = this.ui.date.val();\n    this.model.set({ dob });\n    this.ui.submit.prop('disabled', !dob);\n  },\n  onBlurDate() {\n    this.model.set({ hasError: false });\n  },\n});\n\nconst ResponseErrorView = View.extend({\n  template: hbs`\n    <div class=\"dialog__icon--success\">{{fas \"circle-check\"}}</div>\n    <div>This form has already been submitted.</div>\n  `,\n});\n\nconst NotAvailableView = View.extend({\n  template: hbs`\n    <div class=\"dialog__icon--warn\">{{far \"octagon-minus\"}}</div>\n    <div>This form is no longer shared. Nothing else to do here.</div>\n  `,\n});\n\nexport {\n  LoginView,\n  ResponseErrorView,\n  NotAvailableView,\n};\n","import hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport { appConfig } from 'js/config';\n\nimport './dialog.scss';\n\nconst DialogView = View.extend({\n  template: hbs`\n    <div><h1 class=\"site-title\">{{ name }}</h1></div>\n    <div class=\"dialog\" data-content-region>\n      <div class=\"dialog__icon--success\">{{fas \"circle-check\"}}</div>\n      <div>You’ve submitted the form. Nice job.</div>\n    </div>\n  `,\n  templateContext() {\n    return {\n      name: appConfig.name,\n    };\n  },\n  regions: {\n    content: '[data-content-region]',\n  },\n});\n\nconst ErrorView = View.extend({\n  template: hbs`\n    <div class=\"dialog__icon--error\">{{far \"circle-exclamation\"}}</div>\n    <div>Uh-oh, there was an error. Try reloading the page.</div>\n  `,\n});\n\nexport {\n  DialogView,\n  ErrorView,\n};\n\n","import App from 'js/base/app';\n\nimport { getToken } from 'js/outreach/entities';\n\nimport {\n  LoginView,\n  ResponseErrorView,\n  NotAvailableView,\n} from 'js/outreach/views/login_views';\n\nimport {\n  DialogView,\n  ErrorView,\n} from 'js/outreach/views/dialog_views';\n\nexport default App.extend({\n  onStart({ actionId }) {\n    const dialogView = new DialogView();\n\n    this.showLogin(actionId, dialogView.getRegion('content'));\n\n    this.showView(dialogView);\n  },\n  showLogin(actionId, region) {\n    const loginView = new LoginView({ model: this.getState() });\n\n    this.listenTo(loginView, 'click:submit', () => {\n      getToken({ actionId, dob: this.getState('dob') })\n        .then(() => {\n          this.stop({ isAuthed: true });\n        })\n        .catch(response => {\n          switch (response.status) {\n            case 400:\n              this.setState({ hasError: true });\n              break;\n            case 409:\n              region.show(new ResponseErrorView());\n              break;\n            case 404:\n            case 403:\n            case 401:\n              region.show(new NotAvailableView());\n              break;\n            default:\n              region.show(new ErrorView());\n              break;\n          }\n        });\n    });\n\n    region.show(loginView);\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport IframeFormBehavior from 'js/behaviors/iframe-form';\n\nimport 'scss/modules/buttons.scss';\nimport './form.scss';\n\nconst iFrameFormView = View.extend({\n  behaviors: [IframeFormBehavior],\n  regions: {\n    formAction: '[data-action-region]',\n  },\n  template: hbs`\n  <div class=\"form__header\">\n    <div class=\"form__title\">{{ name }}</div>\n    <div data-action-region></div>\n  </div>\n  <div class=\"form__content\">\n    <iframe src=\"/formapp/\"></iframe>\n  </div>\n  `,\n});\n\nconst SaveView = View.extend({\n  isDisabled: false,\n  tagName: 'button',\n  className: 'button--green',\n  attributes() {\n    return {\n      disabled: this.getOption('isDisabled'),\n    };\n  },\n  template: hbs`Save`,\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    this.$el.prop('disabled', true);\n  },\n});\n\nexport {\n  iFrameFormView,\n  SaveView,\n};\n","import { get, map } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { postResponse } from 'js/outreach/entities';\n\nimport {\n  iFrameFormView,\n  SaveView,\n} from 'js/outreach/views/form_views';\n\nimport {\n  DialogView,\n  ErrorView,\n} from 'js/outreach/views/dialog_views';\n\nexport default App.extend({\n  beforeStart({ actionId }) {\n    return [\n      Radio.request('entities', 'fetch:forms:byAction', actionId),\n      Radio.request('entities', 'fetch:forms:definition:byAction', actionId),\n      Radio.request('entities', 'fetch:forms:fields', actionId),\n    ];\n  },\n  /* istanbul ignore next: Don't handle non-API errors */\n  onFail() {\n    const dialogView = new DialogView();\n    dialogView.showChildView('content', new ErrorView());\n    this.showView(dialogView);\n  },\n  onStart({ actionId }, form, definition, fields) {\n    this.actionId = actionId;\n    this.form = form;\n    this.definition = definition;\n    this.fields = fields;\n    this.setView(new iFrameFormView({ model: this.form }));\n    this.startService();\n    this.showFormSaveDisabled();\n    this.showView();\n  },\n  startService() {\n    this.channel = Radio.channel(`form${ this.form.id }`);\n\n    this.channel.reply({\n      'ready:form': this.showFormSave,\n      'submit:form': this.submitForm,\n      'fetch:form:data': this.getFormPrefill,\n    }, this);\n  },\n  getFormPrefill() {\n    this.channel.request('send', 'fetch:form:data', {\n      definition: this.definition,\n      formData: get(this.fields, 'data.attributes'.split('.'), {}),\n      formSubmission: {},\n      ...this.form.getContext(),\n    });\n  },\n  showFormSaveDisabled() {\n    if (this.form.isReadOnly()) return;\n    this.showChildView('formAction', new SaveView({ isDisabled: true }));\n  },\n  showFormSave() {\n    if (this.form.isReadOnly()) return;\n    const saveView = this.showChildView('formAction', new SaveView());\n\n    this.listenTo(saveView, 'click', () => {\n      this.channel.request('send', 'form:submit');\n    });\n  },\n  submitForm({ response }) {\n    postResponse({\n      formId: this.form.id,\n      actionId: this.actionId,\n      response,\n    })\n      .then(/* istanbul ignore next: Skipping flaky portion of Outreach > Form test */\n        () => {\n          this.showView(new DialogView());\n        })\n      .catch(async res => {\n        const responseData = await res.json();\n        this.showFormSave();\n        /* istanbul ignore next: Don't handle non-API errors */\n        if (!responseData) return;\n        const errors = map(responseData.errors, 'detail');\n        this.channel.request('send', 'form:errors', errors);\n      });\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/forms.scss';\n\nimport './opt-in.scss';\n\nconst OptInView = View.extend({\n  template: hbs`\n    <div class=\"opt-in__icon opt-in__icon--warn\">{{fat \"hand-wave\"}}</div>\n    <h2 class=\"opt-in__heading-text\">Hi, we need to confirm your contact info. Please enter your information below, so that we can share health resources with you.</h2>\n    <div class=\"opt-in__field\">\n      <label class=\"opt-in__field-label\">Your first name</label>\n      <input\n        type=\"text\"\n        class=\"input-primary opt-in__field-input js-first-name\"\n        placeholder=\"Enter your first name\"\n        value=\"{{ firstName }}\"\n      />\n    </div>\n    <div class=\"opt-in__field\">\n      <label class=\"opt-in__field-label\">Your last name</label>\n      <input\n        type=\"text\"\n        class=\"input-primary opt-in__field-input js-last-name\"\n        placeholder=\"Enter your last name\"\n        value=\"{{ lastName }}\"\n      />\n    </div>\n    <div class=\"opt-in__field\">\n      <label class=\"opt-in__field-label\">Your date of birth</label>\n      <input\n        type=\"date\"\n        class=\"input-primary opt-in__field-input js-dob\"\n        placeholder=\"Enter your date of birth\"\n        value=\"{{ dob }}\"\n      />\n    </div>\n    <h3 class=\"opt-in__heading-text u-margin--t-32 u-margin--b-16\">How may we share health resources with you?</h3>\n    <div class=\"opt-in__field\">\n      <label class=\"opt-in__field-label\">Your mobile phone number</label>\n      <input\n        type=\"text\"\n        class=\"input-primary opt-in__field-input js-phone\"\n        placeholder=\"Enter mobile phone number\"\n        value=\"{{ phone }}\"\n      />\n    </div>\n    <div class=\"opt-in__field\">\n      <label class=\"opt-in__field-label\">Your email address</label>\n      <input\n        type=\"text\"\n        class=\"input-primary opt-in__field-input js-email\"\n        placeholder=\"Enter email address\"\n        value=\"{{ email }}\"\n      />\n    </div>\n    <p class=\"opt-in__disclaimer\">By clicking Submit you agree to receive SMS text message notifications. You may opt out at any time.</p>\n    <button class=\"opt-in__submit button--green w-100 js-submit\" disabled>Submit</button>\n  `,\n  ui: {\n    firstName: '.js-first-name',\n    lastName: '.js-last-name',\n    dob: '.js-dob',\n    phone: '.js-phone',\n    email: '.js-email',\n    submit: '.js-submit',\n  },\n  triggers: {\n    'input @ui.firstName': 'change:first:name',\n    'input @ui.lastName': 'change:last:name',\n    'input @ui.dob': 'change:dob',\n    'input @ui.phone': 'change:phone',\n    'input @ui.email': 'change:email',\n    'click @ui.submit': 'click:submit',\n  },\n  onRender() {\n    this.setSubmitButtonState();\n  },\n  onChangeFirstName() {\n    this.model.set({ firstName: this.ui.firstName.val() });\n    this.setSubmitButtonState();\n  },\n  onChangeLastName() {\n    this.model.set({ lastName: this.ui.lastName.val() });\n    this.setSubmitButtonState();\n  },\n  onChangeDob() {\n    this.model.set({ dob: this.ui.dob.val() });\n    this.setSubmitButtonState();\n  },\n  onChangePhone() {\n    this.model.set({ phone: this.ui.phone.val() });\n    this.setSubmitButtonState();\n  },\n  onChangeEmail() {\n    this.model.set({ email: this.ui.email.val() });\n    this.setSubmitButtonState();\n  },\n  disableSubmitButton() {\n    this.ui.submit.prop('disabled', true);\n  },\n  enableSubmitButton() {\n    this.ui.submit.prop('disabled', false);\n  },\n  setSubmitButtonState() {\n    const firstName = this.ui.firstName.val();\n    const lastName = this.ui.lastName.val();\n    const dob = this.ui.dob.val();\n    const phone = this.ui.phone.val();\n    const email = this.ui.email.val();\n\n    if (!firstName || !lastName || !dob) {\n      this.disableSubmitButton();\n      return;\n    }\n\n    if (!phone && !email) {\n      this.disableSubmitButton();\n      return;\n    }\n\n    this.enableSubmitButton();\n  },\n  onClickSubmit() {\n    this.disableSubmitButton();\n  },\n});\n\nconst ResponseSuccessView = View.extend({\n  template: hbs`\n    <div class=\"opt-in__icon opt-in__icon--success\">{{fat \"thumbs-up\"}}</div>\n    <div class=\"opt-in__heading-text\">Your contact info is confirmed. Thanks for doing that. We’ll notify you when we have a health resource to share with you.</div>\n  `,\n});\n\nconst ResponseErrorView = View.extend({\n  template: hbs`\n    <div class=\"opt-in__icon opt-in__icon--error\">{{fat \"octagon-exclamation\"}}</div>\n    <div class=\"opt-in__heading-text\">We were not able to confirm your contact info. Sorry about that. Please contact your care team.</div>\n    <div class=\"opt-in__heading-text u-text-link js-try-again\">Try again</div>\n  `,\n  triggers: {\n    'click .js-try-again': 'click:tryAgain',\n  },\n});\n\nexport {\n  OptInView,\n  ResponseSuccessView,\n  ResponseErrorView,\n};\n","import Backbone from 'backbone';\nimport App from 'js/base/app';\n\nimport { optInPostRequest } from 'js/outreach/entities';\n\nimport {\n  OptInView,\n  ResponseSuccessView,\n  ResponseErrorView,\n} from 'js/outreach/views/opt-in_views';\n\nimport {\n  DialogView,\n} from 'js/outreach/views/dialog_views';\n\nconst StateModel = Backbone.Model.extend({\n  defaults: {\n    firstName: '',\n    lastName: '',\n    dob: '',\n    phone: '',\n    email: '',\n  },\n});\n\nexport default App.extend({\n  StateModel,\n  onStart() {\n    const dialogView = new DialogView();\n    this.showView(dialogView);\n\n    this.showOptInView();\n  },\n  showOptInView() {\n    const optInView = new OptInView({ model: this.getState() });\n\n    this.listenTo(optInView, 'click:submit', () => {\n      optInPostRequest({\n        inputData: this.getState(),\n      })\n        .then(() => {\n          this.showResponseSuccessView();\n        })\n        .catch(() => {\n          this.showResponseErrorView();\n        });\n    });\n\n    this.showChildView('content', optInView);\n  },\n  showResponseSuccessView() {\n    const responseSuccessView = new ResponseSuccessView();\n    this.showChildView('content', responseSuccessView);\n  },\n  showResponseErrorView() {\n    const responseErrorView = new ResponseErrorView();\n\n    this.listenTo(responseErrorView, 'click:tryAgain', () => {\n      this.showOptInView();\n    });\n\n    this.showChildView('content', responseErrorView);\n  },\n});\n","import $ from 'jquery';\nimport 'js/base/setup';\nimport Backbone from 'backbone';\nimport 'js/base/fontawesome';\nimport 'js/entities-service/forms';\n\nimport RouterApp from 'js/base/routerapp';\n\nimport LoginApp from 'js/outreach/apps/login_app';\nimport FormApp from 'js/outreach/apps/form_app';\nimport OptInApp from 'js/outreach/apps/opt-in_app';\n\nimport 'scss/outreach-core.scss';\nimport './outreach.scss';\n\nconst OutreachApp = RouterApp.extend({\n  childApps: {\n    login: LoginApp,\n    form: FormApp,\n    optIn: OptInApp,\n  },\n  routerAppName: 'PatientsApp',\n  eventRoutes: {\n    'outreach': {\n      action: 'show',\n      route: 'outreach/:id',\n      root: true,\n    },\n    'outreach:opt:in': {\n      action: 'showOptIn',\n      route: 'outreach/opt-in',\n      root: true,\n    },\n  },\n  showOptIn() {\n    this.startCurrent('optIn');\n  },\n  show(actionId) {\n    this.actionId = actionId;\n\n    this.startLogin();\n  },\n  startLogin() {\n    const loginApp = this.startCurrent('login', { actionId: this.actionId });\n\n    this.listenTo(loginApp, 'stop', () => {\n      // NOTE: Future non-authed stop if (!isAuthed) return;\n      this.startForm();\n    });\n  },\n  startForm() {\n    this.startCurrent('form', { actionId: this.actionId });\n  },\n});\n\nfunction startOutreachApp() {\n  // Modify viewport for mobile devices at full width\n  $('meta[name=viewport]').attr('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0');\n  new OutreachApp({ region: { el: document.getElementById('root') } });\n  Backbone.history.start({ pushState: true });\n}\n\nexport {\n  startOutreachApp,\n};\n","/**\n * backbone.eventrouter - A highly opinionated, simplistic Backbone.Router coupled with a Backbone.Radio.Channel\n * @version v1.0.1\n * @link https://github.com/RoundingWellOS/backbone.eventrouter\n * @license MIT\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('underscore'), require('backbone'), require('backbone.radio')) :\n  typeof define === 'function' && define.amd ? define(['underscore', 'backbone', 'backbone.radio'], factory) :\n  (global.Backbone = global.Backbone || {}, global.Backbone.EventRouter = factory(global._,global.Backbone,global.Radio));\n}(this, function (_,Backbone,backbone_radio) { 'use strict';\n\n  _ = 'default' in _ ? _['default'] : _;\n  Backbone = 'default' in Backbone ? Backbone['default'] : Backbone;\n\n  // eslint-disable-line\n\n  // https://github.com/jashkenas/backbone/blob/1.2.1/backbone.js#L1425\n  var namedParamRegex = /(\\(\\?)?:\\w+/;\n\n  /**\n   * Backbone.Router coupled with a Backbone.Radio Channel.\n   *\n   * @public\n   * @class EventRouter\n   * @memberOf Backbone\n   */\n  var EventRouter = Backbone.EventRouter = Backbone.Router.extend({\n\n    /**\n     * @public\n     * @constructs EventRouter\n     * @param {Object} [options] - Settings for the EventRouter\n     * @param {Boolean} [options.channelName]\n     * @param {Boolean} [options.routeTriggers]\n     */\n    constructor: function constructor(options) {\n      _.extend(this, _.pick(options, ['channelName', 'routeTriggers']));\n\n      this._ch = Backbone.Radio.channel(_.result(this, 'channelName'));\n\n      this.listenTo(this._ch, 'all', this.navigateFromEvent);\n\n      // Backbone.Router routes are added first\n      // Routes can be added after the triggerRoutes with the Backbone.Router API\n      Backbone.Router.apply(this, arguments);\n\n      this._initRoutes();\n    },\n\n\n    /**\n     * The Radio Channel name.\n     *\n     * @type {String}\n     * @default 'event-router'\n     */\n    channelName: 'event-router',\n\n    /**\n     * Get the router's Radio channel instance\n     *\n     * @public\n     * @method getChannel\n     * @memberOf EventRouter\n     * @returns {Backbone.Radio.Channel}\n     */\n    getChannel: function getChannel() {\n      return this._ch;\n    },\n\n\n    /**\n     * For each routeTrigger it adds a route to Backbone.Router\n     *\n     * @private\n     * @method _initRoutes\n     * @memberOf EventRouter\n     */\n    _initRoutes: function _initRoutes() {\n      this._routeTriggers = _.result(this, 'routeTriggers', {});\n\n      _.each(this._routeTriggers, this._addRouteTrigger, this);\n    },\n\n\n    /**\n     * Adds a route(s) to Backbone.Router which on route triggers\n     * the appropriate event\n     *\n     * @private\n     * @method _addRouteTrigger\n     * @param {Array|String} routes - Route string or array of route strings\n     * @param {String} event - Event string to trigger on route\n     * @memberOf EventRouter\n     */\n    _addRouteTrigger: function _addRouteTrigger(routes, event) {\n      // handle any route as an array by default for the _.each\n      routes = _.isArray(routes) ? routes : [routes];\n\n      _.each(routes, function (route) {\n        this.route(route, event, _.bind(this._ch.trigger, this._ch, event));\n      }, this);\n    },\n\n\n    /**\n     * Adds a routeTrigger, and route(s) to Backbone.Router\n     * which on route triggers the appropriate event.\n     *\n     * @public\n     * @method addRouteTrigger\n     * @param {Array|String} routes - Route string or array of route strings\n     * @param {String} event - Event string to trigger on route\n     * @memberOf EventRouter\n     * @returns {EventRouter}\n     */\n    addRouteTrigger: function addRouteTrigger(routes, event) {\n      this._routeTriggers[event] = routes;\n      this._addRouteTrigger(routes, event);\n\n      return this;\n    },\n\n\n    /**\n     * Overrides `Backbone.Router.route()\n     * Like Backbone.Router.Route but with before events\n     * It also temporarily stores the event for understanding\n     * what route is currently being handled.\n     *\n     * @public\n     * @method route\n     * @param {String} route - Route string\n     * @param {String} [name] - Name of route\n     * @param {String} callback - Function called on route\n     * @event EventRouter#before:route - passes route name and route arguments\n     * @event EventRouter#before:route:{event_name} - passes route arguments\n     * @memberOf EventRouter\n     * @returns {EventRouter}\n     */\n    route: function route(_route, name, callback) {\n      var bbRoute = Backbone.Router.prototype.route;\n\n      if (_.isFunction(name) || !callback) {\n        return bbRoute.call(this, _route, name, callback);\n      }\n\n      var wrappedCallback = _.bind(function () {\n        var args = _.drop(arguments, 0);\n\n        // Trigger before: events that match currently triggered events\n        this.trigger('before:route', name, args);\n        this.trigger.apply(this, ['before:route:' + name].concat(args));\n\n        this._storeRouteTrigger([name].concat(args));\n        callback.apply(this, args);\n        this._clearRouteTrigger();\n      }, this);\n\n      return bbRoute.call(this, _route, name, wrappedCallback);\n    },\n\n\n    /**\n     * Stores the route name and route arguments on a stack\n     *\n     * @private\n     * @method _storeRouteTrigger\n     * @param {Array} args - Array of route name and route arguments\n     * @memberOf EventRouter\n     */\n    _storeRouteTrigger: function _storeRouteTrigger(args) {\n      this._routeArgs = this._routeArgs || [];\n      this._routeArgs.push(args);\n    },\n\n\n    /**\n     * Gets the top of the triggered route store stack\n     *\n     * @private\n     * @method _getCurrentRouteTrigger\n     * @memberOf EventRouter\n     * @returns {Array}\n     */\n    _getCurrentRouteTrigger: function _getCurrentRouteTrigger() {\n      return _.last(this._routeArgs) || [];\n    },\n\n\n    /**\n     * Pops the latests route triggered off of the store stack\n     *\n     * @private\n     * @method _clearRouteTrigger\n     * @memberOf EventRouter\n     */\n    _clearRouteTrigger: function _clearRouteTrigger() {\n      this._routeArgs.pop();\n    },\n\n\n    /**\n     * Checks to see if the current event being tests is the latest\n     * route being handled by comparing the route name and arguments\n     *\n     * @private\n     * @method _isTriggeredFromRoute\n     * @memberOf EventRouter\n     * @returns {Boolean}\n     */\n    _isTriggeredFromRoute: function _isTriggeredFromRoute() {\n      var currentRoute = this._getCurrentRouteTrigger();\n\n      if (arguments.length !== currentRoute.length) {\n        return false;\n      }\n\n      return arguments.length === _.union(arguments, this.currentRoute).length;\n    },\n\n\n    /**\n     * Takes a event string and any arguments passed to that event\n     * And if not initiated by a route, translates the event into a\n     * URL and navigates to it without re-triggering the route\n     *\n     * @public\n     * @method navigateFromEvent\n     * @param {String} event - Event string\n     * @event EventRouter#noMatch - passes route arguments\n     * @memberOf EventRouter\n     * @returns {EventRouter}\n     */\n    navigateFromEvent: function navigateFromEvent(event) {\n      var route = this.getDefaultRoute(event);\n\n      // if no matching route exists do nothing\n      if (!route) {\n        var args = _.drop(arguments, 0);\n        this.trigger.apply(this, ['noMatch'].concat(args));\n        return this;\n      }\n\n      if (this._isTriggeredFromRoute.apply(this, arguments)) {\n        return this;\n      }\n\n      var eventArgs = _.drop(arguments, 1);\n\n      var translatedRoute = this.translateRoute(route, eventArgs);\n\n      // update URL without triggering the route\n      return this.navigate(translatedRoute, { trigger: false });\n    },\n\n\n    /**\n     * Get the default route string\n     * Either the first of the array or the passed in event if singular\n     *\n     * @public\n     * @method getDefaultRoute\n     * @memberOf EventRouter\n     * @returns {String}\n     */\n    getDefaultRoute: function getDefaultRoute(event) {\n      var routes = this._routeTriggers[event];\n\n      return _.isArray(routes) ? routes[0] : routes;\n    },\n\n\n    /**\n     * Finds the next name params (ie: :param) and replaces it with the arg\n     *\n     * @private\n     * @method _replaceParam\n     * @param {String} route - Route string\n     * @param {String|Number} arg - value to replace named param\n     * @memberOf EventRouter\n     * @returns {String}\n     */\n    _replaceParam: function _replaceParam(route, arg) {\n      return route.replace(namedParamRegex, arg);\n    },\n\n\n    /**\n     * Takes a route string and an array or arguments\n     * and returns a url with the named params replaced with the argument values\n     *\n     * @public\n     * @method translateRoute\n     * @param {String} route - Route string\n     * @param {Array} eventArgs - Passed event arguments\n     * @memberOf EventRouter\n     * @returns {String}\n     */\n    translateRoute: function translateRoute(route, eventArgs) {\n      return _.reduce(eventArgs, this._replaceParam, route);\n    }\n  });\n\n  return EventRouter;\n\n}));\n\n"],"names":["AppEventRouter","EventRouter","initialize","this","cid","uniqueId","route","arguments","Backbone","destroy","reject","stopListening","trigger","_isTriggeredFromRoute","currentRoute","_getCurrentRouteTrigger","length","union","App","routerAppName","constructor","initRouter","listenTo","router","onNoMatch","on","stopCurrent","_routes","result","routeTriggers","getRouteTriggers","bindRouteEvents","stop","_currentRoute","currentWorkspace","Radio","reduce","_ref","eventName","root","workspace","get","getEventActions","eventRoutes","routeAction","eventActions","_ref2","action","partial","getChannel","event","isRunning","start","_len","args","Array","_key","triggerMethod","setLatestList","eventArgs","isFunction","apply","isList","clearLatestList","startCurrent","appName","options","_currentAppName","_currentAppOptions","extend","app","startChildApp","_current","startRoute","isCurrent","getCurrent","getCurrentRoute","isEqual","translateEvent","getDefaultRoute","translateRoute","rest","replaceRoute","url","replaceUrl","navigateRoute","replace","Behavior","ui","iframe","onInitialize","channel","view","model","id","replies","send","message","undefined","contentWindow","postMessage","window","origin","focus","onAttach","reply","$","originalEvent","data","request","onBeforeDetach","off","stopReplying","keys","join","getRelationship","type","token","setToken","tokenString","getToken","LoginView","View","date","submit","triggers","modelEvents","template","_Handlebars2","container","depth0","helpers","partials","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop","onChangeDate","dob","val","set","prop","onBlurDate","hasError","ResponseErrorView","NotAvailableView","DialogView","templateContext","name","appConfig","regions","content","ErrorView","onStart","actionId","dialogView","showLogin","getRegion","showView","region","loginView","getState","uuid","attributes","reason","birth_date","relationships","fetcher","method","JSON","stringify","then","handleJSON","Promise","resolve","isAuthed","catch","response","status","setState","show","iFrameFormView","behaviors","IframeFormBehavior","formAction","SaveView","isDisabled","tagName","className","disabled","getOption","onClick","$el","beforeStart","onFail","showChildView","form","definition","fields","setView","startService","showFormSaveDisabled","showFormSave","submitForm","getFormPrefill","formData","split","formSubmission","getContext","isReadOnly","saveView","_ref3","_ref4","formId","postResponse","async","responseData","res","json","errors","map","OptInView","alias4","firstName","lastName","phone","email","onRender","setSubmitButtonState","onChangeFirstName","onChangeLastName","onChangeDob","onChangePhone","onChangeEmail","disableSubmitButton","enableSubmitButton","onClickSubmit","ResponseSuccessView","StateModel","defaults","showOptInView","optInView","inputData","first_name","last_name","optInPostRequest","showResponseSuccessView","showResponseErrorView","responseSuccessView","responseErrorView","OutreachApp","RouterApp","childApps","login","LoginApp","FormApp","optIn","OptInApp","showOptIn","startLogin","loginApp","startForm","startOutreachApp","attr","el","document","getElementById","pushState","module","exports","_","backbone_radio","namedParamRegex","Router","pick","_ch","navigateFromEvent","_initRoutes","channelName","_routeTriggers","each","_addRouteTrigger","routes","isArray","bind","addRouteTrigger","_route","callback","bbRoute","wrappedCallback","drop","concat","_storeRouteTrigger","_clearRouteTrigger","_routeArgs","push","last","pop","translatedRoute","navigate","_replaceParam","arg","factory"],"sourceRoot":""}