{"version":3,"file":"20240916-build-matchers-array-CySF6p2i.js","sources":["../src/js/views/shared/components/list-search/list-search_views.js","../src/js/views/shared/components/list-search/index.js","../src/js/utils/formatting/build-matchers-array.js"],"sourcesContent":["import { View } from 'marionette';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/forms.scss';\n\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\n\nimport './list-search-component.scss';\n\nconst InputTemplate = hbs`\n  <span class=\"list-search__search-icon\">{{far \"magnifying-glass\"}}</span>\n  <input\n    class=\"list-search__input input-primary--small js-input w-100\"\n    type=\"text\"\n    placeholder=\"{{@intl.shared.components.listSearch.listSearchViews.placeholder}}\"\n    value=\"{{query}}\"\n  />\n  <span class=\"list-search__clear-icon js-clear {{#unless query}}is-hidden{{/unless}}\">{{fas \"circle-xmark\"}}</span>\n`;\n\nconst SearchView = View.extend({\n  behaviors: {\n    InputWatcherBehavior,\n  },\n  className() {\n    const query = this.getOption('state').query;\n\n    if (query.length > 2) return 'list-search__container is-applied';\n\n    return 'list-search__container';\n  },\n  template: InputTemplate,\n  templateContext() {\n    return {\n      query: this.getOption('state').query,\n    };\n  },\n  ui: {\n    input: '.js-input',\n    clear: '.js-clear',\n  },\n  triggers: {\n    'click @ui.clear': 'clear',\n  },\n  onWatchChange(text) {\n    this.ui.clear.toggleClass('is-hidden', !text.length);\n    this.$el.toggleClass('is-applied', text.length > 2);\n  },\n  onClear() {\n    this.ui.input.val('');\n    this.ui.clear.addClass('is-hidden');\n    this.$el.removeClass('is-applied');\n  },\n});\n\nexport {\n  SearchView,\n};\n","import Backbone from 'backbone';\n\nimport Component from 'js/base/component';\n\nimport { SearchView } from './list-search_views';\n\nconst StateModel = Backbone.Model.extend({\n  defaults: {\n    query: '',\n  },\n});\n\nexport default Component.extend({\n  StateModel,\n  ViewClass: SearchView,\n  viewEvents: {\n    'watch:change': 'onViewWatchChange',\n    'clear': 'onViewClear',\n  },\n  onViewClear() {\n    this.setState('query', '');\n  },\n  onViewWatchChange(query) {\n    this.setState('query', query);\n  },\n});\n","import { map } from 'underscore';\n\nimport words from 'js/utils/formatting/words';\n\nexport default query => {\n  const searchWords = map(words(query), RegExp.escape);\n\n  return map(searchWords, function(word) {\n    return new RegExp(`\\\\b${ word }`, 'i');\n  });\n};\n"],"names":["InputTemplate","_Handlebars2","container","depth0","helpers","partials","data","stack1","helper","alias1","alias2","alias3","lookupProperty","parent","propertyName","SearchView","View","InputWatcherBehavior","text","StateModel","Backbone","SearchComponent","Component","query","buildMatchersArray","searchWords","map","words","word"],"mappings":"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"}